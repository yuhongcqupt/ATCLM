/** Copyright 2015 MathWorks, Inc. *///>>built
/*
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.

 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
*/
require({cache:{"findfiles-ui/FindFilesUi":function(){require("dojo/on dojo/dom dojo/dom-style dojo/dom-construct dojo/_base/lang dojo/_base/declare dojo/store/Memory findfiles-ui/js/MessageServiceHelperForFindFiles findfiles-ui/js/MessageType dijit/registry dijit/form/Form dgrid/OnDemandGrid dgrid/extensions/ColumnResizer dgrid/Keyboard dgrid/Selection MW/form/ComboBox MW/form/CheckBox MW/form/PushButton dojo/domReady!".split(" "),function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r){function v(a,b,d){for(var c=
a.get("items"),g=!1,m=b.length-1;0<=m;m--){var n=b[m],e;a:{for(e=0;e<c.length;e++)if(c[e].value===n.value&&c[e].label===n.label){e=!0;break a}e=!1}e||(g=!0,d?c.splice(d,0,n):c.push(n))}g&&(a.get("menu").destroyDescendants(),a._initMenuItems(c))}function w(a,b){b&&(v(a,[{value:b,label:b}]),a.set("value",b))}(new s({id:"filesNamedComboBox",items:[],value:"TEMP",width:419,editable:!0},"filesNamed")).startup();(new s({id:"filesContainingTextComboBox",items:[],value:"TEMP",width:419,editable:!0},"filesContainingText")).startup();
(new p({id:"matchCaseCheckBox",text:"Match case",checked:!1},"matchCase")).startup();(new p({id:"matchWholeWordCheckBox",text:"Matches whole word",checked:!1},"matchWholeWord")).startup();var y=[];["All files (*)","*.mlappinstall, *.mlx, *.fig, *.mat, *.m, *.slx, *.sldd, *.sltx, *.mltbx, *.mldatx, *.req, *.prj, *.mdl","*.m, *.mlx","*.mat","*.txt"].forEach(function(a){y.push({value:a,label:a})});(new s({id:"includeFileTypesComboBox",items:y,width:419,value:y[0].value},"includeFileTypes")).startup();
var A=[];["Current folder","Entire MATLAB path","Browse..."].forEach(function(a){A.push({value:a,label:a})});(new s({id:"lookInComboBox",items:A,width:419,value:A[0].value,editable:!0},"lookIn")).startup();(new p({id:"includeSubfoldersCheckBox",text:"Include subfolders",checked:!1},"includeSubfolders")).startup();(new r({id:"findButton",text:"Find"},"findButton")).startup();var z=new (k([u,n,t,q]))({columns:{fileName:"File Name",line:"Line",text:"Text"},selectionMode:"single",cellNavigation:!1},"searchResultsPanel");
(new p({id:"showFullPathNamesCheckBox",text:"Show full path names",checked:!1},"showFullPathNames")).startup();(new r({id:"closeButton",text:"Close"},"closeButton")).startup();(new r({id:"helpButton",text:"Help"},"helpButton")).startup();var B=!1,E=new h,x=null,D,F,G=f.byId("searchResultsLabel");f.byId("messageDisplay");var I=g.byId("findButton");a=g.byId("closeButton");k=g.byId("helpButton");var J=g.byId("filesNamedComboBox"),K=g.byId("filesContainingTextComboBox"),Q=g.byId("matchCaseCheckBox"),
C=g.byId("matchWholeWordCheckBox"),Y=g.byId("includeFileTypesComboBox"),O=g.byId("lookInComboBox"),N=g.byId("includeSubfoldersCheckBox"),L=g.byId("showFullPathNamesCheckBox");l(I,"click",function(a){if("Find"==I.get("text")){a=J.get("_textField").get("value");var b=K.get("_textField").get("value"),c=Q.get("checked"),g=C.get("checked"),m=!(-1<a.indexOf(".")),e=Y.get("value"),n=O.get("value"),k=N.get("checked");w(J,a);w(K,b);E.publish({action:d.FIND,fileName:a,fileText:b,matchCase:c,matchWholeWord:g,
includeFileTypesEnabled:m,includeFileTypes:e,lookIn:n,includeSubfolders:k})}else"Stop"==I.get("text")&&E.publish({action:d.STOP})});l(a,"click",function(a){E.publish({action:d.STOP});E.publish({action:d.CLOSE})});l(k,"click",function(a){E.publish({action:d.HELP})});L.on("change",function(a){a.mwEventData.newValue?z.set("store",F):z.set("store",D)});new h({messageType:d.SHOW_ERROR,callback:b.hitch(this,function(a){alert(a.errorMessage)})});new h({messageType:d.BEGIN_FIND,callback:b.hitch(this,function(){I.set("text",
"Stop");G.innerHTML="";D=new e({data:[]});F=new e({data:[]});z.set("store",L.get("checked")?F:D);x=setInterval(function(){z.refresh({keepScrollPosition:!0})},100)})});new h({messageType:d.ADD_TO_RESULTS_TABLE,callback:b.hitch(this,function(a){D.add({fileName:a.searchResultFileName,line:a.searchResultLine,text:a.searchResultText});F.add({fileName:a.searchResultFullPath,line:a.searchResultLine,text:a.searchResultText})})});new h({messageType:d.SET_SEARCH_LABEL,callback:b.hitch(this,function(a){G.innerHTML=
a.searchLabelText})});new h({messageType:d.SET_RESULTS_LABEL,callback:b.hitch(this,function(a){G.innerHTML=a.resultsLabelText})});new h({messageType:d.FINISH_FIND,callback:b.hitch(this,function(){clearInterval(x);z.refresh({keepScrollPosition:!0})})});new h({messageType:d.SET_MOUSE_CURSOR_TO_DEFAULT,callback:b.hitch(this,function(){})});new h({messageType:d.REPLACE_STOP_BUTTON_WITH_FIND_BUTTON,callback:b.hitch(this,function(){I.set("text","Find")})});new h({messageType:d.ADD_TO_LOOK_IN_COMBO_BOX,
callback:b.hitch(this,function(a){})});new h({messageType:d.UPDATE_LOOK_IN_EDITOR_OPTIONS,callback:b.hitch(this,function(a){a.includeEditorOptions&&!B?(v(O,[{value:"Editor - Current file's folder",label:"Editor - Current file's folder"},{value:"Editor - All open files",label:"Editor - All open files"}],1),B=!0):B&&(a=O.get("items"),a.splice(1,2),O.get("menu").destroyDescendants(),O._initMenuItems(a),O.set("value",A[0].value),B=!1)})});c.set(f.byId("loadingMask"),"display","none");E.publish({action:d.JS_LOADED})})},
"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(l,f,c){return l("dojo.store.Memory",null,{constructor:function(a){for(var b in a)this[b]=a[b];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:c,get:function(a){return this.data[this.index[a]]},getIdentity:function(a){return a[this.idProperty]},put:function(a,b){var c=this.data,e=this.index,h=this.idProperty,h=a[h]=b&&"id"in b?b.id:h in a?a[h]:Math.random();
if(h in e){if(b&&!1===b.overwrite)throw Error("Object already exists");c[e[h]]=a}else e[h]=c.push(a)-1;return h},add:function(a,b){(b=b||{}).overwrite=!1;return this.put(a,b)},remove:function(a){var b=this.index,c=this.data;if(a in b)return c.splice(b[a],1),this.setData(c),!0},query:function(a,b){return f(this.queryEngine(a,b)(this.data))},setData:function(a){a.items?(this.idProperty=a.identifier||this.idProperty,a=this.data=a.items):this.data=a;this.index={};for(var b=0,c=a.length;b<c;b++)this.index[a[b][this.idProperty]]=
b}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(l,f,c){var a=function(b){function k(k){b[k]=function(){var d=arguments,g=c(b,function(b){Array.prototype.unshift.call(d,b);return a(l[k].apply(l,d))});if("forEach"!==k||e)return g}}if(!b)return b;var e=!!b.then;e&&(b=f.delegate(b));k("forEach");k("filter");k("map");null==b.total&&(b.total=c(b,function(a){return a.length}));return b};f.setObject("dojo.store.util.QueryResults",a);
return a})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(l){return function(f,c){function a(a){a=l.filter(a,f);var b=c&&c.sort;b&&a.sort("function"==typeof b?b:function(a,c){for(var m,k=0;m=b[k];k++){var n=a[m.attribute],h=c[m.attribute],n=null!=n?n.valueOf():n,h=null!=h?h.valueOf():h;if(n!=h)return!!m.descending==(null==n||n>h)?-1:1}return 0});if(c&&(c.start||c.count)){var h=a.length;a=a.slice(c.start||0,(c.start||0)+(c.count||Infinity));a.total=h}return a}
switch(typeof f){default:throw Error("Can not query with a "+typeof f);case "object":case "undefined":var b=f;f=function(a){for(var c in b){var h=b[c];if(h&&h.test){if(!h.test(a[c],a))return!1}else if(h!=a[c])return!1}return!0};break;case "string":if(!this[f])throw Error("No filter function "+f+" was found in store");f=this[f];case "function":}a.matches=f;return a}})},"findfiles-ui/js/MessageServiceHelperForFindFiles":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/remote/MessageService"],
function(l,f,c){return l([],{_messageType:"",_callbackFunction:"",constructor:function(a){c.start();a&&(this.subscribe(f.hitch(this,this._handleResponse)),this._messageType=a.messageType,this._callbackFunction=a.callback)},publish:function(a){c.publish("/matlab/findFiles/fromJs",a)},subscribe:function(a){c.subscribe("/matlab/findFiles/fromJava",a)},_handleResponse:function(a){a=a.data;this._messageType===a.type&&this._callbackFunction(a)}})})},"MW/remote/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp ./Remote".split(" "),
function(l,f,c,a,b,k){var e=new a;a={messageService:e,subscribe:l.hitch(e,"subscribe"),unsubscribe:l.hitch(e,"unsubscribe"),publish:l.hitch(e,"publish"),start:l.hitch(e,"start"),stop:l.hitch(e,"stop"),isRunning:l.hitch(e,"isStarted"),isStarted:l.hitch(e,"isStarted"),isConnected:l.hitch(e,"isConnected"),isFatallyDisconnected:l.hitch(e,"isFatallyDisconnected"),isDisconnected:l.hitch(e,"isDisconnected"),setLatency:l.hitch(e,"setLatency"),setErrorRate:l.hitch(e,"setErrorRate"),onConnected:function(){},
onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:l.hitch(e,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};f.after(e,"onConnected",l.hitch(a,"onConnected"),!0);f.after(e,"onDisconnected",l.hitch(a,"onDisconnected"),!0);f.after(e,"onReconnected",
l.hitch(a,"onReconnected"),!0);f.after(e,"onFatallyDisconnected",l.hitch(a,"onFatallyDisconnected"),!0);f.after(e,"onNotConnected",l.hitch(a,"onNotConnected"),!0);var h=k.enableServerOnWorkerAsync;k.enableServerOnWorkerAsync=function(){h();e.setDelegate(new c(k))};var d=k.disableServerOnWorkerAsync;k.disableServerOnWorkerAsync=function(){d();e.setDelegate(new b(k,e))};k.isServerOnWorkerAsyncEnabled()?k.enableServerOnWorkerAsync():k.disableServerOnWorkerAsync();return a})},"MW/remote/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension MW/Log ../iframeproxy/IframeProxyClient".split(" "),
function(l,f,c,a,b,k,e,h){var d;b.JSON.toJSON=c.stringify;b.JSON.fromJSON=c.parse;var g=0,m=0,u={};setInterval(function(){g+=200;Object.keys(u).forEach(function(a){var b=u[a];b.execTime<=g&&(b.func(),delete u[a])})},200);var n=function(a,c){var n=new b.LongPollingTransport,n=b.Transport.derive(n);n.xhrSend=function(a){var b=c.sendMessage(a.body,a.url,{headers:a.headers});b.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){b.cancel()}}};var e=new b.Cometd(a),f=b.Utils.setTimeout;
b.Utils.setTimeout=function(a,b,c){if(0===c)return f(a,b,c);m+=1;u[m]={func:function(){try{b()}catch(a){e._debug("Exception invoking timed function",b,a)}},execTime:g+c};return m};b.Utils.clearTimeout=function(a){delete u[a]};b.WebSocket=h.WebSocket;h.WebSocket.proxyClient=c;e.registerExtension("ack",new k);b.WebSocket&&(d.enableWebsocket||0<=location.search.indexOf("websocket\x3don"))&&e.registerTransport("websocket",new b.WebSocketTransport,0);e.registerTransport("long-polling",n,1);return e};d=
l([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(a,b,c,d){this.remote=a;this.constructCometD=b||n;this.cometdProperties=d||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this.workerProxyAsyncClient=c||new h("remoteWorkerAsyncProducer");var g=this;f.after(this.workerProxyAsyncClient,"onError",function(a){g.cometd&&(g.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to IFrame error."),
g.cometd.disconnect());g.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){g._deferredCleanup=!1;g.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=d.workerHostOverride||this.remote.getWorkerRoutingHost();this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,
this.computeToken);var b=this.constructCometD("messageService",this.workerProxyAsyncClient);this.cometd=b;this.logCometdLifecycle&&e.info("MessageServiceAsync constructing new cometd instance.");var c=this._createOneShotMessagePromise("/meta/handshake"),g=this,m=new a;c.then(function(a){g.logCometdLifecycle&&e.info("MessageServiceAsync cometd handshake successful.",a,b.getClientId(),b);b.isDisconnected()?(e.error("MessageServiceAsync cometd handshake successful but still disconnected!"),b.disconnect(),
m.reject(a)):m.resolve(a)},function(a){g.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to handshake failure.",a,b.getClientId(),b);b.disconnect();m.reject(a)});this.cometdProperties.url=this._getEndpoint();b.init(this.cometdProperties);return m.promise},disconnect:function(){this.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");this.cometd.disconnect();
return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var c=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return c},doSubscribe:function(a){this.logCometdSubscriptions&&
e.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(b){if(this.subscriptions[b]){this.logCometdSubscriptions&&e.info("MessageServiceAsync unsubscribing cometd from channel: "+b);var c=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[b]);delete this.subscriptions[b];
return c}return(new a).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(b){var c=new a;this._addOneShotListener(b,function(a){a.successful?c.resolve(a):(e.warn("Message failed: ",a),c.reject(a))});return c.promise},_addOneShotListener:function(a,b){var c=this,d=this.cometd,g;g=this.cometd.addListener(a,function(a){d.removeListener(g);b.apply(c,arguments)})},_getEndpoint:function(){return this.routingHost+
this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});d.enableWebsocket=!1;d.workerHostOverride=!1;return d})},"dojox/cometd/cometd":function(){define(function(){var l=this.org=this.org||{};l.cometd={};l.cometd.JSON={};l.cometd.JSON.toJSON=l.cometd.JSON.fromJSON=function(f){throw"Abstract";};l.cometd.Utils={};l.cometd.Utils.isString=
function(f){return void 0===f||null===f?!1:"string"===typeof f||f instanceof String};l.cometd.Utils.isArray=function(f){return void 0===f||null===f?!1:f instanceof Array};l.cometd.Utils.inArray=function(f,c){for(var a=0;a<c.length;++a)if(f===c[a])return a;return-1};l.cometd.Utils.setTimeout=function(f,c,a){return window.setTimeout(function(){try{c()}catch(a){f._debug("Exception invoking timed function",c,a)}},a)};l.cometd.Utils.clearTimeout=function(f){window.clearTimeout(f)};l.cometd.TransportRegistry=
function(){var f=[],c={};this.getTransportTypes=function(){return f.slice(0)};this.findTransportTypes=function(a,b,k){for(var e=[],h=0;h<f.length;++h){var d=f[h];!0===c[d].accept(a,b,k)&&e.push(d)}return e};this.negotiateTransport=function(a,b,k,e){for(var h=0;h<f.length;++h)for(var d=f[h],g=0;g<a.length;++g)if(d===a[g]){var m=c[d];if(!0===m.accept(b,k,e))return m}return null};this.add=function(a,b,k){for(var e=!1,h=0;h<f.length;++h)if(f[h]===a){e=!0;break}e||("number"!==typeof k?f.push(a):f.splice(k,
0,a),c[a]=b);return!e};this.find=function(a){for(var b=0;b<f.length;++b)if(f[b]===a)return c[a];return null};this.remove=function(a){for(var b=0;b<f.length;++b)if(f[b]===a)return f.splice(b,1),b=c[a],delete c[a],b;return null};this.clear=function(){f=[];c={}};this.reset=function(){for(var a=0;a<f.length;++a)c[f[a]].reset()}};l.cometd.Transport=function(){var f,c;this.registered=function(a,b){f=a;c=b};this.unregistered=function(){c=f=null};this._debug=function(){c._debug.apply(c,arguments)};this._mixin=
function(){return c._mixin.apply(c,arguments)};this.getConfiguration=function(){return c.getConfiguration()};this.getAdvice=function(){return c.getAdvice()};this.setTimeout=function(a,b){return l.cometd.Utils.setTimeout(c,a,b)};this.clearTimeout=function(a){l.cometd.Utils.clearTimeout(a)};this.convertToMessages=function(a){if(l.cometd.Utils.isString(a))try{return l.cometd.JSON.fromJSON(a)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+a+'"'),b;}if(l.cometd.Utils.isArray(a))return a;
if(void 0===a||null===a)return[];if(a instanceof Object)return[a];throw"Conversion Error "+a+", typeof "+typeof a;};this.accept=function(a,b,c){throw"Abstract";};this.getType=function(){return f};this.send=function(a,b){throw"Abstract";};this.reset=function(){this._debug("Transport",f,"reset")};this.abort=function(){this._debug("Transport",f,"aborted")};this.toString=function(){return this.getType()}};l.cometd.Transport.derive=function(f){function c(){}c.prototype=f;return new c};l.cometd.RequestTransport=
function(){function f(a){for(;0<m.length;){var b=m[0],c=b[0],b=b[1];if(c.url===a.url&&c.sync===a.sync)m.shift(),a.messages=a.messages.concat(c.messages),this._debug("Coalesced",c.messages.length,"messages from request",b.id);else break}}function c(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var c=this.getConfiguration().maxNetworkDelay,d=c;!0===b.metaConnect&&(d+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",d,"ms for the response, maxNetworkDelay",c);
var g=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var c="Request "+b.id+" of transport "+g.getType()+" exceeded "+d+" ms max network delay";g._debug(c);g.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,a.messages,"timeout",c)},d)}}function a(a){var b=++h,d={id:b,metaConnect:!1};g.length<this.getConfiguration().maxConnections-1?(g.push(d),c.call(this,a,d)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),m.push([a,d]))}function b(b,c){var d=
l.cometd.Utils.inArray(b,g);0<=d&&g.splice(d,1);if(0<m.length){var d=m.shift(),e=d[0],k=d[1];this._debug("Transport dequeued request",k.id);if(c)this.getConfiguration().autoBatch&&f.call(this,e),a.call(this,e),this._debug("Transport completed request",b.id,e);else{var h=this;this.setTimeout(function(){h.complete(k,!1,k.metaConnect);e.onFailure(k.xhr,e.messages,"error","Previous request failed")},0)}}}var k=new l.cometd.Transport,e=l.cometd.Transport.derive(k),h=0,d=null,g=[],m=[];e.complete=function(a,
c,g){if(g){a=a.id;this._debug("Transport",this.getType(),"metaConnect complete, request",a);if(null!==d&&d.id!==a)throw"Longpoll request mismatch, completing request "+a;d=null}else b.call(this,a,c)};e.transportSend=function(a,b){throw"Abstract";};e.transportSuccess=function(a,b,c){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),c&&0<c.length)a.onSuccess(c);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};e.transportFailure=function(a,b,c,d){b.expired||(this.clearTimeout(b.timeout),
this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,c,d))};e.send=function(b,g){if(g){if(null!==d)throw"Concurrent metaConnect requests not allowed, request id\x3d"+d.id+" not yet completed";var m=++h;this._debug("Transport",this.getType(),"metaConnect send, request",m,"envelope",b);m={id:m,metaConnect:!0};c.call(this,b,m);d=m}else a.call(this,b)};e.abort=function(){k.abort();for(var a=0;a<g.length;++a){var b=g[a];this._debug("Aborting request",b);b.xhr&&b.xhr.abort()}d&&(this._debug("Aborting metaConnect request",
d),d.xhr&&d.xhr.abort());this.reset()};e.reset=function(){k.reset();d=null;g=[];m=[]};return e};l.cometd.LongPollingTransport=function(){var f=new l.cometd.RequestTransport,c=l.cometd.Transport.derive(f),a=!0;c.accept=function(b,c,e){return a||!c};c.xhrSend=function(a){throw"Abstract";};c.transportSend=function(b,c){this._debug("Transport",this.getType(),"sending request",c.id,"envelope",b);var e=this;try{var h=!0;c.xhr=this.xhrSend({transport:this,url:b.url,sync:b.sync,headers:this.getConfiguration().requestHeaders,
body:l.cometd.JSON.toJSON(b.messages),onSuccess:function(d){e._debug("Transport",e.getType(),"received response",d);var m=!1;try{var h=e.convertToMessages(d);0===h.length?(a=!1,e.transportFailure(b,c,"no response",null)):(m=!0,e.transportSuccess(b,c,h))}catch(n){e._debug(n),m||(a=!1,e.transportFailure(b,c,"bad response",n))}},onError:function(d,m){a=!1;h?e.setTimeout(function(){e.transportFailure(b,c,d,m)},0):e.transportFailure(b,c,d,m)}});h=!1}catch(d){a=!1,this.setTimeout(function(){e.transportFailure(b,
c,"error",d)},0)}};c.reset=function(){f.reset();a=!0};return c};l.cometd.CallbackPollingTransport=function(){var f=new l.cometd.RequestTransport,f=l.cometd.Transport.derive(f);f.accept=function(c,a,b){return!0};f.jsonpSend=function(c){throw"Abstract";};f.transportSend=function(c,a){for(var b=this,k=0,e=c.messages.length,h=[];0<e;){var d=l.cometd.JSON.toJSON(c.messages.slice(k,k+e)),d=c.url.length+encodeURI(d).length;if(2E3<d){if(1===e){var g="Bayeux message too big ("+d+" bytes, max is 2000) for transport "+
this.getType();this.setTimeout(function(){b.transportFailure(c,a,"error",g)},0);return}--e}else h.push(e),k+=e,e=c.messages.length-k}var m=c;if(1<h.length){k=0;e=h[0];this._debug("Transport",this.getType(),"split",c.messages.length,"messages into",h.join(" + "));m=this._mixin(!1,{},c);m.messages=c.messages.slice(k,e);m.onSuccess=c.onSuccess;m.onFailure=c.onFailure;for(d=1;d<h.length;++d){var f=this._mixin(!1,{},c),k=e,e=e+h[d];f.messages=c.messages.slice(k,e);f.onSuccess=c.onSuccess;f.onFailure=c.onFailure;
this.send(f,a.metaConnect)}}this._debug("Transport",this.getType(),"sending request",a.id,"envelope",m);try{var n=!0;this.jsonpSend({transport:this,url:m.url,sync:m.sync,headers:this.getConfiguration().requestHeaders,body:l.cometd.JSON.toJSON(m.messages),onSuccess:function(c){var d=!1;try{var g=b.convertToMessages(c);0===g.length?b.transportFailure(m,a,"no response"):(d=!0,b.transportSuccess(m,a,g))}catch(e){b._debug(e),d||b.transportFailure(m,a,"bad response",e)}},onError:function(c,d){n?b.setTimeout(function(){b.transportFailure(m,
a,c,d)},0):b.transportFailure(m,a,c,d)}});n=!1}catch(t){this.setTimeout(function(){b.transportFailure(m,a,"error",t)},0)}};return f};l.cometd.WebSocketTransport=function(){function f(){var a=e.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,c=null,d=e.getConfiguration().connectTimeout;0<d&&(c=this.setTimeout(function(){c=null;n||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",d,"ms"),b.onClose(1002,"Connect Timeout"))},
d));var g=new l.cometd.WebSocket(a),m=function(a){var d=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",d,"/",a,g);c&&(b.clearTimeout(c),c=null);if(g!==u)b._debug("Ignoring close event, WebSocket",u);else b.onClose(d,a)};g.onopen=function(){b._debug("WebSocket opened",g);c&&(b.clearTimeout(c),c=null);if(g!==u)b._debug("Ignoring open event, WebSocket",u);else b.onOpen()};g.onclose=m;g.onerror=function(){m({code:1002})};g.onmessage=function(a){b._debug("WebSocket message",a,g);if(g!==u)b._debug("Ignoring message event, WebSocket",
u);else b.onMessage(a)};u=g;this._debug("Transport",this.getType(),"configured callbacks on",g)}function c(a,b){var c=l.cometd.JSON.toJSON(a.messages);u.send(c);this._debug("Transport",this.getType(),"sent",a,"metaConnect \x3d",b);var d=c=this.getConfiguration().maxNetworkDelay;b&&(d+=this.getAdvice().timeout,t=!0);for(var g=[],e=0;e<a.messages.length;++e){var h=a.messages[e];if(h.id){g.push(h.id);var n=u;m[h.id]=this.setTimeout(function(){n&&n.close(1E3,"Timeout")},d)}}this._debug("Transport",this.getType(),
"waiting at most",d,"ms for messages",g,"maxNetworkDelay",c,", timeouts:",m)}function a(a,b){try{null===u?f.call(this):n&&c.call(this,a,b)}catch(d){var g=u;this.setTimeout(function(){a.onFailure(g,a.messages,"error",d)},0)}}var b=new l.cometd.Transport,k=l.cometd.Transport.derive(b),e,h=!0,d=!1,g={},m={},u=null,n=!1,t=!1,q;k.onOpen=function(){this._debug("Transport",this.getType(),"opened",u);d=n=!0;this._debug("Sending pending messages",g);for(var a in g){var b=g[a],m=b[0],b=b[1];q=m.onSuccess;c.call(this,
m,b)}};k.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,u);var b=!1;a=this.convertToMessages(a.data);for(var c=[],d=0;d<a.length;++d){var e=a[d];if((/^\/meta\//.test(e.channel)||void 0===e.data)&&e.id){c.push(e.id);var h=m[e.id];h&&(this.clearTimeout(h),delete m[e.id],this._debug("Transport",this.getType(),"removed timeout for message",e.id,", timeouts",m))}"/meta/connect"===e.channel&&(t=!1);"/meta/disconnect"===e.channel&&!t&&(b=!0)}d=!1;for(e=0;e<c.length;++e){var n=
c[e],k;for(k in g){var h=k.split(","),f=l.cometd.Utils.inArray(n,h);if(0<=f){d=!0;h.splice(f,1);n=g[k][0];f=g[k][1];delete g[k];0<h.length&&(g[h.join(",")]=[n,f]);break}}}d&&this._debug("Transport",this.getType(),"removed envelope, envelopes",g);q.call(this,a);b&&u.close(1E3,"Disconnect")};k.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,u);h=d;for(var c in m)this.clearTimeout(m[c]);m={};for(var e in g)c=g[e][0],g[e][1]&&(t=!1),c.onFailure(u,c.messages,"closed "+a+"/"+b);
g={};null!==u&&n&&u.close(1E3,"Close");n=!1;u=null};k.registered=function(a,c){b.registered(a,c);e=c};k.accept=function(a,b,c){return h&&!!l.cometd.WebSocket&&!1!==e.websocketEnabled};k.send=function(b,c){this._debug("Transport",this.getType(),"sending",b,"metaConnect \x3d",c);for(var d=[],m=0;m<b.messages.length;++m){var e=b.messages[m];e.id&&d.push(e.id)}g[d.join(",")]=[b,c];this._debug("Transport",this.getType(),"stored envelope, envelopes",g);a.call(this,b,c)};k.abort=function(){b.abort();if(null!==
u)try{u.close(1001)}catch(a){this._debug(a)}this.reset()};k.reset=function(){b.reset();null!==u&&n&&u.close(1E3,"Reset");h=!0;d=!1;m={};g={};u=null;n=!1;q=null};return k};l.cometd.Cometd=function(f){function c(a){return l.cometd.Utils.isString(a)}function a(a){return void 0===a||null===a?!1:"function"===typeof a}function b(b,c){if(window.console){var d=window.console[b];a(d)&&d.apply(window.console,c)}}function k(){for(var a in S)for(var b=S[a],c=b.length-1;0<=c;--c){var d=b[c];d&&!d.listener&&(b.splice(c,
1),C._debug("Removed subscription",d,"for channel",a))}}function e(a){U!==a&&(C._debug("Status",U,"-\x3e",a),U=a)}function h(){return"disconnecting"===U||"disconnected"===U}function d(b,c,d,g,m){try{return c.call(b,g)}catch(e){C._debug("Exception during execution of extension",d,e);b=C.onExtensionException;if(a(b)){C._debug("Invoking extension exception callback",d,e);try{b.call(C,e,d,m,g)}catch(h){C._info("Exception during execution of exception callback in extension",d,h)}}return g}}function g(b){for(var c=
0;c<P.length&&!(void 0===b||null===b);++c){var g=P[c],e=g.extension.outgoing;a(e)&&(g=d(g.extension,e,g.name,b,!0),b=void 0===g?b:g)}return b}function m(b,c){var d=S[b];if(d&&0<d.length)for(var g=d.length-1;0<=g;--g){var e=d[g];try{e.callback.call(e.scope,c)}catch(m){C._debug("Exception during notification",e,c,m);var h=C.onListenerException;if(a(h)){C._debug("Invoking listener exception callback",e,m);try{h.call(C,m,e.handle,e.listener,c)}catch(n){C._info("Exception during execution of listener callback",
e,n)}}}}}function u(a,b){m(a,b);for(var c=a.split("/"),d=c.length-1,g=d;0<g;--g){var e=c.slice(0,g).join("/")+"/*";g===d&&m(e,b);e+="*";m(e,b)}}function n(){null!==Z&&l.cometd.Utils.clearTimeout(Z);Z=null}function t(a){n();var b=R.interval+M;C._debug("Function scheduled in",b,"ms, interval \x3d",R.interval,"backoff \x3d",M,a);Z=l.cometd.Utils.setTimeout(C,a,b)}function q(b,c,d,e){for(var m=0;m<c.length;++m){var h=c[m];h.id=""+ ++fa;V&&(h.clientId=V);var n=void 0;a(h._callback)&&(n=h._callback,delete h._callback);
h=g(h);void 0!==h&&null!==h?(c[m]=h,n&&($[h.id]=n)):c.splice(m--,1)}0!==c.length&&(m=H.url,H.appendMessageTypeToURL&&(m.match(/\/$/)||(m+="/"),e&&(m+=e)),b={url:m,sync:b,messages:c,onSuccess:function(a){try{ea.call(C,a)}catch(b){C._debug("Exception during handling of messages",b)}},onFailure:function(a,b,c,d){try{aa.call(C,a,b,c,d)}catch(g){C._debug("Exception during handling of failure",g)}}},C._debug("Send",b),L.send(b,d))}function s(a){0<T||!0===X?W.push(a):q(!1,[a],!1)}function p(){var a=W;W=
[];0<a.length&&q(!1,a,!1)}function r(){e("connecting");t(function(){if(!h()){var a={channel:"/meta/connect",connectionType:L.getType()};ba||(a.advice={timeout:0});e("connecting");C._debug("Connect sent",a);q(!1,[a],!0,"connect");e("connected")}})}function v(a){a&&(R=C._mixin(!1,{},H.advice,a),C._debug("New advice",R))}function w(a){n();a&&L.abort();V=null;e("disconnected");M=T=0;0<W.length&&(aa.call(C,void 0,W,"error","Disconnected"),W=[])}function y(a){V=null;k();h()?(N.reset(),v(H.advice)):v(C._mixin(!1,
R,{reconnect:"retry"}));T=0;X=!0;ca=a;a=N.findTransportTypes("1.0",O,H.url);var b=C._mixin(!1,{},ca,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:a,advice:{timeout:R.timeout,interval:R.interval}});L=N.negotiateTransport(a,"1.0",O,H.url);C._debug("Initial transport is",L.getType());e("handshaking");C._debug("Handshake sent",b);q(!1,[b],!1,"handshake")}function A(){e("handshaking");X=!0;t(function(){y(ca)})}function z(a){u("/meta/handshake",a);u("/meta/unsuccessful",
a);!h()&&"none"!==R.reconnect?(M<H.maxBackoff&&(M+=H.backoffIncrement),A()):w(!1)}function B(a){u("/meta/connect",a);u("/meta/unsuccessful",a);a=h()?"none":R.reconnect;switch(a){case "retry":r();M<H.maxBackoff&&(M+=H.backoffIncrement);break;case "handshake":N.reset();M=0;A();break;case "none":w(!1);break;default:throw"Unrecognized advice action"+a;}}function E(a){w(!0);u("/meta/disconnect",a);u("/meta/unsuccessful",a)}function x(a){u("/meta/subscribe",a);u("/meta/unsuccessful",a)}function D(a){u("/meta/unsubscribe",
a);u("/meta/unsuccessful",a)}function F(b){var c=$[b.id];a(c)&&(delete $[b.id],c.call(C,b))}function G(a){F(a);u("/meta/publish",a);u("/meta/unsuccessful",a)}function I(b){for(var c=0;c<P.length&&!(void 0===b||null===b);++c){var g=P[H.reverseIncomingExtensions?P.length-1-c:c],e=g.extension.incoming;a(e)&&(g=d(g.extension,e,g.name,b,!1),b=void 0===g?b:g)}if(!(void 0===b||null===b))switch(v(b.advice),b.channel){case "/meta/handshake":if(b.successful){V=b.clientId;c=N.negotiateTransport(b.supportedConnectionTypes,
b.version,O,H.url);if(null===c)throw"Could not negotiate transport with server; client "+N.findTransportTypes(b.version,O,H.url)+", server "+b.supportedConnectionTypes;L!==c&&(C._debug("Transport",L,"-\x3e",c),L=c);X=!1;p();b.reestablish=da;da=!0;u("/meta/handshake",b);b=h()?"none":R.reconnect;switch(b){case "retry":M=0;r();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+b;}}else z(b);break;case "/meta/connect":if(ba=b.successful)switch(u("/meta/connect",b),b=h()?"none":R.reconnect,
b){case "retry":M=0;r();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+b;}else B(b);break;case "/meta/disconnect":b.successful?(w(!1),u("/meta/disconnect",b)):E(b);break;case "/meta/subscribe":b.successful?u("/meta/subscribe",b):x(b);break;case "/meta/unsubscribe":b.successful?u("/meta/unsubscribe",b):D(b);break;default:void 0===b.successful?void 0!==b.data&&null!==b.data?u(b.channel,b):C._debug("Unknown message",b):b.successful?(F(b),u("/meta/publish",b)):G(b)}}function J(a){if(a=
S[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function K(b,d){var g={scope:b,method:d};if(a(b))g.scope=void 0,g.method=b;else if(c(d)){if(!b)throw"Invalid scope "+b;g.method=b[d];if(!a(g.method))throw"Invalid callback "+d+" for scope "+b;}else if(!a(d))throw"Invalid callback "+d;return g}function Q(a,b,c,d){b=K(b,c);C._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);d={channel:a,scope:b.scope,callback:b.method,listener:d};b=S[a];b||(b=[],b.subscriptionCounter=
0,S[a]=b);b.push(d);c=b.subscriptionCounter;b.subscriptionCounter+=1;d.id=c;d.handle=[a,c];C._debug("Added listener",d,"for channel",a,"having id \x3d",c);return d.handle}var C=this,Y=f||"default",O=!1,N=new l.cometd.TransportRegistry,L,U="disconnected",fa=0,V=null,T=0,W=[],X=!1,S={},M=0,Z=null,P=[],R={},ca,$={},da=!1,ba=!1,H={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,
autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,b,c){for(var d=b||{},g=2;g<arguments.length;++g){var e=arguments[g];if(!(void 0===e||null===e))for(var m in e){var h=e[m],n=d[m];h!==b&&void 0!==h&&(d[m]=a&&"object"===typeof h&&null!==h?h instanceof Array?this._mixin(a,n instanceof Array?n:[],h):this._mixin(a,"object"===typeof n&&!(n instanceof Array)?n:{},h):h)}}return d};this._warn=function(){b("warn",arguments)};this._info=function(){"warn"!==H.logLevel&&b("info",
arguments)};this._debug=function(){"debug"===H.logLevel&&b("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var ea,aa;this.send=s;this.receive=I;ea=function(a){C._debug("Received",a);for(var b=0;b<a.length;++b)I(a[b])};aa=function(a,b,c,d){C._debug("handleFailure",a,b,c,d);for(c=0;c<b.length;++c){var g=b[c];switch(g.channel){case "/meta/handshake":z({successful:!1,failure:!0,channel:"/meta/handshake",request:g,xhr:a,advice:{reconnect:"retry",interval:M}});break;
case "/meta/connect":d=a;ba=!1;B({successful:!1,failure:!0,channel:"/meta/connect",request:g,xhr:d,advice:{reconnect:"retry",interval:M}});break;case "/meta/disconnect":E({successful:!1,failure:!0,channel:"/meta/disconnect",request:g,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":x({successful:!1,failure:!0,channel:"/meta/subscribe",request:g,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":D({successful:!1,failure:!0,channel:"/meta/unsubscribe",
request:g,xhr:a,advice:{reconnect:"none",interval:0}});break;default:G({successful:!1,failure:!0,channel:g.channel,request:g,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(b,c,d){if(d=N.add(b,c,d))this._debug("Registered transport",b),a(c.registered)&&c.registered(b,this);return d};this.getTransportTypes=function(){return N.getTransportTypes()};this.unregisterTransport=function(b){var c=N.remove(b);null!==c&&(this._debug("Unregistered transport",b),a(c.unregistered)&&
c.unregistered());return c};this.unregisterTransports=function(){N.clear()};this.findTransport=function(a){return N.find(a)};this.configure=function(a){C._debug("Configuring cometd object with",a);c(a)&&(a={url:a});a||(a={});H=C._mixin(!1,H,a);if(!H.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(H.url);a=b[8];var d=b[9];O=C._isCrossDomain(b[2]);H.appendMessageTypeToURL&&(void 0!==
d&&0<d.length?(C._info("Appending message type to URI "+a+d+" is not supported, disabling 'appendMessageTypeToURL' configuration"),H.appendMessageTypeToURL=!1):(b=a.split("/"),d=b.length-1,a.match(/\/$/)&&(d-=1),0<=b[d].indexOf(".")&&(C._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),H.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){e("disconnected");da=!1;y(a)};this.disconnect=
function(a,b){if(!h()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});e("disconnecting");q(!0===a,[c],!1,"disconnect")}};this.startBatch=function(){++T};this.endBatch=function(){--T;if(0>T)throw"Calls to startBatch() and endBatch() are not paired";0===T&&(!h()&&!X)&&p()};this.batch=function(a,b){var c=K(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),
d;}};this.addListener=function(a,b,d){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!c(a))throw"Illegal argument type: channel must be a string";return Q(a,b,d,!0)};this.removeListener=function(a){if(!l.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=S[a[0]],c;if(0<b.length){c=a[1];a:{for(var d=0;d<b.length;){if(b[d].id===c){c=d;break a}d+=1}c=-1}-1!==c&&(b.splice(c,1),C._debug("Removed listener",a))}};this.clearListeners=
function(){S={}};this.subscribe=function(b,d,g,e){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!c(b))throw"Illegal argument type: channel must be a string";if(h())throw"Illegal state: already disconnected";a(d)&&(e=g,g=d,d=void 0);var m=!J(b),n=Q(b,d,g,!1);m&&(m=this._mixin(!1,{},e,{channel:"/meta/subscribe",subscription:b}),s(m));return n};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;
if(h())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];J(c)||(c=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:c}),s(c))};this.clearSubscriptions=function(){k()};this.publish=function(b,d,g,e){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!c(b))throw"Illegal argument type: channel must be a string";if(h())throw"Illegal state: already disconnected";a(d)?(e=d,d=g={}):a(g)&&(e=g,g={});var m=this._mixin(!1,{},g,
{channel:b,data:d,_callback:e});s(m)};this.getStatus=function(){return U};this.isDisconnected=h;this.setBackoffIncrement=function(a){H.backoffIncrement=a};this.getBackoffIncrement=function(){return H.backoffIncrement};this.getBackoffPeriod=function(){return M};this.setLogLevel=function(a){H.logLevel=a};this.registerExtension=function(b,d){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!c(b))throw"Illegal argument type: extension name must be a string";
for(var g=!1,e=0;e<P.length;++e)if(P[e].name===b){g=!0;break}if(g)return this._info("Could not register extension with name",b,"since another extension with the same name already exists"),!1;P.push({name:b,extension:d});this._debug("Registered extension",b);a(d.registered)&&d.registered(b,this);return!0};this.unregisterExtension=function(b){if(!c(b))throw"Illegal argument type: extension name must be a string";for(var d=!1,g=0;g<P.length;++g){var e=P[g];if(e.name===b){P.splice(g,1);d=!0;this._debug("Unregistered extension",
b);b=e.extension;a(b.unregistered)&&b.unregistered();break}}return d};this.getExtension=function(a){for(var b=0;b<P.length;++b){var c=P[b];if(c.name===a)return c.extension}return null};this.getName=function(){return Y};this.getClientId=function(){return V};this.getURL=function(){return H.url};this.getTransport=function(){return L};this.getConfiguration=function(){return this._mixin(!0,{},H)};this.getAdvice=function(){return this._mixin(!0,{},R)};l.cometd.WebSocket=window.WebSocket;l.cometd.WebSocket||
(l.cometd.WebSocket=window.MozWebSocket)};return l.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(l){return l.AckExtension=function(){var f,c=!1,a=-1;this.registered=function(a,c){f=c;f._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){f._debug("AckExtension: executing unregistration callback",void 0);f=null};this.incoming=function(b){var k=b.channel;if("/meta/handshake"==k)c=b.ext&&b.ext.ack,f._debug("AckExtension: server supports acks",
c);else if(c&&"/meta/connect"==k&&b.successful&&(k=b.ext)&&"number"===typeof k.ack)a=k.ack,f._debug("AckExtension: server sent ack id",a);return b};this.outgoing=function(b){var k=b.channel;"/meta/handshake"==k?(b.ext||(b.ext={}),b.ext.ack=f&&!1!==f.ackEnabled,a=-1):c&&"/meta/connect"==k&&(b.ext||(b.ext={}),b.ext.ack=a,f._debug("AckExtension: client sending ack id",a));return b}}})},"MW/Log":function(){define("MW/Log",["dojo/date/locale"],function(l){return function(){function f(a){h&&(d||!k||!k.log)&&
h.apply(b,a)}function c(a){e[a]=function(){if(0!==g&&k&&k[a])if("assert"===a){if(!arguments[0])if(b.ScriptEngine){var c=Array.prototype.slice.call(arguments);c.shift();k[a](!1,c)}else k[a].apply(k,arguments)}else if(b.ScriptEngine)if(-1!==a.indexOf("profile"))k[a]();else k[a](arguments[0]);else k[a].apply(k,arguments)}}function a(a,c){e[c]=function(){var d=Array.prototype.slice.call(arguments),e=l.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),h=[c].concat(d),d=[e].concat(d);m.push(h);
m.length>u&&m.shift();f(h);if(k&&(0<g?g>a:n.length+g<=a))if(k.firebug&&"error"!==c)k[c].apply(b,d);else if(k[c])k[c](d);else k.log(d)}}var b=this,k=b.console,e={},h,d,g=9,m=[],u=25,n=["error","warn","info","debug","log"],t="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),q;for(q=t.length;0<=(q-=1);)c(t[q]);for(q=n.length;0<=(q-=1);)a(q,n[q]);e.setLevel=function(a){g="number"===typeof a?a:9};e.setCallback=function(a,b,c){var g=
m.length;h=a||null;d="boolean"===typeof b?b:!1;for(a=g-("number"===c?c:g);a<g;)f(m[a+=1])};return e}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(l,f,c,a,b,k,e,h,d){function g(b,c,d,g){return g.replace(/([a-z])\1*/ig,function(m){var h,k,f=m.charAt(0);m=m.length;var u=["abbr","wide","narrow"];switch(f){case "G":h=c[4>m?"eraAbbr":"eraNames"][0>b.getFullYear()?
0:1];break;case "y":h=b.getFullYear();switch(m){case 1:break;case 2:if(!d.fullYear){h=String(h);h=h.substr(h.length-2);break}default:k=!0}break;case "Q":case "q":h=Math.ceil((b.getMonth()+1)/3);k=!0;break;case "M":case "L":h=b.getMonth();3>m?(h+=1,k=!0):(f=["months","L"==f?"standAlone":"format",u[m-3]].join("-"),h=c[f][h]);break;case "w":h=n._getWeekOfYear(b,0);k=!0;break;case "d":h=b.getDate();k=!0;break;case "D":h=n._getDayOfYear(b);k=!0;break;case "e":case "c":if(h=b.getDay(),2>m){h=(h-a.getFirstDayOfWeek(d.locale)+
8)%7;break}case "E":h=b.getDay();3>m?(h+=1,k=!0):(f=["days","c"==f?"standAlone":"format",u[m-3]].join("-"),h=c[f][h]);break;case "a":f=12>b.getHours()?"am":"pm";h=d[f]||c["dayPeriods-format-wide-"+f];break;case "h":case "H":case "K":case "k":k=b.getHours();switch(f){case "h":h=k%12||12;break;case "H":h=k;break;case "K":h=k%12;break;case "k":h=k||24}k=!0;break;case "m":h=b.getMinutes();k=!0;break;case "s":h=b.getSeconds();k=!0;break;case "S":h=Math.round(b.getMilliseconds()*Math.pow(10,m-3));k=!0;
break;case "v":case "z":if(h=n._getZone(b,!0,d))break;m=4;case "Z":f=n._getZone(b,!1,d);f=[0>=f?"+":"-",e.pad(Math.floor(Math.abs(f)/60),2),e.pad(Math.abs(f)%60,2)];4==m&&(f.splice(0,0,"GMT"),f.splice(3,0,":"));h=f.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+g);}k&&(h=e.pad(h,m));return h})}function m(a,b,c,d){var g=function(a){return a};b=b||g;c=c||g;d=d||g;var e=a.match(/(''|[^'])+/g),m="'"==a.charAt(0);f.forEach(e,function(a,d){a?(e[d]=(m?c:b)(a.replace(/''/g,
"'")),m=!m):e[d]=""});return d(e.join(""))}function u(a,b,c,d){d=k.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var g;g=d.charAt(0);var e=d.length,m="",h="";c.strict?(1<e&&(m="0{"+(e-1)+"}"),2<e&&(h="0{"+(e-2)+"}")):(m="0?",h="0{0,2}");switch(g){case "y":g="\\d{2,4}";break;case "M":case "L":g=2<e?"\\S+?":"1[0-2]|"+m+"[1-9]";break;case "D":g="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+m+"[1-9][0-9]|"+h+"[1-9]";break;case "d":g="3[01]|[12]\\d|"+m+"[1-9]";
break;case "w":g="[1-4][0-9]|5[0-3]|"+m+"[1-9]";break;case "E":case "e":case "c":g=".+?";break;case "h":g="1[0-2]|"+m+"[1-9]";break;case "k":g="1[01]|"+m+"\\d";break;case "H":g="1\\d|2[0-3]|"+m+"\\d";break;case "K":g="1\\d|2[0-4]|"+m+"[1-9]";break;case "m":case "s":g="[0-5]\\d";break;case "S":g="\\d{"+e+"}";break;case "a":e=c.am||b["dayPeriods-format-wide-am"];m=c.pm||b["dayPeriods-format-wide-pm"];g=e+"|"+m;c.strict||(e!=e.toLowerCase()&&(g+="|"+e.toLowerCase()),m!=m.toLowerCase()&&(g+="|"+m.toLowerCase()),
-1!=g.indexOf(".")&&(g+="|"+g.replace(/\./g,"")));g=g.replace(/\./g,"\\.");break;default:g=".*"}a&&a.push(d);return"("+g+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};l.setObject(d.id.replace(/\//g,"."),n);n._getZone=function(a,b,d){return b?c.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(a,c){c=c||{};var d=b.normalizeLocale(c.locale),e=c.formatLength||"short",d=n._getGregorianBundle(d),h=[],k=l.hitch(this,g,a,d,c);if("year"==c.selector)return m(d["dateFormatItem-yyyy"]||"yyyy",k);
var f;"date"!=c.selector&&(f=c.timePattern||d["timeFormat-"+e])&&h.push(m(f,k));"time"!=c.selector&&(f=c.datePattern||d["dateFormat-"+e])&&h.push(m(f,k));return 1==h.length?h[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return h[b]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(a){a=a||{};var c=b.normalizeLocale(a.locale),c=n._getGregorianBundle(c),d=a.formatLength||"short",g=a.datePattern||c["dateFormat-"+d],e=a.timePattern||c["timeFormat-"+
d],d="date"==a.selector?g:"time"==a.selector?e:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[e,g][b]}),h=[];return{regexp:m(d,l.hitch(this,u,h,c,a)),tokens:h,bundle:c}};n.parse=function(a,b){var d=/[\u200E\u200F\u202A\u202E]/g,g=n._parseInfo(b),e=g.tokens,m=g.bundle,d=RegExp("^"+g.regexp.replace(d,"")+"$",g.strict?"":"i").exec(a&&a.replace(d,""));if(!d)return null;var h=["abbr","wide","narrow"],k=[1970,0,1,0,0,0,0],u="",d=f.every(d,function(a,c){if(!c)return!0;var d=e[c-1],g=d.length,
d=d.charAt(0);switch(d){case "y":if(2!=g&&b.strict)k[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),g=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),k[0]=a<d?g+a:g-100+a;else{if(b.strict)return!1;k[0]=a}break;case "M":case "L":if(2<g){if(g=m["months-"+("L"==d?"standAlone":"format")+"-"+h[g-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),g=f.map(g,function(a){return a.replace(".","").toLowerCase()})),a=f.indexOf(g,a),-1==a)return!1}else a--;k[1]=a;break;case "E":case "e":case "c":g=
m["days-"+("c"==d?"standAlone":"format")+"-"+h[g-3]].concat();b.strict||(a=a.toLowerCase(),g=f.map(g,function(a){return a.toLowerCase()}));a=f.indexOf(g,a);if(-1==a)return!1;break;case "D":k[1]=0;case "d":k[2]=a;break;case "a":g=b.am||m["dayPeriods-format-wide-am"];d=b.pm||m["dayPeriods-format-wide-pm"];if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();g=g.replace(n,"").toLowerCase();d=d.replace(n,"").toLowerCase()}if(b.strict&&a!=g&&a!=d)return!1;u=a==d?"p":a==g?"a":"";break;case "K":24==
a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;k[3]=a;break;case "m":k[4]=a;break;case "s":k[5]=a;break;case "S":k[6]=a}return!0}),g=+k[3];"p"===u&&12>g?k[3]=g+12:"a"===u&&12==g&&(k[3]=0);g=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);b.strict&&g.setFullYear(k[0]);var t=e.join(""),l=-1!=t.indexOf("d"),t=-1!=t.indexOf("M");if(!d||t&&g.getMonth()>k[1]||l&&g.getDate()>k[2])return null;if(t&&g.getMonth()<k[1]||l&&g.getDate()<k[2])g=c.add(g,"hour",1);return g};var t=[];n.addCustomFormats=function(a,
b){t.push({pkg:a,name:b})};n._getGregorianBundle=function(a){var c={};f.forEach(t,function(d){d=b.getLocalization(d.pkg,d.name,a);c=l.mixin(c,d)},this);return c};n.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,b,c,d){var g;d=n._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),g=d[c],1==g[0]&&(g=void 0));a[1]="format";return(g||d[a.join("-")]).concat()};n.isWeekend=function(b,c){var d=a.getWeekend(c),g=(b||new Date).getDay();d.end<d.start&&
(d.end+=7,g<d.start&&(g+=7));return g>=d.start&&g<=d.end};n._getDayOfYear=function(a){return c.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((n._getDayOfYear(a)+(c-b+7)%7-1)/7);c==b&&d++;return d};return n})},"dojo/date":function(){define(["./has","./_base/lang"],function(l,f){var c={getDaysInMonth:function(a){var b=a.getMonth();return 1==b&&c.isLeapYear(a)?29:[31,28,
31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var b=a.toString(),c="",e=b.indexOf("(");if(-1<e)c=b.substring(++e,b.indexOf(")"));else if(e=/([A-Z\/]+) \d{4}$/,b=b.match(e))c=b[1];else if(b=a.toLocaleString(),e=/ ([A-Z\/]+)$/,b=b.match(e))c=b[1];return"AM"==c||"PM"==c?"":c},compare:function(a,b,c){a=new Date(+a);b=new Date(+(b||new Date));"date"==c?(a.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==c&&(a.setFullYear(0,
0,0),b.setFullYear(0,0,0));return a>b?1:a<b?-1:0},add:function(a,b,c){var e=new Date(+a),h=!1,d="Date";switch(b){case "day":break;case "weekday":var g;(b=c%5)?g=parseInt(c/5):(b=0<c?5:-5,g=0<c?(c-5)/5:(c+5)/5);var m=a.getDay(),f=0;6==m&&0<c?f=1:0==m&&0>c&&(f=-1);m+=b;if(0==m||6==m)f=0<c?2:-2;c=7*g+b+f;break;case "year":d="FullYear";h=!0;break;case "week":c*=7;break;case "quarter":c*=3;case "month":h=!0;d="Month";break;default:d="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(d)e["set"+d](e["get"+
d]()+c);h&&e.getDate()<a.getDate()&&e.setDate(0);return e},difference:function(a,b,k){b=b||new Date;k=k||"day";var e=b.getFullYear()-a.getFullYear(),h=1;switch(k){case "quarter":a=a.getMonth();b=b.getMonth();a=Math.floor(a/3)+1;b=Math.floor(b/3)+1;h=b+4*e-a;break;case "weekday":e=Math.round(c.difference(a,b,"day"));k=parseInt(c.difference(a,b,"week"));h=e%7;if(0==h)e=5*k;else{var d=0,g=a.getDay();b=b.getDay();k=parseInt(e/7);h=e%7;a=new Date(a);a.setDate(a.getDate()+7*k);a=a.getDay();if(0<e)switch(!0){case 6==
g:d=-1;break;case 0==g:d=0;break;case 6==b:d=-1;break;case 0==b:d=-2;break;case 5<a+h:d=-2}else if(0>e)switch(!0){case 6==g:d=0;break;case 0==g:d=1;break;case 6==b:d=2;break;case 0==b:d=1;break;case 0>a+h:d=2}e=e+d-2*k}h=e;break;case "year":h=e;break;case "month":h=b.getMonth()-a.getMonth()+12*e;break;case "week":h=parseInt(c.difference(a,b,"day")/7);break;case "day":h/=24;case "hour":h/=60;case "minute":h/=60;case "second":h/=1E3;case "millisecond":h*=b.getTime()-a.getTime()}return Math.round(h)}};
f.mixin(f.getObject("dojo.date",!0),c);return c})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(l,f){var c={};l.setObject("dojo.cldr.supplemental",c);c.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,
ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[c._region(a)];return void 0===a?1:a};c._region=function(a){a=f.normalizeLocale(a);a=a.split("-");var b=a[1];b?4==b.length&&(b=a[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",
el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",
mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",
ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",
chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",
kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",
mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",
tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[a[0]];return b};c.getWeekend=function(a){var b=c._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,
om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===a&&(a=6);void 0===b&&(b=0);return{start:a,end:b}};return c})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,f){var c={};f.setObject("dojo.regexp",c);c.escapeString=function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};c.buildGroupRE=function(a,b,k){if(!(a instanceof Array))return b(a);for(var e=[],h=0;h<a.length;h++)e.push(b(a[h]));
return c.group(e.join("|"),k)};c.group=function(a,b){return"("+(b?"?:":"")+a+")"};return c})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(l,f){var c=/[&<>'"\/]/g,a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};f.setObject("dojo.string",b);b.escape=function(b){return!b?"":b.replace(c,function(b){return a[b]})};b.rep=function(a,b){if(0>=b||!a)return"";for(var c=[];;){b&1&&c.push(a);if(!(b>>=1))break;a+=a}return c.join("")};
b.pad=function(a,c,h,d){h||(h="0");a=String(a);c=b.rep(h,Math.ceil((c-a.length)/h.length));return d?a+c:c+a};b.substitute=function(a,b,c,d){d=d||l.global;c=c?f.hitch(d,c):function(a){return a};return a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,m,k){a=f.getObject(m,!1,b);k&&(a=f.getObject(k,!1,d).call(d,a,m));return c(a,m).toString()})};b.trim=String.prototype.trim?f.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+
1);break}return a};return b})},"MW/remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require MW/Log ./CheckUrlService".split(" "),function(l,f,c,a,b,k,e,h,d,g){var m=this,u=f([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.4",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions=
{};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,b,c,d,g){a=this._combineUriPaths(a||"","/");b=b||"";g=g||this.LATEST_VERSION;d=d||"";this.computeToken=c;a===this._host&&b===this._key&&d===this._proxyUrl&&g===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=b,this._version=g,this._proxyUrl=d,a=this._calculateUrls(a,b,g,d),this._createIframe(a))},_calculateUrls:function(a,b,c,d){var g=this.REMOTE_PROXY+
c+"/iframeProxyRelease.html";c=this.REMOTE_PROXY+c+"/CheckJsFile.js";d&&(g=d);g=this._combineUriPaths(a,g).split("?")[0];g+=b?"?routingkey\x3d"+b:"";c=this._combineUriPaths(a,c);c=b?c+("?routingkey\x3d"+b):c+("?time\x3d"+(new Date).getTime());return{fastFailUrl:c,iFrameUrl:g}},_createIframe:function(a){var b=a.fastFailUrl,c=this;this._url=a.iFrameUrl;this.remoteIframe&&e.destroy(this.remoteIframe);d.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=e.create("iframe",
{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});a=function(){c._loaded||("1.0"===c._version?c._handleLoadTimeout():"1.1"===c._version?(clearTimeout(c._loadTimeoutHandle),d.info("Unable to load proxy version "+c._version+", trying 1.0."),c.setRemotePageHost(c._host,c._key,c.computeToken,c._proxyUrl,"1.0")):"1.2"===c._version?(clearTimeout(c._loadTimeoutHandle),d.info("Unable to load proxy version "+c._version+", trying 1.1."),c.setRemotePageHost(c._host,
c._key,c.computeToken,c._proxyUrl,"1.1")):"1.3"===c._version?(clearTimeout(c._loadTimeoutHandle),d.info("Unable to load proxy version "+c._version+", trying 1.2."),c.setRemotePageHost(c._host,c._key,c.computeToken,c._proxyUrl,"1.2")):"1.4"===c._version?(clearTimeout(c._loadTimeoutHandle),d.info("Unable to load proxy version "+c._version+", trying 1.3."),c.setRemotePageHost(c._host,c._key,c.computeToken,c._proxyUrl,"1.3")):(clearTimeout(c._loadTimeoutHandle),d.info("Unable to load proxy version "+
c._version+", trying 1.0."),c.setRemotePageHost(c._host,c._key,c.computeToken,c._proxyUrl,"1.0")))};this._checkUrl=(new g(b)).then(function(){},a);this._loadTimeoutHandle=setTimeout(a,this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=l.connect(m,"message",this,this._handleMessage))},createUploadIframeTarget:function(a,c,d){this._uploadTargetCallbacks[a]=b.hitch(d||this,c);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+
a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(b,g,m){var e=this,h;this.computeToken&&(m=m||{},m.headers=m.headers||{},m.headers.computeToken=this.computeToken);h=this._getNewMessageId();g="sendMessage;"+h+";"+g+";"+(m?a.toJson(m):"{}");g+=";"+b;b={deferred:new c(function(){"1.0"===e._version?d.warn("Cancelling is not supported by the 1.0 remote proxy."):e._postMessage("abort;"+h)}),id:h};this._errorLoading?b.deferred.reject("The iFrame did not load properly: "+
this._url):(this._transactions[h]=b,this._postMessage(g));return b.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){var b,c;if(a.source===this.remoteIframe.contentWindow){c=a.data.indexOf(";");b=a.data.substring(0,c);if(!b)throw Error("Client unable to parse message, no action specified: "+a.data);switch(b){case "ready":this._cleanupFailureChecks();
this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,c);break;case "uploadIframeMessage":b=a.data.indexOf(";",c+1);c=a.data.substring(c+1,b);a=a.data.substring(b+1,a.data.length);this._uploadTargetCallbacks[c](a);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);
break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+b+", data: "+a.data);}}},_sendMessageResponse:function(b,c){var d,g,m=b.data.indexOf(";",c+1);d=b.data.indexOf(";",m+1);var e=b.data.substring(c+1,m),h=b.data.substring(m+1,d),m=b.data.substring(d+1,b.data.length);if(!e||!h)throw Error("Invalid message from remote iframe: "+b.data);d=this._transactions[e];if(!d)throw Error("Unknown transaction id: "+e+", from remote iframe: "+b.data);delete this._transactions[e];
if(!d.deferred.isCanceled())if("success"===h){try{g=m&&a.fromJson(m)}catch(k){g=m}g=""===g?{}:g;d.deferred.resolve(g)}else"fault"===h&&m&&(g=m.split(";"),e=g.length-1,1<=e&&(m.statusCode=g[e])),this.onError(m),d.deferred.reject(m)},_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,
b;this._cleanupFailureChecks();if(!this._loaded)for(b in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,this._transactions={},a)a.hasOwnProperty(b)&&a[b].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(a){function b(){if(0<c._errorRate&&Math.random()<c._errorRate&&0===a.indexOf("sendMessage;")){if(g=a.split(";",2)[1],m=c._transactions[g])delete c._transactions[g],
d.error("Generating simulated error. Request was: ",a),c.onError("403 Forbidden;403"),m.deferred.reject("403 Forbidden;403")}else c.remoteIframe.contentWindow.postMessage(a,c._url)}var c=this,g,m;this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},
onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){if(0===a.length)return b;0<b.length&&("/"===b[0]&&a.lastIndexOf("/")===a.length-1?b=b.substring(1):"/"!==b[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+b})}});u.WebSocket=f([],{constructor:function(a){var b=this;this.proxyClient=u.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);
this.proxyClient._postMessage("connectWebsocket;"+a);k.after(this.proxyClient,"onWebsocketOpen",function(){b.onopen.apply(b,arguments)},!0);k.after(this.proxyClient,"onWebsocketMsg",function(){b.onmessage.apply(b,arguments)},!0);k.after(this.proxyClient,"onWebsocketClose",function(){b.onclose.apply(b,arguments)},!0);k.after(this.proxyClient,"onWebsocketError",function(){b.onerror.apply(b,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+
a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return u})},"MW/remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","MW/Log"],function(l,f,c,a,b){return function(k){var e,h,d;if(!k)throw Error("Expected a valid url in urlToEmptyJsFile");e={framedoc:null};h=a.get(k,e,!0);e=f.byId(h.id,e.frameDoc);d=c(e,"error",function(a){b.info("CheckUrlService detected an error accessing url: "+k);h.handleResponse(null,a);
d.remove()});return h.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(l,f,c,a,b,k,e,h,d,g,m){function u(a,b){a.canDelete&&p._remove(a.id,b.options.frameDoc,!0)}function n(a){z&&z.length&&(b.forEach(z,function(a){p._remove(a.id,a.frameDoc);a.frameDoc=null}),z=[]);return a.options.jsonp?!a.data:!0}function t(a){return!!this.scriptLoaded}function q(a){return(a=
a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function s(a,b){if(this.canDelete){var c=this.response.options;z.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function p(a,b,d){var g=c.parseArgs(a,c.deepCopy({},b));a=g.url;b=g.options;var m=c.deferred(g,u,n,b.jsonp?null:b.checkString?q:t,s);k.mixin(m,{id:r+v++,canDelete:!1});b.jsonp&&(RegExp("[?\x26]"+b.jsonp+"\x3d").test(a)||
(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+r+"_callbacks."+m.id),m.canDelete=!0,A[m.id]=function(a){g.data=a;m.handleResponse(g)});c.notify&&c.notify.emit("send",g,m.promise.cancel);if(!b.canAttach||b.canAttach(m)){var h=p._attach(m.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var l=e(h,w,function(a){if("load"===a.type||y.test(h.readyState))l.remove(),m.scriptLoaded=a})}f(m);return d?m:m.promise}g.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&
("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var r=l.id.replace(/[\/\.\-]/g,"_"),v=0,w=g("script-readystatechange")?"readystatechange":"load",y=/complete|loaded/,A=a.global[r+"_callbacks"]={},z=[];p.get=p;p._attach=function(a,b,c){c=c||m.doc;var d=c.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};p._remove=function(a,b,c){d.destroy(h.byId(a,b));A[a]&&(c?A[a]=function(){delete A[a]}:
delete A[a])};p._callbacksProperty=r+"_callbacks";return p})},"MW/remote/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred MW/utils/StateMachine MW/Log ./MessageServiceState".split(" "),function(l,f,c,a,b,k,e,h){return l([h],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(b){this.inherited(arguments);
a.after(this._delegate,"onMessage",c.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,c,m){this.logSubscriptions&&e.info("MessageService subscribe: "+a,c,m);this._addHandler(this.channelSubscriptions,a,c,m);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,
c,m),this._deferProcessQueue(),a):(new b).resolve()},unsubscribe:function(a,c,m){this.logSubscriptions&&e.info("MessageService unsubscribe: "+a,c,m);if(this._removeHandler(this.channelSubscriptions,a,c,m))return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueUnsubscribe(a,c,m),this._deferProcessQueue(),a):(new b).resolve();e.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new b).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();
else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=
!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,c){var m=new b;this._queuedOps.push({type:"publish",channel:a,data:c,deferred:m});return m.promise},_queueSubscribe:function(a,c,m){var e=new b;this._queuedOps.push({type:"subscribe",channel:a,handler:c,scope:m,deferred:e});return e.promise},_queueUnsubscribe:function(a,c,m){for(var e=
new b,h,k=0;k<this._queuedOps.length;k++)if(h=this._queuedOps[k],"subscribe"===h.type&&h.channel===a&&h.handler===c&&h.scope===m)return this._queuedOps.splice(k,1),h.deferred.resolve(),(new b).resolve();this._queuedOps.push({type:"unsubscribe",channel:a,handler:c,scope:m,deferred:e});return e.promise},_processQueue:function(){var a=this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=
[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,a.scope));b.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||
this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new b).resolve();var c=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return c},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?(new b).resolve():this._delegate.doUnsubscribe(a)},handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,
c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},registerMessageHandler:function(a,b,c){e.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(a,b,c){e.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,
b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return c.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||c.isString(a)?a:this._serializeObject(a)},deserialize:function(a){return c.isArray(a)?this._deserializeArray(a):a instanceof Number||a instanceof Boolean||c.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,h){var k;h=h||this;"string"===
typeof c&&"function"!==typeof h[c]?e.warn("Not adding invalid handler: "+c):(k=a[b],k||(k=[],a[b]=k),a={channel:b,handler:c,scope:h},k.push(a),k.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,e){var h;h=a[b];c=this._getHandlerIndex(h,{handler:c,scope:e||this});0<=c&&h.splice(c,1);(!h||0===h.length)&&delete a[b];return 0<=c},_callHandlers:function(a,b,c){var h;if(a.hasOwnProperty(b)){a=a[b];for(h=0;h<a.length;h+=1)try{"string"===typeof a[h].handler?a[h].scope[a[h].handler].call(a[h].scope,
c):a[h].handler.call(a[h].scope,c)}catch(k){e.error("Error while executing message handler on channel: "+b+", message: "+f.toJson(c)+", error: "+k)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=1){var e=this.typeSerializers[c];if(e.typeMatcher(a))return{__type__:e.type,__value__:e.serializer.call(this,a)}}if(a instanceof
Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,a.__value__)}catch(c){e.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==
a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"MW/utils/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],function(l,f){return l([],{constructor:function(c){c.stateMachine=this;this.state=new f(c)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(c,a){this.state.enter(c,a)},onEnterState:function(c){},onExitState:function(c){}})})},
"MW/utils/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang MW/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(l,f,c,a,b,k,e,h){var d;return d=l([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=
a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?(a=this.namespace.split("."),a=a.pop()):c.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var b={},e,h;for(e in a)a.hasOwnProperty(e)&&(h=a[e],h.name&&h.name!==e&&c.error("State: error constructing substate: "+e+", the specified names don't match: "+
h.name),h.name=e,h.namespace=h.namespace||[this.namespace,this.name].join("."),h.stateMachine=h.stateMachine||this.stateMachine,h.context=h.context||this.context,b[h.name]=new d(h));this.substates=b},constructTriggersAndTransitions:function(a){var b,c={},d=[],e;for(b in a)a.hasOwnProperty(b)&&((e=this.constructTrigger(b))&&d.push(e),c[b]=this.constructTransition(b,a[b]));this.transitions=c;this.triggers=d},constructTrigger:function(c){var d,h,n;d=c.split(" ");if(2===d.length)"subscribe"===d[0]?n=
b:"response"===d[0]||"fault"===d[0]?n=k:"timeout"===d[0]&&(n=e);else if("onEnterState"!==c||"onExitState"!==c)n=a;n&&(h=new n({name:c,context:this.context,triggerHandler:f.hitch(this,this.handleTrigger)}));return h},constructTransition:function(a,b){var c;if(f.isFunction(b)||f.isString(b)||f.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=""):(c=b,b={},b.target=c);b.state=this;return new h(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),
this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&
(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))f.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,
a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"MW/utils/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","MW/Log","./Trigger"],function(l,f,c,a,b){return l(b,{constructor:function(){this.connection={}},enable:function(){f.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=c.after(this.context,
this.name,f.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"MW/utils/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],function(l){return l([],{constructor:function(f){this.name="";this.context={};this.triggerHandler=f.triggerHandler||function(){};l.safeMixin(this,f)},enable:function(){},disable:function(){}})})},"MW/utils/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/topic","MW/Log","./Trigger"],function(l,f,c,a,b){return l(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"subscribe"!==b[0])&&a.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");this.messageId=b[1]||"";this.subscrition={}},enable:function(){this.subscription=c.subscribe(this.messageId,f.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"MW/utils/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","MW/Log","MW/remote/Remote","./Trigger"],function(l,f,c,a,b){return l(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"response"!==b[0]&&"fault"!==b[0])&&c.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");(!a.registerResponseHandler||!a.registerFaultHandler)&&c.error("The remote package is not available, this type of trigger will not work.");this.messageId=b[1]||"";this.handlerType=b[0]},enable:function(){"response"===
this.handlerType?a.registerResponseHandler(this.messageId,f.hitch(null,this.triggerHandler,this.name)):a.registerFaultHandler(this.messageId,f.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?a.deregisterResponseHandler(this.messageId):a.deregisterFaultHandler(this.messageId)}})})},"MW/remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager ../Log ./serviceRegistryLookup!".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m){var u=this,n;n={reset:function(){var t=[],q=new b,s=new e({faultManager:q}),p=new k({responseManager:s});n.faultManager=q;n.responseManager=s;n.requestManager=p;n._serviceRegistryLookup=m;var r=n.proxyClient=new c;n.createUploadIframeTarget=l.hitch(r,r.createUploadIframeTarget);n.cancelUpload=l.hitch(r,r.cancelUpload);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,r);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,
r);h.construct=function(b){b=b||{};d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||n.setEndpoint();b.allowedMessages=t;b.sendMessage=n.sendMessage;b.computeSessionId=n.getComputeSessionId;return new a(b)};n.registerEndpointLevelFaultHandler=l.hitch(q,q.registerEndpointLevelFaultHandler);n.sendMessage=l.hitch(p,p.sendMessage);n.registerDefaultMessageFactory=l.hitch(p,p.registerDefaultMessageFactory);n.deregisterDefaultMessageFactory=l.hitch(p,p.deregisterDefaultMessageFactory);
n.registerResponseHandler=l.hitch(s,s.registerResponseHandler);n.deregisterResponseHandler=l.hitch(s,s.deregisterResponseHandler);n.registerFaultHandler=l.hitch(q,q.registerFaultHandler);n.deregisterFaultHandler=l.hitch(q,q.deregisterFaultHandler);n.registerTopLevelFaultHandler=l.hitch(q,q.registerTopLevelFaultHandler);n.deregisterTopLevelFaultHandler=l.hitch(q,q.deregisterTopLevelFaultHandler);n.setServiceEndPoint=function(a,b,c){d.setRoutingHostAndRoutingKey(a,b,c)};n.setServicePathSuffixForEndPoint=
function(a,b){d.setPathSuffixForEndPoint(a,b)};n.ignoreTopLevelFault=n.registerTopLevelFaultHandler;n.setComputeToken=function(a){p.computeToken=a};n.setWorkerEndpoint=function(a,b){d.setRoutingHostAndRoutingKey(d.getEndPointNames().WORKER_ENDPOINT,a,b)};n.setEndpoint=function(a){a||(a=n._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(g.info("ServiceRegistryLookup is empty, falling back to localhost"),a="/"));if(!a||"/"===a)a=u.location.protocol+"//"+u.location.host+"/";d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,
a);d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);r.setRemotePageHost(a)};n.setAllowedMessages=function(a){t=a};n.allowAllMessages=function(){t=[]};n.getEndPoint=function(){return d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};n.getUploadIframeProxyUrl=function(){return n.getEndPoint()+r.getUploadIframeProxyUrlPath()};n.getComputeSessionId=function(){return p.computeToken?p.computeToken.computeSessionId:12345};n.getWorkerRoutingHost=function(){var a=
d.getRoutingHost(d.getEndPointNames().WORKER_ENDPOINT);return a?a:location.protocol+"//"+location.host+"/"};n.getWorkerRoutingKey=function(){return d.getRoutingKey(d.getEndPointNames().WORKER_ENDPOINT)};n.enableServerOnWorkerAsync=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.disableServerOnWorkerAsync=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.isServerOnWorkerAsyncEnabled=function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};
n.enableServerOnWorker=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};n.disableServerOnWorker=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};n.isWorkerEndpointEnabled=function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ENDPOINT)};n.setWorkerOnlyMessageTypes=function(a){d.setMessageTypesToEndPoint(d.getEndPointNames().WORKER_ENDPOINT,a)};f.after(r,"onError",function(a){a&&q.handleNonTransactionFault(a)},!0)}};n.reset();return n})},"MW/remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare",
"MW/remote/impl/JsonTransaction","MW/remote/RemoteEndPointsManager"],function(l,f,c){return l([f],{constructor:function(a){a=a||{};this.proxyClient=a.proxyClient;this.workerProxyClient=a.workerProxyClient;this.routingHost=a.routingHost;this.routingKey=a.routingKey;this.computeSessionId=a.computeSessionId},_doSend:function(a){return c.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(a,c.getRemoteUrlForEndPoint(this.endPointName))}})})},"MW/remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang MW/remote/RemoteEndPointsManager ./Transaction".split(" "),
function(l,f,c,a,b,k){return l(k,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var h=null;b.isEndpointMessageContainerBased(this.endPointName)?(h={uuid:this.uuid,messages:a},this.computeToken&&(h.computeToken=this.computeToken)):Object.keys(a).forEach(function(b){h=a[b]});this._sanitizeForJson(h);return c.toJson(h)},_sanitizeForJson:function(b){var c;if(a.isArray(b))b.forEach(this._sanitizeForJson,this);else if(a.isObject(b))for(c in b)b.hasOwnProperty(c)&&
(void 0===b[c]?delete b[c]:(a.isObject(b[c])||a.isArray(b[c]))&&this._sanitizeForJson(b[c]))},_doSend:function(a){return f.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();
this.fault={faultCode:"Connection.Fault",message:a}}})})},"MW/remote/RemoteEndPointsManager":function(){define(["MW/remote/EndPointsManager"],function(l){var f=null;null===f&&(f=new l);return f})},"MW/remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(l,f,c){return l([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},
WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",
pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(a,b,c,e,h){this.endPointsCollection[a]={routingHost:"",
routingKey:"",pathSuffix:c,enabled:b,messages:[],iframeProxy:null,iframeProxyName:e,acceptsMessageContainerMessages:h}},getPathSuffixForEndPoint:function(a){return this.endPointsCollection[a].pathSuffix},setPathSuffixForEndPoint:function(a,b){this.endPointsCollection[a].pathSuffix=b},getEndPointNames:function(){var a={},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(a[b]=b);return a},setRoutingHostAndRoutingKey:function(a,b,c){b&&b.lastIndexOf("/")!==b.length-1&&
(b+="/");this.endPointsCollection[a].routingHost=b;c&&(this.endPointsCollection[a].routingKey=c);b&&this._setIframeRoutingHostAndRoutingkey(a)},_setIframeRoutingHostAndRoutingkey:function(a){var b=this.getIframeProxyClientForEndPoint(a);b&&b.setRemotePageHost(this.endPointsCollection[a].routingHost,this.endPointsCollection[a].routingKey,null,this.endPointsCollection[a].iframeProxyUrl)},getRoutingHost:function(a){return this.endPointsCollection[a].routingHost},getRoutingKey:function(a){return this.endPointsCollection[a].routingKey},
getMessageTypesMappedToEndPoint:function(a){return this.endPointsCollection[a].messages},isEndPointEnabled:function(a){return this.endPointsCollection[a].enabled},setMessageTypesToEndPoint:function(a,b){this.endPointsCollection[a].messages=b},enableEndPoint:function(a){this.endPointsCollection[a].enabled=!0},disableEndPoint:function(a){this.endPointsCollection[a].enabled=!1},getEndPointForMessageType:function(a){var b=null,c;for(c in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(c)&&
(b=-1<f.lastIndexOf(this.endPointsCollection[c].messages,a)?c:b))if(this.isEndPointEnabled(b))break;else b=null;return b?b:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(a){var b=this.endPointsCollection[a].routingHost+this.endPointsCollection[a].pathSuffix;this.endPointsCollection[a].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[a].routingKey);return b},setIframeProxyClientForEndPoint:function(a,b){this.endPointsCollection[a].iframeProxy=b},getIframeProxyClientForEndPoint:function(a){var b=
this.endPointsCollection[a].iframeProxy;b||(b=new c(this.endPointsCollection[a].iframeProxyName),this.endPointsCollection[a].iframeProxy=b);return b},isEndpointMessageContainerBased:function(a){return a&&this.endPointsCollection[a]?this.endPointsCollection[a].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(a,b){this.endPointsCollection[a]&&-1===this.endPointsCollection[a].messages.indexOf(b)&&this.endPointsCollection[a].messages.push(b)},removeMessageTypesFromEndPoint:function(a,
b){if(this.endPointsCollection[a]){var c=this.endPointsCollection[a].messages.indexOf(b);-1<c&&this.endPointsCollection[a].messages.splice(c,1)}}})})},"MW/remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","MW/remote/RemoteEndPointsManager","MW/utils/Utils"],function(l,f,c,a,b){return l([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=
a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(b,e,h){if(e){var d=a.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[b]||(this.requestMessages[b]=[]);c.isArray(e)?e.forEach(function(a){this.addRequestMessage(b,a,h)},this):d?(e.uuid=e.uuid||this._generateUuid(),h&&(this.uuidClassifierMap[e.uuid]=
h),this.requestMessages[b].push(e)):this.requestMessages[b]=e;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(c){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(c))b[c]=a[c]},this);return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&
b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=new f,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,
b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var c in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(c)&&(b&&this.uuidClassifierMap[c]===b)&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&c.isArray(this.requestMessages[a])&&0===b.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},
_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return b.generateUuid()}})})},"MW/utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window"],function(l,f){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(c){var a=16*Math.random()|0;return("x"===c?a:a&3|8).toString(16)}).toUpperCase()},isImageData:function(c){return!!c&&(f.global.ImageData&&c instanceof f.global.ImageData||c.hasOwnProperty("width")&&c.hasOwnProperty("height")&&
c.hasOwnProperty("data"))},getArrayLength:function(c){var a=0;if(!l.isArray(c))return!1;c.forEach(function(b){b&&(a+=1)});return a},isWhitespace:function(c){return/^\s+$/.test(c)},removeSurroundingNewLines:function(c){for(;"\n"===c.charAt(0);)c=c.substring(1);for(;"\n"===c.charAt(c.length-1);)c=c.substring(0,c.length-1);return c},getFirstUniqueElement:function(c,a){var b=null;a.some(function(a){if(-1===c.indexOf(a))return b=a,!0});return b},unionOfWordSets:function(c,a,b){c=this._stringToArray(c);
a=this._stringToArray(a);c=this.unionOfArrays(c,a);return b?c.join(" "):c},intersectionOfWordSets:function(c,a,b){c=this._stringToArray(c);a=this._stringToArray(a);c=this.intersectionOfArrays(c,a);return b?c.join(" "):c},differenceOfWordSets:function(c,a,b){c=this._stringToArray(c);a=this._stringToArray(a);c=this.differenceOfArrays(c,a);return b?c.join(" "):c},unionOfArrays:function(c,a){return this.unique(c.concat(a))},intersectionOfArrays:function(c,a){return this.nonunique(c.concat(a))},differenceOfArrays:function(c,
a){return this.unique(c.filter(function(b){return-1===a.indexOf(b)}))},unique:function(c){return c.filter(function(a,b){return c.indexOf(a)===b})},nonunique:function(c){return this.unique(c.filter(function(a,b){return c.indexOf(a)!==b}))},removeEmptyElements:function(c){return c.filter(function(a){return!(""===a||null===a||void 0===a)})},_stringToArray:function(c){return!this._isString(c)?c:this.removeEmptyElements(c.split(" "))},_isString:function(c){return"string"===typeof c||c instanceof String}}})},
"MW/remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","MW/remote/RemoteEndPointsManager"],function(l,f,c,a){return f([],{constructor:function(a){a=a||{};this.faultHandlers=a.faultHandlers||{};this.topLevelHandlers=a.topLevelHandlers||[];this.endPointLevelHandlers=a.endPointLevelHandlers||{}},registerFaultHandler:function(a,k,e){e&&(k=c.hitch(e,k));this.faultHandlers[a]=k},deregisterFaultHandler:function(a){delete this.faultHandlers[a]},registerTopLevelFaultHandler:function(a,
k,e){e&&(k=c.hitch(e,k));if(c.isString(a)){if("*"===a)return a={matcher:a,handler:k},this.defaultTopLevelHandler=k,a;a=this._constructMatcherFromQuery(a)}a={matcher:a,handler:k};this.topLevelHandlers.push(a);return a},registerEndpointLevelFaultHandler:function(a,k,e,h){h&&(e=c.hitch(h,e));c.isString(k)&&(k=this._constructMatcherFromQuery(k));k={matcher:k,handler:e};this.endPointLevelHandlers[a]||(this.endPointLevelHandlers[a]=[]);this.endPointLevelHandlers[a].push(k);return k},deregisterTopLevelFaultHandler:function(a){var c=
this.topLevelHandlers.indexOf(a);-1<c?this.topLevelHandlers.splice(c,1):"*"===a.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(a){var k=[];a.split("||").forEach(function(a){a=c.trim(a);a=a.replace(/([\.])/g,"\\$1");a=a.replace(/\*/g,".*");k.push(RegExp("^"+a+"$"))});return function(a){return l.some(k,function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(a){var k,e=function(c,g){var h;if(h=a.getMessageClassifier(g))if(h=[c,h].join(":"),this.faultHandlers[h])this.faultHandlers[h](a.fault,
a.context)};for(k in a.requestMessages)if(a.requestMessages.hasOwnProperty(k)){if(this.faultHandlers[k])this.faultHandlers[k](a.fault,a.context);var h=a.requestMessages[k];h instanceof Array&&h.forEach(c.hitch(this,e,k))}if(this.faultHandlers["*"])this.faultHandlers["*"](a.fault,a.context);this.endPointLevelHandlers[a.endPointName]?this._handleEndpointLevelFault(a):this._handleTopLevelFault(a)},_handleEndpointLevelFault:function(a){var c=!1,e=l.filter(this.endPointLevelHandlers[a.endPointName],function(c){return c.matcher.call(this,
a.fault,a.context)},this);0<e.length&&e[0].handler&&(c=!0,e[0].handler.call(this,a.fault,a.context,a));return c},_handleTopLevelFault:function(a){var c=l.filter(this.topLevelHandlers,function(c){return c.matcher.call(this,a.fault,a.context)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&c.call(this,a.fault,a.context,a)},handleNonTransactionFault:function(a){var c=l.filter(this.topLevelHandlers,function(c){return c.matcher.call(this,a)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&
c.call(this,a)}})})},"MW/remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang MW/remote/RemoteEndPointsManager MW/remote/defaultMessageMapping ./Transaction".split(" "),function(l,f,c,a,b,k,e){return f([],{defaultMapping:k,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(b,
c,g){g&&(c=a.hitch(g,c));this.defaultFactories[b]=c},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(b,d,g){var m=this;d=a.hitch(g||this,d);this.mockHandlers[b]=function(a,b){var g,h=e.construct(b);g=d(a,h);g||(g=new c,g.callback());g.addCallback(function(){m.responseManager._processResult(h)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},sendMessage:function(a,b,c){var e={},k={};b=b||{};this._createAndFillTransactions(a,
b,c,e,k);a=Object.keys(e);for(b=0;b<a.length;b+=1)c=a[b],this._callMocks(k[c]),e[c].send(),this.responseManager.handleTransaction(e[c])},_getTransaction:function(a,b){return e.construct({context:b,computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,b,c){return e.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:c})},_createAndFillTransactions:function(a,c,g,e,k){var f,l,q=function(a){var g,h,f,n,l;g=b.getEndPointForMessageType(a);n=e[g];l=k[g];n||
(n=this._getTransaction(g,c),l=this._getMockTransaction(g,c,n.uuid),e[g]=n,k[g]=l);if(this.defaultFactories[a]&&(g=this.defaultFactories[a](n.context)))h=a.split(":"),f=h[0],h=h.slice(1,h.length).join(":"),this.mockHandlers[a]||n.addRequestMessage(f,g,h),l.addRequestMessage(f,g,h)},s,p;for(f in a)a.hasOwnProperty(f)&&(l=b.getEndPointForMessageType(f),s=k[l],p=e[l],e[l]||(p=this._getTransaction(l,c),s=this._getMockTransaction(l,c,p.uuid),e[l]=p,k[l]=s),l=[f,g].join(":"),!this.mockHandlers[f]&&!this.mockHandlers[l]&&
p.addRequestMessage(f,a[f],g),s.addRequestMessage(f,a[f],g),this.mapping[l]?this.mapping[l].forEach(q,this):this.mapping[f]&&this.mapping[f].forEach(q,this))},_callMocks:function(b){var c,g,e=b.context;delete b.context;var f=function(a,b){var g;if(g=c.getMessageClassifier(b))if(g=[a,g].join(":"),this.mockHandlers[g])this.mockHandlers[g]([b],c)};for(g in b.requestMessages)if(b.requestMessages.hasOwnProperty(g)){c=a.mixin({},b);c.context=e;if(this.mockHandlers.hasOwnProperty(g))this.mockHandlers[g](c.requestMessages[g],
c);c.requestMessages[g]instanceof Array?c.requestMessages[g].forEach(a.hitch(this,f,g)):f(g,c.requestMessages[g])}if(this.mockHandlers["*"])this.mockHandlers["*"](g,c.requestMessages[g],c)}})})},"MW/remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],
"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},
"MW/remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang MW/Log MW/remote/RemoteEndPointsManager".split(" "),function(l,f,c,a,b,k,e){return f([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(a,c,g){g&&(c=b.hitch(g,c));this.responseHandlers[a]=c},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},
handleTransaction:function(a){this.transactions.push(a);a.deferred.addCallback(b.hitch(this,this._processAll,a));a.deferred.addCallback(b.hitch(this,this._processResult,a));a.deferred.addErrback(b.hitch(this,this._processAll,a));a.deferred.addErrback(b.hitch(this,this._processFault,a))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},_processResult:function(b){b.getResponseMessageTypes().forEach(function(c){var g=b.responseMessages[c],e=[];try{if(g instanceof
Array){g.forEach(function(a){var g,f=b.getMessageClassifier(a);if(f){g=[c,f].join(":");var k=this,l=!1;b.getRequestMessageTypes().forEach(function(c){var d=b.requestMessages[c];d instanceof Array?d.forEach(function(d){k.responseHandlers[g]&&(k._shouldHandle(b,c,f)&&d.uuid===a.uuid)&&(k.responseHandlers[g]([a],b.context),l=!0)}):k.responseHandlers[g]&&(k._shouldHandle(b,c,f)&&d.uuid===a.uuid)&&(k.responseHandlers[g]([a],b.context),l=!0)});l||e.push(a)}else e.push(a)},this);if(0<e.length&&this.responseHandlers[c]&&
this._shouldHandle(b,c))this.responseHandlers[c](e,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](c,b.responseMessages[c],b.context)}}catch(f){k.error("Remote: Fault occurred while processing response.\nMessage: "+f.message+"\nType: "+c+"\nResponse: "+a.toJson(g))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(a){if(!e.isEndpointMessageContainerBased(a.endPointName)){var b=Object.keys(a.requestMessages)[0];if(this.responseHandlers[b]&&
this._shouldHandle(a,b,""))this.responseHandlers[b](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)},_shouldHandle:function(a,b,c){return this._shouldIgnoreMessageType(a,b,c)?!1:this.transactions&&l.every(this.transactions,function(e){var f,k;if(c)for(f in e.uuidClassifierMap){if(e.uuidClassifierMap.hasOwnProperty(f)&&c&&e.uuidClassifierMap[f]===c){k=!0;break}}else k=e.requestMessages[b]?l.every(e.requestMessages[b],function(a){return!e.uuidClassifierMap[a.uuid]}):
!0;(f=!(e.requestMessages[b]&&k&&e.startTime>a.startTime))&&e.addIgnoreMessageType(b,c);return f},this)},_shouldIgnoreMessageType:function(a,b,c){return-1!==a.ignoreMessageTypes.indexOf(c?b+":"+c:b)}})})},"MW/remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(l,f){var c=!1,a={_serviceData:{},getServiceRegistryEndpoint:function(b){if(a._serviceData.serviceregistry){var c,e;c=a._serviceData.serviceregistry.length;for(e=0;e<c;e+=1)if(a._serviceData.serviceregistry[e].name===
b)return a._serviceData.serviceregistry[e].endpoint}return""}};return{load:function(b,f,e){c?e(a):l("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!f.async}).then(function(b){a._serviceData=b;c=!0;e(a)},function(b){a._serviceData={};c=!0;e(a)})}}})},"MW/utils/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/Log","./Trigger"],function(l,f,c,a){return l(a,{constructor:function(){var a=this.name.split(" ");(2>
a.length||"timeout"!==a[0])&&c.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(a[1]);this.handlerType=a[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(f.hitch(null,this.triggerHandler,this.name),1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"MW/utils/statemachineimpl/Transition":function(){define(["dojo/_base/declare",
"dojo/_base/lang","MW/Log"],function(l,f,c){return l([],{constructor:function(a){this.state={};this.target="";this.action=this.condition=null;l.safeMixin(this,a)},handleTrigger:function(a,b){var c="";this.checkCondition(a,b)&&(this.runAction(a,b),c=this.getTarget(a,this.target,b));return c},checkCondition:function(a,b){return!this.condition?!0:f.hitch(this.state.context,this.condition).apply(null,[a,this.state.data].concat(b))},runAction:function(a,b){var c;this.action&&(c=f.hitch(this.state.context,
this.action),c.apply(null,[a,this.state.data].concat(b)))},getTarget:function(a,b,k){var e,h,d;if(f.isString(b))h=b;else if(f.isFunction(b))b=f.hitch(this.state.context,b),h=b.apply(null,[a,this.state.data].concat(k));else if(f.isArray(b))for(e=0;e<b.length;e+=1){h=this.getTarget(a,b[e],k);if(f.isString(h)){h={target:h};f.mixin(h,d);break}if(h&&h.target){f.mixin(h,d);break}d=h||{}}else c.warn("Transition: improper target: ",b);return h}})})},"MW/remote/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all MW/utils/StateMachine MW/Log".split(" "),
function(l,f,c,a,b,k,e){return l([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting","timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,
_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],"timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting","timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,
_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(a){if(this._delegate!==a){this._delegate=a;var b=this;c.after(a,"onConnectionError",function(){e.warn("MessageService received connection error, reconnecting");b._reconnect()},
!0);this._states=new k(this._stateOptions);c.after(this._states,"onEnterState",f.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===
this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var b=this._currentState;this._currentState=a;this.logStateChanges&&e.info("MessageService state change: "+b+" -\x3e "+a);if("connected"===b)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=
!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;e.info("Reconnecting message service. Attempt "+this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&
e.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(e.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function a(b){e.push(this._delegate.doSubscribe(b.channel))}var c,g,e=[];this._delegate.doStartBatch();for(c in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(c)&&(g=this.channelSubscriptions[c],g.forEach(a,this));this._delegate.doEndBatch();b(e).then(this._resubscribeSuccess,
this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&e.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},
_disconnectFailure:function(){}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(l,f,c){var a=l.some;return function(b){var k,e;b instanceof Array?e=b:b&&"object"===typeof b&&(k=b);var h,d=[];if(k){e=[];for(var g in k)Object.hasOwnProperty.call(k,g)&&(d.push(g),e.push(k[g]));h={}}else e&&(h=[]);if(!e||!e.length)return(new f).resolve(h);var m=new f;m.promise.always(function(){h=d=null});var l=e.length;a(e,function(a,b){k||d.push(b);c(a,function(a){m.isFulfilled()||
(h[d[b]]=a,0===--l&&m.resolve(h))},m.reject);return m.isFulfilled()});return m.promise}})},"MW/remote/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","MW/Log"],function(l,f,c){return l([],{pollDelay:50,constructor:function(a,b){this.remote=a;this.messageService=b;this.pending=0;a.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);a.registerResponseHandler("OpaqueMessageResponse",function(a){this.pending-=
1;a.forEach(function(a){try{a.opaqueMessageDOs&&a.opaqueMessageDOs.forEach(b.handleMessage,b)}catch(h){c.error("Error while handling message: "+h)}});this.poll()},this)},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.enabled=!0;this.poll();return(new f).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new f).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var a=this;
this.timeout=setTimeout(function(){a.pending+=1;a.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});a.timeout=null},this.pollDelay)}},doPublish:function(a,b){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:a,data:b}]}})},doSubscribe:function(a){},doUnsubscribe:function(a){},doStartBatch:function(){},doEndBatch:function(){}})})},"findfiles-ui/js/MessageType":function(){define([],function(){return{SHOW_ERROR:"showError",
BEGIN_FIND:"beginFind",ADD_TO_RESULTS_TABLE:"addToResultsTable",SET_SEARCH_LABEL:"setSearchLabel",SET_RESULTS_LABEL:"setResultsLabel",FINISH_FIND:"finishFind",SET_MOUSE_CURSOR_TO_DEFAULT:"setMouseCursorToDefault",REPLACE_STOP_BUTTON_WITH_FIND_BUTTON:"replaceStopButtonWithFindButton",ADD_TO_LOOK_IN_COMBO_BOX:"addToLookInComboBox",FIND:"find",STOP:"stop",CLOSE:"close",HELP:"help",JS_LOADED:"jsLoaded",UPDATE_LOOK_IN_EDITOR_OPTIONS:"updateLookInEditorOptions"}})},"dijit/registry":function(){define(["dojo/_base/array",
"dojo/_base/window","./main"],function(l,f,c){var a={},b={},k={length:0,add:function(a){if(b[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");b[a.id]=a;this.length++},remove:function(a){b[a]&&(delete b[a],this.length--)},byId:function(a){return"string"==typeof a?b[a]:a},byNode:function(a){return b[a.getAttribute("widgetId")]},toArray:function(){var a=[],c;for(c in b)a.push(b[c]);return a},getUniqueId:function(e){var h;do h=e+"_"+(e in a?++a[e]:
a[e]=0);while(b[h]);return"dijit"==c._scopeName?h:c._scopeName+"_"+h},findWidgets:function(a,c){function d(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var e=a.getAttribute("widgetId");e?(e=b[e])&&g.push(e):a!==c&&d(a)}}var g=[];d(a);return g},_destroyAll:function(){c._curFocus=null;c._prevFocus=null;c._activeStack=[];l.forEach(k.findWidgets(f.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var c=
1==a.nodeType&&a.getAttribute("widgetId");if(c)return b[c];a=a.parentNode}return null},_hash:b};return c.registry=k})},"dijit/form/Form":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/sniff ../_Widget ../_TemplatedMixin ./_FormMixin ../layout/_ContentPaneResizeMixin".split(" "),function(l,f,c,a,b,k,e,h){return l("dijit.form.Form",[b,k,e,h],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"\x3cform data-dojo-attach-point\x3d'containerNode' data-dojo-attach-event\x3d'onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}\x3e\x3c/form\x3e",
postMixInProperties:function(){this.nameAttrSetting=this.name?"name\x3d'"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(b){f.set(this.domNode,"encType",b);a("ie")&&(this.domNode.encoding=b);this._set("encType",b)},reset:function(a){var b={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:a?a.target:this.domNode,target:a?a.target:this.domNode};!1!==this.onReset(b)&&b.returnValue&&
this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(a){this.reset(a);a.stopPropagation();a.preventDefault();return!1},_onSubmit:function(a){var b=this.constructor.prototype;if(this.execute!=b.execute||this.onExecute!=b.onExecute)c.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(a)&&(a.stopPropagation(),a.preventDefault())},onSubmit:function(){return this.isValid()},
submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(l,f,c,a,b,k,e,h,d,g,m,u,n){function t(){}function q(a){return function(b,d,g,h){return b&&"string"==typeof d&&b[d]==t?b.on(d.substring(2).toLowerCase(),e.hitch(g,
h)):a.apply(c,arguments)}}l.around(c,"connect",q);k.connect&&l.around(k,"connect",q);l=a("dijit._Widget",[m,u,n],{onClick:t,onDblClick:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseOut:t,onMouseOver:t,onMouseLeave:t,onMouseEnter:t,onMouseUp:t,constructor:function(a){this._toConnect={};for(var b in a)this[b]===t&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);
delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===t?c.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){k.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){k.deprecated(this.declaredClass+
"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?h("[widgetId]",this.containerNode).map(g.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&d(0,function(){require(["dijit/_base"])});return l})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r,v,w,y,A,z){function B(a){return function(b){h[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}n.add("dijit-legacy-requires",!t.isAsync);n("dijit-legacy-requires")&&p(0,function(){l(["dijit/_base/manager"])});var E={};return k("dijit._WidgetBase",[r,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:B("lang"),dir:"",_setDirAttr:B("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:a.blankGif||l.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},d;for(d in b.attributeMap)c.push(d);for(d in b)/^on/.test(d)&&(a[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,d.length-
9),(!b.attributeMap||!(d in b.attributeMap))&&c.push(d))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=e.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,q.mixin(this,a));this.postMixInProperties();this.id||(this.id=z.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);z.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&(d.parentNode&&this.domNode!==d)&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);f.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(f.map(a,function(a){return a+"Rtl"})));d.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,f.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&q.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();f.forEach(this._connects,q.hitch(this,"disconnect"));f.forEach(this._supportingWidgets,b);this.domNode&&f.forEach(z.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
z.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?h.remove(this.domNode,"widgetId"):g.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||g.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){f.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;q.isObject(a)?
u.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,c){c=3<=arguments.length?c:this.attributeMap[a];f.forEach(q.isArray(c)?c:[c],function(c){var g=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":q.isFunction(b)&&(b=q.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;g.tagName?h.set(g,c,b):g.set(c,b);break;case "innerText":g.innerHTML="";g.appendChild(this.ownerDocument.createTextNode(b));
break;case "textContent":g.textContent=b;break;case "innerHTML":g.innerHTML=b;break;case "class":d.replace(g,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(q.isFunction(d))var g=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!q.isFunction(this.focusNode)?"focusNode":"domNode",e=
this[d]&&this[d].tagName,h;if(h=e)if(!(h=E[e])){h=this[d];var m={},f;for(f in h)m[f.toLowerCase()]=!0;h=E[e]=m}f=h;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:f&&c.l in f&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return g||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});
return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;if(this._created&&!(c===b||c!==c&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,g=this["on"+a];g&&(d=g.apply(this,
c?c:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var d=this._onMap(a);return d?c.after(this,d,b,!0):this.own(s(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?
z.findWidgets(this.containerNode):[]},getParent:function(){return z.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,d){return this.own(b.connect(a,c,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(v.subscribe(a,q.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():m.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=u.get(this.domNode,"display")},
placeAt:function(a,b){var c=!a.tagName&&z.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c&&"domNode"in c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:e.byId(a,this.ownerDocument),g.place(this.domNode,c,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(q.hitch(this,function(){c&&(c=null,this._destroyed||q.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),
c=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,f,c,a){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var c=this._attrPairNames;return c[a]?c[a]:c[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,c){return"function"===typeof this[c.g]?this[c.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(b,c){if("object"===
typeof b){for(var e in b)b.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,b[e]);return this}e=this._getAttrNames(b);var h=this._get(b,e);e=this[e.s];var d;"function"===typeof e?d=e.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=c;if(this._watchCallbacks){var g=this;a(d,function(){g._watchCallbacks(b,h,c)})}return this},_changeAttrValue:function(a,c){var e=this.get(a);this[a]=c;this._watchCallbacks&&this._watchCallbacks(a,e,c);return this},watch:function(a,f){var e=this._watchCallbacks;
if(!e)var h=this,e=this._watchCallbacks=function(a,b,c,d){var g=function(d){if(d){d=d.slice();for(var g=0,e=d.length;g<e;g++)d[g].call(h,a,b,c)}};g(e["_"+a]);d||g(e["*"])};!f&&"function"===typeof a?(f=a,a="*"):a="_"+a;var d=e[a];"object"!==typeof d&&(d=e[a]=[]);d.push(f);var g={};g.unwatch=g.remove=function(){var a=c.indexOf(d,f);-1<a&&d.splice(a,1)};return g}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(l,f,c){return c("dijit.Destroyable",
null,{destroy:function(a){this._destroyed=!0},own:function(){var a=["destroyRecursive","destroy","remove"];l.forEach(arguments,function(b){function c(){h.remove();l.forEach(d,function(a){a.remove()})}var e,h=f.before(this,"destroy",function(a){b[e](a)}),d=[];b.then?(e="cancel",b.then(c,c)):l.forEach(a,function(a){"function"===typeof b[a]&&(e||(e=a),d.push(f.after(b,a,c,!0)))})},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),
function(l,f,c,a,b,k){l=a("dijit._OnDijitClickMixin",null,{connect:function(a,b,c){return this.inherited(arguments,[a,"ondijitclick"==b?k:b,c])}});l.a11yclick=k;return l})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(l,f,c,a){function b(a){if((a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var k;c(document,"keydown",function(a){b(a)?(k=a.target,a.preventDefault()):
k=null});c(document,"keyup",function(a){b(a)&&a.target==k&&(k=null,c.emit(a.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey,altKey:a.altKey,_origType:a.type}))});var e=function(a,b){a.dojoClick=!0;return c(a,"click",b)};e.click=e;e.press=function(b,d){var g=c(b,a.press,function(a){("mousedown"!=a.type||f.isLeft(a))&&d(a)}),e=c(b,"keydown",function(a){(a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&d(a)});return{remove:function(){g.remove();e.remove()}}};
e.release=function(b,d){var g=c(b,a.release,function(a){("mouseup"!=a.type||f.isLeft(a))&&d(a)}),e=c(b,"keyup",function(a){(a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&d(a)});return{remove:function(){g.remove();e.remove()}}};e.move=a.move;return e})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(l,f,c,a,b,k,e,h,d,g){function m(a,b,c){return q&&c?function(a,b){return k(a,c,b)}:p?function(c,d){var g=
k(c,b,function(a){d.call(this,a);D=(new Date).getTime()}),e=k(c,a,function(a){(!D||(new Date).getTime()>D+1E3)&&d.call(this,a)});return{remove:function(){g.remove();e.remove()}}}:function(b,c){return k(b,a,c)}}function u(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function n(b,d,e){var m=u(b.target);if(v=!b.target.disabled&&m&&m.dojoClick)if(y=(w="useTarget"==v)?m:b.target,w&&b.preventDefault(),A=b.changedTouches?b.changedTouches[0].pageX-g.global.pageXOffset:b.clientX,z=b.changedTouches?
b.changedTouches[0].pageY-g.global.pageYOffset:b.clientY,B=("object"==typeof v?v.x:"number"==typeof v?v:0)||4,E=("object"==typeof v?v.y:"number"==typeof v?v:0)||4,!r){r=!0;var h=function(a){v=w?c.isDescendant(g.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-g.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-g.global.pageYOffset:a.clientY),y):v&&(a.changedTouches?a.changedTouches[0].target:a.target)==y&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-g.global.pageXOffset:
a.clientX)-A)<=B&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-g.global.pageYOffset:a.clientY)-z)<=E};g.doc.addEventListener(d,function(a){h(a);w&&a.preventDefault()},!0);g.doc.addEventListener(e,function(a){h(a);if(v){x=(new Date).getTime();var b=w?y:a.target;"LABEL"===b.tagName&&(b=c.byId(b.getAttribute("for"))||b);var d=a.changedTouches?a.changedTouches[0]:a,g=document.createEvent("MouseEvents");g._dojo_click=!0;g.initMouseEvent("click",!0,!0,a.view,a.detail,d.screenX,d.screenY,d.clientX,
d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){k.emit(b,"click",g);x=(new Date).getTime()},0)}},!0);b=function(b){g.doc.addEventListener(b,function(c){!c._dojo_click&&((new Date).getTime()<=x+1E3&&!("INPUT"==c.target.tagName&&a.contains(c.target,"dijitOffScreen")))&&(c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),"click"==b&&(("INPUT"!=c.target.tagName||"radio"==c.target.type||"checkbox"==c.target.type)&&"TEXTAREA"!=c.target.tagName&&
"AUDIO"!=c.target.tagName&&"VIDEO"!=c.target.tagName)&&c.preventDefault())},!0)};b("click");b("mousedown");b("mouseup")}}var t=5>e("ios"),q=e("pointer-events")||e("MSPointer"),s=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=e("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),p=e("touch-events"),r,v,w=!1,y,A,z,B,E,x,D,F;q?d(function(){g.doc.addEventListener(s.down,function(a){n(a,s.move,s.up)},!0)}):p&&d(function(){function a(c){var d=
b.delegate(c,{bubbles:!0});6<=e("ios")&&(d.touches=c.touches,d.altKey=c.altKey,d.changedTouches=c.changedTouches,d.ctrlKey=c.ctrlKey,d.metaKey=c.metaKey,d.shiftKey=c.shiftKey,d.targetTouches=c.targetTouches);return d}F=g.body();g.doc.addEventListener("touchstart",function(a){D=(new Date).getTime();var b=F;F=a.target;k.emit(b,"dojotouchout",{relatedTarget:F,bubbles:!0});k.emit(F,"dojotouchover",{relatedTarget:b,bubbles:!0});n(a,"touchmove","touchend")},!0);k(g.doc,"touchmove",function(b){D=(new Date).getTime();
var c=g.doc.elementFromPoint(b.pageX-(t?0:g.global.pageXOffset),b.pageY-(t?0:g.global.pageYOffset));c&&(F!==c&&(k.emit(F,"dojotouchout",{relatedTarget:c,bubbles:!0}),k.emit(c,"dojotouchover",{relatedTarget:F,bubbles:!0}),F=c),k.emit(c,"dojotouchmove",a(b))||b.preventDefault())});k(g.doc,"touchend",function(b){D=(new Date).getTime();var c=g.doc.elementFromPoint(b.pageX-(t?0:g.global.pageXOffset),b.pageY-(t?0:g.global.pageYOffset))||g.body();k.emit(c,"dojotouchend",a(b))})});f={press:m("mousedown",
"touchstart",s.down),move:m("mousemove","dojotouchmove",s.move),release:m("mouseup","dojotouchend",s.up),cancel:m(h.leave,"touchcancel",q?s.cancel:null),over:m("mouseover","dojotouchover",s.over),out:m("mouseout","dojotouchout",s.out),enter:h._eventHandler(m("mouseover","dojotouchover",s.over)),leave:h._eventHandler(m("mouseout","dojotouchout",s.out))};return l.touch=f})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(l,f,c,a){a.extend(f,
{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return c("dijit._FocusMixin",null,{_focusManager:l})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p){var r,v,w=new (f([u,
e],{curNode:null,activeStack:[],constructor:function(){var a=h.hitch(this,function(a){c.isDescendant(this.curNode,a)&&this.set("curNode",null);c.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});l.before(k,"empty",a);l.before(k,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,g=a.document&&a.document.body;if(g){var e=m("pointer-events")?"pointerdown":m("MSPointer")?"MSPointerDown":m("touch-events")?"mousedown, touchstart":
"mousedown",h=d(a.document,e,function(a){if(!a||!(a.target&&null==a.target.parentNode))c._onTouchNode(b||a.target,"mouse")}),f=d(g,"focusin",function(a){if(a.target.tagName){var d=a.target.tagName.toLowerCase();"#document"==d||"body"==d||(q.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),k=d(g,"focusout",function(a){c._onBlurNode(b||a.target)});return{remove:function(){h.remove();f.remove();k.remove();g=h=f=k=null}}}},_onBlurNode:function(a){a=(new Date).getTime();
a<r+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<v+100||(this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(c,d){v=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer);b.contains(c,"dijitPopup")&&(c=c.firstChild);var g=[];try{for(;c;){var e=a.get(c,"dijitPopupParent");if(e)c=s.byId(e).domNode;else if(c.tagName&&"body"==c.tagName.toLowerCase()){if(c===n.body())break;c=t.get(c.ownerDocument).frameElement}else{var m=c.getAttribute&&c.getAttribute("widgetId"),h=m&&s.byId(m);h&&!("mouse"==d&&h.get("disabled"))&&g.unshift(m);c=c.parentNode}}}catch(f){}this._setStack(g,d)},_onFocusNode:function(a){a&&9!=a.nodeType&&(r=(new Date).getTime(),
this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,g=a.length-1;if(a[g]!=c[d]){this.set("activeStack",a);var e;for(e=d;0<=e&&c[e]!=a[e];e--)if(d=s.byId(c[e]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),this.emit("widget-blur",d,b);for(e++;e<=g;e++)if(d=s.byId(a[e]))d.set("focused",
!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));g(function(){var a=w.registerWin(t.get(document));m("ie")&&d(window,"unload",function(){a&&(a.remove(),a=null)})});p.focus=function(a){w.focus(a)};for(var y in w)/^_/.test(y)||(p.focus[y]="function"==typeof w[y]?h.hitch(w,y):w[y]);w.watch(function(a,b,c){p.focus[a]=c});return w})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(l,f,c,a,b,k,e){var h={_isElementShown:function(b){var g=a.get(b);return"hidden"!=g.visibility&&"collapsed"!=g.visibility&&"none"!=g.display&&"hidden"!=c.get(b,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return c.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var e=a.contentDocument;if("designMode"in e&&"on"==e.designMode)return!0;b=e.body}catch(h){try{b=a.contentWindow.document.body}catch(f){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return c.get(a,"disabled")?void 0:c.has(a,"tabIndex")?+c.get(a,"tabIndex"):h.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=h.effectiveTabIndex(a)},isFocusable:function(a){return-1<=h.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var e,f,n,l,q,s,p={},r=h._isElementShown,v=h.effectiveTabIndex,w=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=k("ie")&&"HTML"!==a.scopeName||!r(a))){var d=v(a);if(0<=d){if(0==d)e||(e=a),f=a;else if(0<d){if(!n||d<l)l=d,n=a;if(!q||d>=s)s=d,q=a}d=b(a);c.get(a,"checked")&&d&&(p[d]=a)}"SELECT"!=a.nodeName.toUpperCase()&&w(a)}};r(a)&&w(a);return{first:p[b(e)]||e,last:p[b(f)]||f,lowest:p[b(n)]||n,highest:p[b(q)]||q}},getFirstInTabbingOrder:function(a,
b){var c=h._getTabNavigable(f.byId(a,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,b){var c=h._getTabNavigable(f.byId(a,b));return c.last?c.last:c.highest}};b.mixin(e,h);return h})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(l,f,c,a,b){var k=b.doc.documentElement;b=a("ie");var e=a("opera"),h=Math.floor,d=a("ff"),g=l.boxModel.replace(/-/,""),e={dj_quirks:a("quirks"),dj_opera:e,dj_khtml:a("khtml"),dj_webkit:a("webkit"),
dj_safari:a("safari"),dj_chrome:a("chrome"),dj_gecko:a("mozilla"),dj_ios:a("ios"),dj_android:a("android")};b&&(e.dj_ie=!0,e["dj_ie"+h(b)]=!0,e.dj_iequirks=a("quirks"));d&&(e["dj_ff"+h(d)]=!0);e["dj_"+g]=!0;var m="",u;for(u in e)e[u]&&(m+=u+" ");k.className=f.trim(k.className+" "+m);c(function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+m.replace(/ /g,"-rtl ");k.className=f.trim(k.className+" "+a+"dj_rtl dijitRtl "+m.replace(/ /g,"-rtl "))}});return a})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(l,f,c,a){c(function(){f("highcontrast")&&l.add(a.body(),"dijit_a11y")});return f})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(l,f,c,a,b,k,e){b.add("highcontrast",function(){var c=e.doc.createElement("div");c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(f.blankGif||l.toUrl("./resources/blank.gif"))+
'");';e.body().appendChild(c);var d=a.getComputedStyle(c),g=d.backgroundImage,d=d.borderTopColor==d.borderRightColor||g&&("none"==g||"url(invalid-url:)"==g);8>=b("ie")?c.outerHTML="":e.body().removeChild(c);return d});k(function(){b("highcontrast")&&c.add(e.body(),"dj_a11y")});return b})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(l,f,c,a,b,k,e,h){var d=f("dijit._TemplatedMixin",
h,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(b){var c=this.declaredClass,d=this;return e.substitute(b,this,function(b,g){"!"==g.charAt(0)&&(b=a.getObject(g.substr(1),!1,d));if("undefined"==typeof b)throw Error(c+" template:"+g);return null==b?"":"!"==g.charAt(0)?b:this._escapeValue(""+b)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},
buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=l(this.templatePath,{sanitize:!0}));var b=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),e;if(a.isString(b)){if(e=c.toDom(this._stringRepl(b),this.ownerDocument),1!=e.nodeType)throw Error("Invalid template: "+b);}else e=b.cloneNode(!0);this.domNode=e}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;
if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});d._templateCache={};d.getCachedTemplate=function(a,b,h){var f=d._templateCache,k=a,l=f[k];if(l){try{if(!l.ownerDocument||l.ownerDocument==(h||document))return l}catch(s){}c.destroy(l)}a=e.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return f[k]=a;b=c.toDom(a,h);if(1!=b.nodeType)throw Error("Invalid template: "+a);return f[k]=b};k("ie")&&b(window,"unload",function(){var a=d._templateCache,b;for(b in a){var e=a[b];"object"==typeof e&&c.destroy(e);
delete a[b]}});return d})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(l){return l.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(l,f,c,a){var b;b=function(b,c,d){a(b,{sync:!!c,headers:{"X-Requested-With":null}}).then(d)};var k={},e=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},h={},d={};l.cache=
function(a,c,d){var h;"string"==typeof a?/\//.test(a)?(h=a,d=c):h=f.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")):(h=a+"",d=c);a=void 0!=d&&"string"!=typeof d?d.value:d;d=d&&d.sanitize;if("string"==typeof a)return k[h]=a,d?e(a):a;if(null===a)return delete k[h],null;h in k||b(h,!0,function(a){k[h]=a});return d?e(k[h]):k[h]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?b(d):d)+(c[1]?"!"+c[1]:"")},load:function(a,c,f){a=a.split("!");var n=1<a.length,l=a[0],q=c.toUrl(a[0]);
a="url:"+q;var s=h,p=function(a){f(n?e(a):a)};l in k?s=k[l]:c.cache&&a in c.cache?s=c.cache[a]:q in k&&(s=k[q]);if(s===h)if(d[q])d[q].push(p);else{var r=d[q]=[p];b(q,!c.async,function(a){k[l]=k[q]=a;for(var b=0;b<r.length;)r[b++](a);delete d[q]})}else p(s)}}})},"dojo/request":function(){define(["./request/default!"],function(l){return l})},"dojo/request/default":function(){define(["exports","require","../has"],function(l,f,c){var a=c("config-requestProvider");a||(a="./xhr");l.getPlatformDefaultId=
function(){return"./xhr"};l.load=function(b,c,e,h){f(["platform"==b?"./xhr":a],function(a){e(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(l,f,c,a,b,k,e,h,d){var g=b.delegate(h,{mouseenter:k.enter,mouseleave:k.leave,keypress:c._keypress}),m;c=a("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);
this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,c,d){var e=!0,g=this.attachScope||this,h=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");
if(h)for(var f=h.split(/\s*,\s*/);h=f.shift();)b.isArray(g[h])?g[h].push(a):g[h]=a,e="containerNode"!=h,this._attachPoints.push(h);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){h=c.split(/\s*,\s*/);for(f=b.trim;c=h.shift();)if(c){var m=null;-1!=c.indexOf(":")?(m=c.split(":"),c=f(m[0]),m=f(m[1])):c=f(c);m||(m=c);this._attachEvents.push(d(a,c,b.hitch(g,m)))}}return e},_attach:function(a,b,c){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?m||(m=l("./a11yclick")):g[b]||b;return e(a,
b,c)},_detachTemplateNodes:function(){var a=this.attachScope||this;f.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];f.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});b.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""});return c})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(l,f,c,a,b,k){return f("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];l.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return b},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var c=b.disabled||!b.validate||
b.validate();!c&&!a&&(k.scrollIntoView(b.containerNode||b.domNode),b.focus(),a=!0);return c}),function(a){return a})},setValues:function(a){c.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(b){var c={};l.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var d in c)if(c.hasOwnProperty(d)){var g=c[d],f=a.getObject(d,!1,b);void 0!==f&&(f=[].concat(f),
"boolean"==typeof g[0].checked?l.forEach(g,function(a){a.set("value",-1!=l.indexOf(f,a._get("value")))}):g[0].multiple?g[0].set("value",f):l.forEach(g,function(a,b){a.set("value",f[b])}))}},getValues:function(){c.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};l.forEach(this._getDescendantFormWidgets(),function(c){var d=c.name;if(d&&!c.disabled){var g=c.get("value");"boolean"==typeof c.checked?
/Radio/.test(c.declaredClass)?!1!==g?a.setObject(d,g,b):(g=a.getObject(d,!1,b),void 0===g&&a.setObject(d,null,b)):(c=a.getObject(d,!1,b),c||(c=[],a.setObject(d,c,b)),!1!==g&&c.push(g)):(c=a.getObject(d,!1,b),"undefined"!=typeof c?a.isArray(c)?c.push(g):a.setObject(d,[c,g],b):a.setObject(d,g,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=l.map(this._descendants,function(a){return a.get("state")||""});return 0<=l.indexOf(a,"Error")?
"Error":0<=l.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();l.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(b(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,c){this.onValidStateChange(""==c)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(l,f,c,a,b,k,e,h,d,g){return f("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);
this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(d.on("resize",k.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;e("\x3e *",this.containerNode).some(function(c){var d=h.byNode(c);d&&d.resize?a.push(d):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;c.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,
b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();b&&a.setMarginBox(this.domNode,b);var d=this.containerNode;if(d===this.domNode){var e=c||{};k.mixin(e,b||{});if(!("h"in e)||!("w"in e))e=k.mixin(a.getMarginBox(d),e);this._contentBox=g.marginBox2contentBox(d,e)}else this._contentBox=a.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();
if(this._singleChild&&this._singleChild.resize){var b=this._contentBox||a.getContentBox(this.containerNode);this._singleChild.resize({w:b.w,h:b.h})}else for(var b=this.getChildren(),c,d=0;c=b[d++];)c.resize&&c.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!c.contains(a,"dijitHidden")&&
b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(l,f,c,a,b){var k=new l,e;c(function(){var c=b.getBox();k._rlh=f(window,"resize",function(){var a=b.getBox();c.h==a.h&&c.w==a.w||(c=a,k.emit("resize"))});if(8==a("ie")){var d=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=
d&&(d=screen.deviceXDPI,k.emit("resize"))},500)}a("ios")&&(f(document,"focusin",function(a){e=a.target}),f(document,"focusout",function(a){e=null}))});k.getEffectiveBox=function(c){c=b.getBox(c);var d=e&&e.tagName&&e.tagName.toLowerCase();if(a("ios")&&e&&!e.readOnly&&("textarea"==d||"input"==d&&/^(color|email|number|password|search|tel|text|url)$/.test(e.type)))c.h*=0==orientation||180==orientation?0.66:0.4,d=e.getBoundingClientRect(),c.h=Math.max(c.h,d.top+d.height);return c};return k})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(l,f,c,a,b){function k(a,d){var g=a.resize?a.resize(d):c.setMarginBox(a.domNode,d);g?b.mixin(a,g):(b.mixin(a,c.getMarginBox(a.domNode)),b.mixin(a,d))}var e={marginBox2contentBox:function(b,d){var g=a.getComputedStyle(b),e=c.getMarginExtents(b,g),f=c.getPadBorderExtents(b,g);return{l:a.toPixelValue(b,g.paddingLeft),t:a.toPixelValue(b,g.paddingTop),w:d.w-(e.w+f.w),h:d.h-(e.h+f.h)}},layoutChildren:function(a,c,g,e,u){c=
b.mixin({},c);f.add(a,"dijitLayoutContainer");g=l.filter(g,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(l.filter(g,function(a){return"center"==a.region||"client"==a.layoutAlign}));l.forEach(g,function(a){var b=a.domNode,g=a.region||a.layoutAlign;if(!g)throw Error("No region setting for "+a.id);var h=b.style;h.left=c.l+"px";h.top=c.t+"px";h.position="absolute";f.add(b,"dijitAlign"+(g.substring(0,1).toUpperCase()+g.substring(1)));b={};e&&e==a.id&&(b["top"==a.region||"bottom"==
a.region?"h":"w"]=u);"leading"==g&&(g=a.isLeftToRight()?"left":"right");"trailing"==g&&(g=a.isLeftToRight()?"right":"left");"top"==g||"bottom"==g?(b.w=c.w,k(a,b),c.h-=a.h,"top"==g?c.t+=a.h:h.top=c.t+c.h+"px"):"left"==g||"right"==g?(b.h=c.h,k(a,b),c.w-=a.w,"left"==g?c.l+=a.w:h.left=c.l+c.w+"px"):("client"==g||"center"==g)&&k(a,c)})}};b.setObject("dijit.layout.utils",e);return e})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(l,f,c){return l([f,c],
{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(l,f,c,a,b,k,e){function h(a,b){b&&b.nodeType&&a.appendChild(b)}function d(a,b,c,d){if(this.formatter){d=this.formatter;var g=this.grid.formatterScope;c.innerHTML="string"===typeof d&&g?g[d](b,a):this.formatter(b,a)}else null!=b&&c.appendChild(document.createTextNode(b))}var g=8>a("ie")&&!a("quirks");f=f(k,{columns:null,cellNavigation:!0,
tabableHeader:!0,showHeader:!0,column:function(a){return"object"!=typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var d=a.columnId;if(d){b=d;c=a;break}a=a.parentNode}while(a&&a!=this.domNode)}if(!c&&"undefined"!=typeof b){var g=this.row(a);if(d=g&&g.element)for(var d=d.getElementsByTagName("td"),e=0;e<d.length;e++)if(d[e].columnId==b){c=
d[e];break}}if(null!=a)return{row:g||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(c,d,f,h){var k=b("table.dgrid-row-table[role\x3dpresentation]"),l=9>a("ie")||a("quirks")?b(k,"tbody"):k,p,r,v,w,y,A,z,B,E,x;f=f||this.subRows;r=0;for(v=f.length;r<v;r++){A=f[r];p=b(l,"tr");A.className&&b(p,"."+A.className);w=0;for(y=A.length;w<y;w++){z=A[w];B=z.id;E=z.field?".field-"+e.escapeCssIdentifier(z.field,"-"):"";(x="function"===typeof z.className?z.className(h):z.className)&&(E+=
"."+x);E=b(c+(".dgrid-cell.dgrid-cell-padding"+(B?".dgrid-column-"+e.escapeCssIdentifier(B,"-"):"")+E.replace(/ +/g,"."))+"[role\x3d"+("th"===c?"columnheader":"gridcell")+"]");E.columnId=B;g?(B=b(E,"!dgrid-cell-padding div.dgrid-cell-padding"),E.contents=B):B=E;if(x=z.colSpan)E.colSpan=x;if(x=z.rowSpan)E.rowSpan=x;d(B,z);p.appendChild(E)}}return k},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,
b||1,"dgrid-cell"))},renderRow:function(a,c){var g=this.createRowCells("td",function(b,g){var e=a;g.get?e=g.get(a):"field"in g&&"_item"!=g.field&&(e=e[g.field]);g.renderCell?h(b,g.renderCell(a,e,b,c)):d.call(g,a,e,b,c)},c&&c.subRows,a);return b("div[role\x3drow]\x3e",g)},renderHeader:function(){var d=this,e=this.headerNode,f=e.childNodes.length;for(e.setAttribute("role","row");f--;)b(e.childNodes[f],"!");f=this.createRowCells("th",function(a,b){var c=b.headerNode=a;g&&(a=a.parentNode);var d=b.field;
d&&(a.field=d);if(b.renderHeaderCell)h(c,b.renderHeaderCell(c));else if("label"in b||b.field)c.appendChild(document.createTextNode("label"in b?b.label:b.field));!1!==b.sortable&&(d&&"_item"!=d)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[f.id=this.id+"-header"]=this.columns;e.appendChild(f);this._sortListener&&this._sortListener.remove();this._sortListener=c(f,"click,keydown",function(b){if("click"==b.type||32==b.keyCode||!a("opera")&&
13==b.keyCode){var g=b.target,f,h,k;do if(g.sortable){k=[{attribute:f=g.field||g.columnId,descending:(h=d._sort[0])&&h.attribute==f&&!h.descending}];f={bubbles:!0,cancelable:!0,grid:d,parentType:b.type,sort:k};c.emit(b.target,"dgrid-sort",f)&&(d._sortNode=g,d.set("sort",k));break}while((g=g.parentNode)&&g!=e)}})},resize:function(){var b=this.headerNode.firstChild,c=this.contentNode,d;this.inherited(arguments);if(!a("ie")||7<a("ie")&&!a("quirks"))if(c.style.width="",c&&b&&(d=b.offsetWidth)!=c.offsetWidth)c.style.width=
d+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(a,b){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(a){var b=this.columns,c;for(c in b){var d=b[c];if(d.field==a)return d.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(b(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),b(this._lastSortedArrow,"!"),delete this._lastSortedArrow);c&&(this._sort=
a);if(a[0]){var d=a[0].attribute,g=a[0].descending,d=this._sortNode||this._findSortArrowParent(d),e;delete this._sortNode;d&&(d=d.contents||d,e=this._lastSortedArrow=b("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),e.innerHTML="\x26nbsp;",d.insertBefore(e,d.firstChild),b(d,g?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+e.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+e.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,
b){var c=[],d=b instanceof Array;e.each(b,function(g,e){"string"==typeof g&&(b[e]=g={label:g});!d&&!g.field&&(g.field=e);e=g.id=g.id||(isNaN(e)?e:a+e);this._configColumn&&(this._configColumn(g,e,b,a),e=g.id);d&&(this.columns[e]=g);g.grid=this;"function"===typeof g.init&&g.init();c.push(g)},this);return d?b:c},_destroyColumns:function(){var a=this.subRows,b=a&&a.length,c,d,g,e;this.cleanup();for(c=0;c<b;c++){d=0;for(e=a[c].length;d<e;d++)g=a[c][d],"function"===typeof g.destroy&&g.destroy()}},configStructure:function(){var a=
this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){l.deprecated("setColumns(...)",'use set("columns", ...) instead',
"dgrid 0.4");this.set("columns",a)},setSubRows:function(a){l.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});f.appendIfNode=h;f.defaultRenderCell=d;return f})},"put-selector/put":function(){(function(l){var f,
c=/[-+,> ]/;l([],f=function(a,b){function k(b){function f(){p&&(s&&p!=s)&&(s==b&&(l||(l=c.test(y)&&a.createDocumentFragment()))?l:s).insertBefore(p,q||null)}for(var l,t,q,s,p,r=arguments,v=r[0],w=0;w<r.length;w++){var y=r[w];if("object"==typeof y){t=!1;if(y instanceof Array){p=a.createDocumentFragment();for(var A=0;A<y.length;A++)p.appendChild(k(y[A]));y=p}if(y.nodeType)p=y,f(),s=y,q=0;else for(A in y)p[A]=y[A]}else if(t)t=!1,p.appendChild(a.createTextNode(y));else{1>w&&(b=null);t=!0;if(v=y.replace(e,
function(c,e,l,n,t,v){e&&(f(),"-"==e||"+"==e?(s=(q=p||s).parentNode,p=null,"+"==e&&(q=q.nextSibling)):("\x3c"==e?s=p=(p||s).parentNode:(","==e?s=b:p&&(s=p),p=null),q=0),p&&(s=p));if((c=!l&&n)||!p&&(l||t))"$"==c?(c=r[++w],s.appendChild(a.createTextNode(c))):(c=c||k.defaultTag,(e=g&&r[w+1]&&r[w+1].name)&&(c="\x3c"+c+' name\x3d"'+e+'"\x3e'),p=d&&~(h=c.indexOf("|"))?a.createElementNS(d[c.slice(0,h)],c.slice(h+1)):a.createElement(c));if(l)if("$"==n&&(n=r[++w]),"#"==l)p.id=n;else if(e=(c=p.className)&&
(" "+c+" ").replace(" "+n+" "," "),"."==l)p.className=c?(e+n).substring(1):n;else if("!"==y){var A;g?k("div",p,"\x3c").innerHTML="":(A=p.parentNode)&&A.removeChild(p)}else e=e.substring(1,e.length-1),e!=c&&(p.className=e);t&&("$"==v&&(v=r[++w]),"style"==t?p.style.cssText=v:(l="!"==t.charAt(0)?(t=t.substring(1))&&"removeAttribute":"setAttribute",v=""===v?t:v,d&&~(h=t.indexOf("|"))?p[l+"NS"](d[t.slice(0,h)],t.slice(h+1),v):p[l](t,v)));return""}))throw new SyntaxError("Unexpected char "+v+" in "+y);
f();s=v=p||s}}b&&l&&b.appendChild(l);return v}c=b||c;var e=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,h,d=!1;a=a||document;var g="object"==typeof a.createElement;k.addNamespace=function(b,c){a.createElementNS?(d||(d={}))[b]=c:a.namespaces.add(b,c)};k.defaultTag="div";k.forDocument=f;return k})})(function(l,f,c){c=c||f;"function"===typeof define?define([],function(){return c()}):"undefined"==typeof window?require("./node-html")(module,c):put=
c()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(l,f,c,a,b,k,e,h,d){function g(a,b){d(document.body,a,".dgrid-scrollbar-measure");var c=a["offset"+b]-a["client"+b];a.className="";document.body.removeChild(a);return c}function m(a){var b=a?"."+a.replace(r,"."):"";this._class&&(b="!"+this._class.replace(r,"!")+
b);d(this.domNode,b);this._class=a}function u(){return this._class}function n(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function t(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&(this.bodyNode.scrollTop=a.y)}h("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var q,s;b.add("dom-scrollbar-width",function(a,b,c){return g(c,"Width")});b.add("dom-scrollbar-height",function(a,b,c){return g(c,"Height")});b.add("dom-rtl-scrollbar-left",
function(a,c,g){a=d("div");d(document.body,g,".dgrid-scrollbar-measure[dir\x3drtl]");d(g,a);c=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");g.className="";document.body.removeChild(g);d(a,"!");g.removeAttribute("dir");return c});var p=0,r=/ +/g,v=7>b("ie")&&!b("quirks")?function(){var a,b,c;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||[],c[0]!==b||c[1]!==a))this.resize(),this._prevWinDims=[b,a]}:function(){this._started&&this.resize()};
return f(b("touch")?e:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,c){var g=this.domNode=c||d("div"),e;a?
(this.params=a,f.safeMixin(this,a),e=a["class"]||a.className||g.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=g.id=g.id||this.id||"dgrid_"+p++;null===this.useTouchScroll&&(this.useTouchScroll=!b("dom-scrollbar-width"));this.buildRendering();e&&m.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},
buildRendering:function(){var c=this.domNode,g=this.addUiClasses,e=this,f,h,m,l;l=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();c.className="";d(c,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(g?".ui-widget":""));f=this.headerNode=d(c,"div.dgrid-header.dgrid-header-row"+(g?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(b("quirks")||8>b("ie"))&&d(c,"div.dgrid-spacer");h=this.bodyNode=d(c,"div.dgrid-scroller");
b("ff")&&(h.tabIndex=-1);this.headerScrollNode=d(c,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(g?".ui-widget-header":""));m=this.footerNode=d("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));d(c,m);l&&(c.className+=" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));a(h,"scroll",function(b){e.showHeader&&(f.scrollLeft=b.scrollLeft||h.scrollLeft);b.stopPropagation();a.emit(c,"scroll",{scrollTarget:h})});this.configStructure();this.renderHeader();this.contentNode=
this.touchNode=d(this.bodyNode,"div.dgrid-content"+(g?".ui-widget-content":""));this._listeners.push(this._resizeHandle=a(window,"resize",k.throttleDelayed(v,this)))},postCreate:b("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,c=this.headerNode,d=this.footerNode,g=c.offsetHeight,
e=this.showFooter?d.offsetHeight:0,f=b("quirks")||7>b("ie");this.headerScrollNode.style.height=a.style.marginTop=g+"px";a.style.marginBottom=e+"px";f&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-g-e,0)+"px",e&&(d.style.bottom="1px",setTimeout(function(){d.style.bottom=""},0)));q||(q=b("dom-scrollbar-width"),s=b("dom-scrollbar-height"),b("ie")&&(q++,s++),k.addCssRule(".dgrid-scrollbar-width","width: "+q+"px"),k.addCssRule(".dgrid-scrollbar-height","height: "+s+"px"),17!=q&&
!f&&(k.addCssRule(".dgrid-header-row","right: "+q+"px"),k.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+q+"px")));f&&(c.style.width=a.clientWidth+"px",setTimeout(function(){c.scrollLeft=a.scrollLeft},0))},addCssRule:function(a,b){var c=k.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(c);return c},on:function(c,d){var g=a(this.domNode,c,d);b("dom-addeventlistener")||this._listeners.push(g);return g},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=
this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();delete this._listeners}this._started=!1;this.cleanup();d(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";
this.scrollTo({x:0,y:0})},newRow:function(a,b,c,g,e){if(b){var f=this.insertRow(a,b,c,g,e);d(f,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){d(f,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return f}},adjustRowIndices:function(a){var b=a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&d(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=
b++);while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,d){function g(){var b=arguments;if(-1<r)for(var c=0;c<b.length;c++){var f=b[c],h=p[f?0:p.length-1];if(h=h&&e(h)){var m=h[f?"previousSibling":"nextSibling"];m&&(m=k.row(m));m&&m.element!=h&&(f=f?"unshift":"push",a[f](m.data),p[f](m.element),d.count++)}}}function e(a){return!c.isDescendant(a,k.domNode)&&document.getElementById(a.id)?k.row(a.id.slice(k.id.length+5)).element:a}function f(a){t=k.insertRow(a,s,null,m++,d);t.observerIndex=
r;return t}function h(a){u=a.slice(0);(n=b?b.parentNode:k.contentNode)&&n.parentNode&&(n!==k.contentNode||a.length)?(n.insertBefore(s,b||null),(t=a[a.length-1])&&k.adjustRowIndices(t)):l[r]&&k.cleanEmptyObservers&&"undefined"!==typeof r&&(l[r].cancel(),l[r]=0,k._numObservers--);p=a;q&&(q.rows=p)}d=d||{};var k=this,m=d.start||0,l=this.observers,p,n,r;b||(this._lastCollection=a);if(a.observe){k._numObservers++;var q=a.observe(function(c,f,h){var m,l,q;-1<f&&p[f]&&(m=p.splice(f,1)[0],m.parentNode==n&&
((l=m.nextSibling)&&f!=h&&l.rowIndex--,k.removeRow(m)),d.count--,k._processScroll&&k._processScroll());if(-1<h){if(p.length)if(0===h)q=(q=p[h])&&e(q);else{if(q=p[h-1])q=e(q),q=(q.connected||q).nextSibling}else q=k._getFirstRowSibling&&k._getFirstRowSibling(n);m&&(q&&m.id===q.id)&&(q=(q.connected||q).nextSibling);q&&!q.parentNode&&(q=document.getElementById(q.id));m=b&&b.parentNode||q&&q.parentNode||k.contentNode;if(m=k.newRow(c,m,q,d.start+h,d))if(m.observerIndex=r,p.splice(h,0,m),!l||h<f)l=m.previousSibling,
l=!l||l.rowIndex+1==m.rowIndex||0==m.rowIndex?m:l;d.count++}0===f?g(1,1):f===a.length-(-1===h?0:1)&&g(0,0);f!=h&&l&&k.adjustRowIndices(l);k._onNotification(p,c,f,h)},!0);r=l.push(q)-1}var s=document.createDocumentFragment(),t,u;if(a.map){if(p=a.map(f,console.error),p.then)return a.then(function(b){a=b;return p.then(function(a){h(a);g(1,1,0,0);return u})})}else{p=[];for(var v=0,L=a.length;v<L;v++)p[v]=f(a[v])}h(p);g(1,1,0,0);return u},_onNotification:function(a,b,c,d){},renderHeader:function(){},_autoId:0,
insertRow:function(a,b,c,d,g){var e=g.parentId,e=this.id+"-row-"+(e?e+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),f=document.getElementById(e),h=f&&f.previousSibling;f&&(f===c&&(c=(c.connected||c).nextSibling),this.removeRow(f));f=this.renderRow(a,g);f.className=(f.className||"")+" dgrid-row "+(1==d%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[f.id=e]=a;b.insertBefore(f,c||null);h&&this.adjustRowIndices(h);
f.rowIndex=d;return f},renderRow:function(a,b){return d("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||d(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+
b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,d){var g,e;e=g=a.element;b=b||1;do if(a=g[0>b?"previousSibling":"nextSibling"]){do if((g=a)&&-1<(g.className+" ").indexOf(c+" ")){e=g;b+=0>b?1:-1;break}while(a=(!d||!g.hidden)&&g[0>b?"lastChild":"firstChild"])}else if(g=g.parentNode,!g||g===this.bodyNode||g===this.headerNode)break;while(b);return e},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,
-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:b("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):t.call(this,a)}:t,getScrollPosition:b("touch")?function(){return this.useTouchScroll?this.inherited(arguments):n.call(this)}:n,get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,
b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:u,_setClass:m,_getClassName:u,_setClassName:m,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(c,d){var g=c[a],
e=d[a];void 0===g&&(g="");void 0===e&&(e="");return g==e?0:g>e==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){l.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;d(b,(a?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){l.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;d(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(l,f){l.add("dom-contains",function(a,b,c){return!!c.contains});var c=[],a,b,k,e=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,h={defaultDelay:15,throttle:function(a,b,c){var e=!1;c=c||h.defaultDelay;return function(){e||(e=!0,a.apply(b,arguments),
setTimeout(function(){e=!1},c))}},throttleDelayed:function(a,b,c){var e=!1;c=c||h.defaultDelay;return function(){if(!e){e=!0;var f=arguments;setTimeout(function(){e=!1;a.apply(b,f)},c)}}},debounce:function(a,b,c){var e;c=c||h.defaultDelay;return function(){e&&(clearTimeout(e),e=null);var f=arguments;e=setTimeout(function(){a.apply(b,f)},c)}},each:function(a,b,c){var e,f;if(a)if("number"===typeof a.length){e=0;for(f=a.length;e<f;e++)b.call(c,a[e],e,a)}else for(e in a)b.call(c,a[e],e,a)},contains:function(a,
b){return l("dom-contains")?a.contains(b):a.compareDocumentPosition(b)&8},addCssRule:function(d,g){a||(a=f(document.getElementsByTagName("head")[0],"style"),a=a.sheet||a.styleSheet,b=a.deleteRule?"deleteRule":"removeRule",k=a.cssRules?"cssRules":"rules");var e=c.length;c[e]=(a.cssRules||a.rules).length;a.addRule?a.addRule(d,g):a.insertRule(d+"{"+g+"}",c[e]);return{get:function(b){return a[k][c[e]].style[b]},set:function(b,d){"undefined"!==typeof c[e]&&(a[k][c[e]].style[b]=d)},remove:function(){var d=
c[e],g,f;if(void 0!==d){a[b](d);c[e]=void 0;g=e+1;for(f=c.length;g<f;g++)c[g]>d&&c[g]--}}}},escapeCssIdentifier:function(a,b){return"string"===typeof a?a.replace(e,b||"\\$1"):a}};return h})},"xstyle/has-class":function(){define(["dojo/has"],function(l){var f={};return function(){for(var c,a=arguments,b=0;b<a.length;b++)if(c=a[b],!f[c]){f[c]=!0;var k=c.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),e=l(k[2]),h=-k[4];if((0<h?h<=e&&(-k[5]||h)>=e:!!e)==!k[1])document.documentElement.className+=" has-"+
c}}})},"xstyle/css":function(){define(["require"],function(l){function f(c,a,b){var f=document.documentElement;c=f.insertBefore(document.createElement(c),f.firstChild);c.id=a;a=(c.currentStyle||getComputedStyle(c,null))[b];f.removeChild(c);return a}return{load:function(c,a,b,k){function e(c){var d=f("x-parse",null,"content"),e=c&&(c.sheet||c.styleSheet);d&&"none"!=d&&"normal"!=d?a([eval(d)],function(a){c?a.process(c,b):(a.processAll(),b(e))}):b(e)}var h=a.toUrl(c),d;h.match(/!$/)&&(d={wait:!1},h=
h.slice(0,-1));var g=a.cache&&a.cache["url:"+h];if(g)g.xCss&&(g=g.cssText),l(["./core/load-css"],function(a){e(a.insertCss(g))});else{if("none"==f("div",c.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return e();l(["./core/load-css"],function(a){a(h,e,d)})}}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(l,f,c,a,b,k,e,h,d){return c([l,f],{minRowsPerPage:25,
maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:h.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var a=this;e(this.bodyNode,"scroll",h[this.pagingMethod](function(b){a._processScroll(b)},null,this.pagingDelay))},renderQuery:function(c,e){function f(a){d(w,"!");if(a)throw h._refreshDeferred&&(h._refreshDeferred.reject(a),delete h._refreshDeferred),a;}var h=this,k=e&&e.container||
this.contentNode,l={query:c,count:0,options:e},s,p=this.preload,r,v={node:d(k,"div.dgrid-preload",{rowIndex:0}),count:0,query:c,next:l,options:e};v.node.style.height="0";l.node=s=d(k,"div.dgrid-preload");l.previous=v;s.rowIndex=this.minRowsPerPage;p?((l.next=p.next)&&s.offsetTop>=p.node.offsetTop?l.previous=p:(l.next=p,l.previous=p.previous),l.previous.next=l,l.next.previous=l):this.preload=l;var w=d(s,"-div.dgrid-loading");d(w,"div.dgrid-below").innerHTML=this.loadingMessage;e=a.mixin(this.get("queryOptions"),
e,{start:0,count:this.minRowsPerPage},"level"in c?{queryLevel:c.level}:null);this._trackError(function(){return r=c(e)});if("undefined"===typeof r)f();else return b.when(h.renderArray(r,s,e),function(a){return b.when("undefined"===typeof r.total?r.length:r.total,function(b){var c=a.length,g=s.parentNode,f=h.noDataNode;d(w,"!");"queryLevel"in e||(h._total=b);0===b&&(f&&(d(f,"!"),delete h.noDataNode),h.noDataNode=f=d("div.dgrid-no-data"),g.insertBefore(f,h._getFirstRowSibling(g)),f.innerHTML=h.noDataMessage);
for(f=g=0;f<c;f++)g+=h._calcRowHeight(a[f]);c&&g&&(h.rowHeight=g/c);b-=c;l.count=b;s.rowIndex=c;b?s.style.height=Math.min(b*h.rowHeight,h.maxEmptySpace)+"px":(s.style.display="none",e.count++);h._previousScrollPosition&&(h.scrollTo(h._previousScrollPosition),delete h._previousScrollPosition);h._processScroll();h._refreshDeferred&&(h._refreshDeferred.resolve(r),delete h._refreshDeferred);return a},f)},f),r},refresh:function(a){var c=this,d=a&&a.keepScrollPosition,f;"undefined"===typeof d&&(d=this.keepScrollPosition);
d&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return d=this._refreshDeferred=new b,f=c.renderQuery(function(a){return c.store.query(c.query,a)}),"undefined"===typeof f&&d.reject(),d.then(function(a){setTimeout(function(){e.emit(c.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:c,results:a})},0);delete c._refreshDeferred;return a},function(a){delete c._refreshDeferred;throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},
_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var b=a.nextSibling;return b&&!/\bdgrid-preload\b/.test(b.className)?b.offsetTop-a.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(c){function e(a,b,c,g){var h=k.farOffRemoval,l=a.node;if(b>2*h){for(var m,p=l[c],r=0,n=0,q=[];m=p;){var s=k._calcRowHeight(m);if(r+s+h>b||0>p.className.indexOf("dgrid-row")&&0>p.className.indexOf("dgrid-loading"))break;p=m[c];r+=s;n+=m.count||1;k.removeRow(m,!0);q.push(m)}a.count+=
n;g?(l.rowIndex-=n,f(a)):l.style.height=l.offsetHeight+r+"px";var v=d("div",q);setTimeout(function(){d(v,"!")},1)}}function f(a,b){a.node.style.height=Math.min(a.count*k.rowHeight,b?Infinity:k.maxEmptySpace)+"px"}function h(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var k=this,l=k.bodyNode;c=c&&c.scrollTop||this.getScrollPosition().y;var l=l.offsetHeight+c,s,p,r=k.preload,v=k.lastScrollTop,w=k.bufferRows*k.rowHeight,y=w-k.rowHeight,A,z,B,E=!0;for(k.lastScrollTop=c;r&&!r.node.offsetWidth;)r=
r.previous;for(;r&&r!=s;){s=k.preload;k.preload=r;p=r.node;var x=p.offsetTop;if(l+1+y<x)r=h(r,E=!1);else if(c-1-y>x+p.offsetHeight)r=h(r,E=!0);else{var D=((p.rowIndex?c-w:l)-x)/k.rowHeight,x=(l-c+2*w)/k.rowHeight,F=Math.max(Math.min((c-v)*k.rowHeight,k.maxRowsPerPage/2),k.maxRowsPerPage/-2),x=x+Math.min(Math.abs(F),10);0==p.rowIndex&&(D-=x);D=Math.max(D,0);10>D&&(0<D&&x+D<k.maxRowsPerPage)&&(x+=Math.max(0,D),D=0);x=Math.min(Math.max(x,k.minRowsPerPage),k.maxRowsPerPage,r.count);if(0==x)r=h(r,E);else{var x=
Math.ceil(x),D=Math.min(Math.floor(D),r.count-x),G=a.mixin(k.get("queryOptions"),r.options);r.count-=x;var I=p,J,K=k.queryRowsOverlap;if(F=(0<p.rowIndex||p.offsetTop>c)&&r){var Q=r.previous;Q&&(e(Q,c-(Q.node.offsetTop+Q.node.offsetHeight),"nextSibling"),0<D&&Q.node==p.previousSibling?(D=Math.min(r.count,D),r.previous.count+=D,f(r.previous,!0),p.rowIndex+=D,K=0):x+=D,r.count-=D);G.start=p.rowIndex-K;G.count=Math.min(x+K,k.maxRowsPerPage);p.rowIndex=G.start+G.count}else r.next&&(e(r.next,r.next.node.offsetTop-
l,"previousSibling",!0),I=p.nextSibling,I==r.next.node?(r.next.count+=r.count-D,r.next.node.rowIndex=D+x,f(r.next),r.count=D,K=0):J=!0),G.start=r.count,G.count=Math.min(x+K,k.maxRowsPerPage);J&&(I&&I.offsetWidth)&&(J=I.offsetTop);f(r);"level"in r.query&&(G.queryLevel=r.query.level);if("queryLevel"in G||!(G.start>k._total||0>G.count)){p=d(I,"-div.dgrid-loading[style\x3dheight:"+x*k.rowHeight+"px]");d(p,"div.dgrid-"+(F?"below":"above")).innerHTML=k.loadingMessage;p.count=x;var C=r.query(G);if(void 0===
k._trackError(function(){return C})){d(p,"!");return}(function(a,c,e,g){B=b.when(k.renderArray(g,a,G),function(h){z=g;I=a.nextSibling;d(a,"!");if(e&&I&&I.offsetWidth){var l=k.getScrollPosition();k.scrollTo({x:l.x,y:l.y+I.offsetTop-e,preserveMomentum:!0})}b.when(g.total||g.length,function(a){"queryLevel"in G||(k._total=a);c&&(c.count=a-c.node.rowIndex,0===c.count&&G.count++,f(c))});k._processScroll();return h},function(b){d(a,"!");throw b;})}).call(this,p,F,J,C);r=r.previous}}}}if(B&&(A=this._refreshDeferred))delete this._refreshDeferred,
b.when(B,function(){A.resolve(z)})},removeRow:function(a,b){if(a){var c=a.previousSibling,d=a.nextSibling,c=c&&(null!=c.observerIndex?c.observerIndex:c.previousObserverIndex),e=d&&(null!=d.observerIndex?d.observerIndex:d.nextObserverIndex),d=a.observerIndex;a.observerIndex=void 0;b&&(a.nextObserverIndex=e,a.previousObserverIndex=c);if(this.cleanEmptyObservers&&(-1<d&&d!==c&&d!==e)&&(c=this.observers,e=c[d])){if(!b)for(var f=e.rows,h=0;h<f.length;h++)if(f[h]!=a&&k.isDescendant(f[h],this.domNode))return this.inherited(arguments);
e.cancel();this._numObservers--;c[d]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(l,f,c,a,b,k,e){function h(a){return a}function d(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;a.grid=this;b.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return f(null,{store:null,
query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};k.before(this,"configStructure",c.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(a){a.set&&
(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_updateNotifyHandle:function(a){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);a&&"function"===typeof a.notify&&(this._notifyHandle=k.after(a,"notify",c.hitch(this,"_onNotify"),!0),a=this.get("sort"),(!a||!a.length)&&console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},
_setStore:function(a,b,c){this._updateNotifyHandle(a);this.store=a;this.dirty={};this.set("query",b,c)},_setQuery:function(a,b){var c=b&&b.sort;this.query=void 0!==a?a:this.query;this.queryOptions=b||this.queryOptions;c?this.set("sort",c):this.refresh()},setStore:function(a,b,c){l.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",a,b,c)},setQuery:function(a,b){l.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",a,b)},_getQueryOptions:function(){var a=
c.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)a.sort=this._sort;return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?c.delegate(a,{}):a},_setSort:function(a,b){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(a,b){this.inherited(arguments);a&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var a=this.inherited(arguments);this.store||(this.noDataNode=e(this.contentNode,
"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return a},renderArray:function(){var b=this,c=this.inherited(arguments);this.store||a.when(c,function(a){a.length&&b.noDataNode&&e(b.noDataNode,"!")});return c},insertRow:function(a,b,d,e,f){var h=this.store,k=this.dirty,h=h&&h.getIdentity(a),l;h in k&&!(h in this._updating)&&(l=k[h]);l&&(a=c.delegate(a,l));return this.inherited(arguments)},updateDirty:function(a,b,c){var d=this.dirty,e=d[a];e||(e=d[a]={});e[b]=c},setDirty:function(a,
b,c){l.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(a,b,c)},save:function(){function b(g,f){return function(b){var h=c._columnsWithSet,k=c._updating,l,p;if("function"===typeof b.set)b.set(f);else for(l in f)b[l]=f[l];for(l in h)p=h[l].set(b),void 0!==p&&(b[l]=p);k[g]=!0;return a.when(d.put(b),function(){delete e[g];delete k[g]})}}var c=this,d=this.store,e=this.dirty,f=new a,h=f.promise,k=function(a){var b;return c.getBeforePut||!(b=c.row(a).data)?function(){return d.get(a)}:
function(){return b}},l;for(l in e)var r=b(l,e[l]),h=h.then(k(l)).then(r);f.resolve();return h},revert:function(){this.dirty={};this.refresh()},_trackError:function(b){var e;"string"==typeof b&&(b=c.hitch(this,b));try{e=b()}catch(f){d.call(this,f)}return a.when(e,h,c.hitch(this,d))},newRow:function(){var a=this.inherited(arguments);this.noDataNode&&(e(this.noDataNode,"!"),delete this.noDataNode);return a},removeRow:function(a,b){var c={element:a};!b&&(this.noDataMessage&&this.up(c).element===a&&this.down(c).element===
a)&&(this.noDataNode=e(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(l,f,c,a,b,k,e,h,d){function g(a){for(var b=a.length,c=b,d=a[0].length,e=Array(b);b--;)e[b]=Array(d);
for(var g={},b=0;b<c;b++)for(var f=e[b],h=a[b],k=0,l=0;k<d;k++){var m=h[l],n;if("undefined"==typeof f[k]){f[k]=m.id;if(m.rowSpan&&1<m.rowSpan){n=e;for(var t=m.rowSpan,u=b,G=k,I=m.id,J=1;J<t;J++)n[u+J][G]=I}if(0<b&&m.colSpan&&1<m.colSpan)for(n=1;n<m.colSpan;n++)if(f[++k]=m.id,m.rowSpan&&1<m.rowSpan)for(var t=e,u=m.rowSpan,G=b,I=k,J=m.id,K=1;K<u;K++)t[G+K][I]=J;g[m.id]=a[0][k].id;l++}}return g}function m(a,b,c,d,e){if(!(0>=c)){var g=a.columns[b],k;if(g&&(k={grid:a,columnId:b,width:c,bubbles:!0,cancelable:!0},
d&&(k.parentType=d),!a._resizedColumns||f.emit(a.headerNode,"dgrid-columnresize",k)))return"auto"===c?delete g.width:(g.width=c,c+="px"),(d=a._columnSizes[b])?d.set("width",c):d=h.addCssRule("#"+h.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+h.escapeCssIdentifier(b,"-"),"width: "+c+";"),a._columnSizes[b]=d,!1!==e&&a.resize(),!0}}var u,n=0,t={create:function(){u=d("div.dgrid-column-resizer")},destroy:function(){d(u,"!");u=null},show:function(a){a=k.position(a.domNode,!0);u.style.top=a.y+"px";
u.style.height=a.h+"px";d(document.body,u)},move:function(a){u.style.left=a+"px"},hide:function(){u.parentNode.removeChild(u)}};return l(null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);n++||t.create()},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--n||t.destroy()},resizeColumnWidth:function(a,b){return m(this,a,b)},configStructure:function(){var b=this._oldColumnSizes=
a.mixin({},this._columnSizes),c;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(c in b)c in this._columnSizes||b[c].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var b=a.id,c;"width"in a&&((c=this._oldColumnSizes[b])?c.set("width",a.width+"px"):c=h.addCssRule("#"+h.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+h.escapeCssIdentifier(b,"-"),"width: "+a.width+"px;"),this._columnSizes[b]=c)},renderHeader:function(){this.inherited(arguments);
var b=this,k;if(this.columnSets&&this.columnSets.length)for(var l=this.columnSets.length;l--;)k=a.mixin(k||{},g(this.columnSets[l]));else this.subRows&&1<this.subRows.length&&(k=g(this.subRows));for(var l=c(".dgrid-cell",b.headerNode),m=l.length;m--;){var n=l[m],w=n.columnId,t=b.columns[w],u=n.childNodes;if(t&&!1!==t.resizable){t=d("div.dgrid-resize-header-container");for(n.contents=t;0<u.length;)d(t,u[0]);n=d(n,t,"div.dgrid-resize-handle.resizeNode-"+h.escapeCssIdentifier(w,"-"));n.columnId=k&&k[w]||
w}}b.mouseMoveListen||(f(b.headerNode,".dgrid-resize-handle:mousedown"+(e("touch")?",.dgrid-resize-handle:touchstart":""),function(a){b._resizeMouseDown(a,this);b.mouseMoveListen.resume();b.mouseUpListen.resume()}),b._listeners.push(b.mouseMoveListen=f.pausable(document,"mousemove"+(e("touch")?",touchmove":""),h.throttleDelayed(function(a){b._updateResizerPosition(a)}))),b._listeners.push(b.mouseUpListen=f.pausable(document,"mouseup"+(e("touch")?",touchend":""),function(a){b._resizeMouseUp(a);b.mouseMoveListen.pause();
b.mouseUpListen.pause()})),b.mouseMoveListen.pause(),b.mouseUpListen.pause())},_resizeMouseDown:function(a,d){a.preventDefault();b.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=c(".dgrid-column-"+h.escapeCssIdentifier(d.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(a);t.show(this)},_resizeMouseUp:function(a){var d=this._columnSizes,e,g,f;this.adjustLastColumn&&(f=this.headerNode.clientWidth-1);this._resizedColumns||(e=c(".dgrid-cell",
this.headerNode),this.columnSets&&this.columnSets.length?e=e.filter(function(a){return"0"==a.columnId.split("-")[0]&&!(a.columnId in d)}):this.subRows&&1<this.subRows.length&&(e=e.filter(function(a){return"0"==a.columnId.charAt(0)&&!(a.columnId in d)})),g=e.map(function(a){return a.offsetWidth}),e.forEach(function(a,b){m(this,a.columnId,g[b],null,!1)},this),this._resizedColumns=!0);b.setSelectable(this.domNode,!0);e=this._targetCell;var k=this._getResizeMouseLocation(a)-this._startX,l=e.offsetWidth+
k,n=this._getResizedColumnWidths(),u=n.totalWidth,n=n.lastColId,B=c(".dgrid-column-"+h.escapeCssIdentifier(n,"-"),this.headerNode)[0].offsetWidth;l<this.minWidth&&(l=this.minWidth);m(this,e.columnId,l,a.type)&&e.columnId!=n&&this.adjustLastColumn&&(u+k<f?m(this,n,"auto",a.type):B-k<=this.minWidth&&m(this,n,this.minWidth,a.type));t.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,
c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));t.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=c((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),d=b.length;if(!d)return{};for(var e=b[d-1].columnId;d--;)a+=b[d].offsetWidth;return{totalWidth:a,lastColId:e}}})})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(l,f,c,a,b,k,e,h){function d(a){a.preventDefault()}var g={checkbox:1,radio:1,button:1},m=/\bdgrid-cell\b/,u=/\bdgrid-row\b/,n=l(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=a.mixin({},n.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=a.mixin({},n.defaultHeaderKeyMap))},postCreate:function(){function a(b){var c=b.target;return c.type&&(!g[c.type]||32==b.keyCode)}function b(g){function k(){d._focusedHeaderNode&&
(d._focusedHeaderNode.tabIndex=-1);if(d.showHeader){if(l)for(var a=0,b,c=d.headerNode.getElementsByTagName("th");b=c[a];++a){if(p.test(b.className)){d._focusedHeaderNode=n=b;break}}else d._focusedHeaderNode=n=d.headerNode;n&&(n.tabIndex=d.tabIndex)}}var l=d.cellNavigation,p=l?m:u,r=g===d.headerNode,n=g;r?(k(),f.after(d,"renderHeader",k,!0)):f.after(d,"renderArray",function(a){return h.when(a,function(a){var b=d._focusedNode||n;if(p.test(b.className)&&e.contains(g,b))return a;for(var c=0,f=g.getElementsByTagName("*"),
h;h=f[c];++c)if(p.test(h.className)){b=d._focusedNode=h;break}b.tabIndex=d.tabIndex;return a})});d._listeners.push(c(g,"mousedown",function(b){a(b)||d._focusOnNode(b.target,r,b)}));d._listeners.push(c(g,"keydown",function(b){if(!b.metaKey&&!b.altKey){var c=d[r?"headerKeyMap":"keyMap"][b.keyCode];c&&!a(b)&&c.call(d,b)}}))}this.inherited(arguments);var d=this;this.tabableHeader&&(b(this.headerNode),c(this.headerNode,"dgrid-cellfocusin",function(){d.scrollTo({x:this.scrollLeft})}));b(this.contentNode)},
removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);var b=this,c=document.activeElement===this._focusedNode,d=this[this.cellNavigation?"cell":"row"](this._focusedNode),e=d.row||d,g;a=a.element||a;if(a===e.element){g=this.down(e,!0);if(!g||g.element===a)g=this.up(e,!0);this._removedFocus={active:c,rowId:e.id,columnId:d.column&&d.column.id,siblingId:!g||g.element===a?void 0:g.id};setTimeout(function(){b._removedFocus&&b._restoreFocus(e.id)},0);this._focusedNode=null}this.inherited(arguments)},
insertRow:function(a){var b=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(b);return b},_restoreFocus:function(a){var b=this._removedFocus,c;if((a=(a=a&&this.row(a))&&a.element&&a.id===b.rowId?a:"undefined"!==typeof b.siblingId&&this.row(b.siblingId))&&a.element){if(!a.element.parentNode.parentNode){b.wait=!0;return}"undefined"!==typeof b.columnId&&(c=this.cell(a,b.columnId))&&c.element&&(a=c);b.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,
null):(k(a.element,".dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=a.element)}delete this._removedFocus},addKeyHandler:function(a,b,c){return f.after(this[c?"headerKeyMap":"keyMap"],a,b,!0)},_focusOnNode:function(d,e,g){var f="_focused"+(e?"Header":"")+"Node";e=this[f];var h=this.cellNavigation?"cell":"row",l=this[h](d),p,r,n,v,t;if(d=l&&l.element){if(this.cellNavigation){p=d.getElementsByTagName("input");t=0;for(n=p.length;t<n;t++)if(r=p[t],(-1!=r.tabIndex||"_dgridLastValue"in
r)&&!r.disabled){8>b("ie")&&(r.style.position="relative");r.focus();8>b("ie")&&(r.style.position="");v=!0;break}}null!==g&&(g=a.mixin({grid:this},g),g.type&&(g.parentType=g.type),g.bubbles||(g.bubbles=!0));e&&(k(e,"!dgrid-focus[!tabIndex]"),8>b("ie")&&(e.style.position=""),g&&(g[h]=this[h](e),c.emit(e,"dgrid-cellfocusout",g)));e=this[f]=d;g&&(g[h]=l);f=this.cellNavigation?m:u;!v&&f.test(d.className)&&(8>b("ie")&&(d.style.position="relative"),d.tabIndex=this.tabIndex,d.focus());k(d,".dgrid-focus");
g&&c.emit(e,"dgrid-cellfocusin",g)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):this.contentNode.focus()}}),t=n.moveFocusVertical=function(a,b){var c=this.cellNavigation,d=this[c?"cell":"row"](a),d=c&&d.column.id,e=this.down(this._focusedNode,b,!0);c&&(e=this.cell(e,d));this._focusOnNode(e,!1,a);a.preventDefault()};l=n.moveFocusUp=function(a){t.call(this,a,-1)};var q=n.moveFocusDown=function(a){t.call(this,
a,1)},s=n.moveFocusPageUp=function(a){t.call(this,a,-this.pageSkip)},p=n.moveFocusPageDown=function(a){t.call(this,a,this.pageSkip)},r=n.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var c=!this.row(a);this._focusOnNode(this.right(this["_focused"+(c?"Header":"")+"Node"],b),c,a);a.preventDefault()}},v=n.moveFocusLeft=function(a){r.call(this,a,-1)},w=n.moveFocusRight=function(a){r.call(this,a,1)},y=n.moveHeaderFocusEnd=function(a,b){var c;this.cellNavigation&&(c=this.headerNode.getElementsByTagName("th"),
this._focusOnNode(c[b?0:c.length-1],!0,a));a.preventDefault()},A=n.moveHeaderFocusHome=function(a){y.call(this,a,!0)},z=n.moveFocusEnd=function(c,d){var e=this,g=this.cellNavigation,k=this.contentNode,l=k.scrollTop+(d?0:k.scrollHeight),k=k[d?"firstChild":"lastChild"],m=-1<k.className.indexOf("dgrid-preload"),p=m?k[(d?"next":"previous")+"Sibling"]:k,r=p.offsetTop+(d?0:p.offsetHeight),n;if(m){for(;p&&0>p.className.indexOf("dgrid-row");)p=p[(d?"next":"previous")+"Sibling"];if(!p)return}!m||1>k.offsetHeight?
(g&&(p=this.cell(p,this.cell(c).column.id)),this._focusOnNode(p,!1,c)):(b("dom-addeventlistener")||(c=a.mixin({},c)),n=f.after(this,"renderArray",function(a){n.remove();return h.when(a,function(a){a=a[d?0:a.length-1];g&&(a=e.cell(a,e.cell(c).column.id));e._focusOnNode(a,!1,c)})}));l===r&&c.preventDefault()},B=n.moveFocusHome=function(a){z.call(this,a,!0)};n.defaultKeyMap={32:d,33:s,34:p,35:z,36:B,37:v,38:l,39:w,40:q};n.defaultHeaderKeyMap={32:d,35:y,36:A,37:v,39:w};return n})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),
function(l,f,c,a,b,k,e,h,d){function g(a,b){for(var c=a.unselectable=b?"on":"",d=a.getElementsByTagName("*"),e=d.length;--e;)"INPUT"===d[e].tagName||"TEXTAREA"===d[e].tagName||(d[e].unselectable=c)}function m(c,d){var e=c.bodyNode,f=d?"text":21>b("ff")?"-moz-none":"none";n&&"msUserSelect"!==n?e.style[n]=f:b("dom-selectstart")?!d&&!c._selectstartHandle?c._selectstartHandle=a(e,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):d&&c._selectstartHandle&&
(c._selectstartHandle.remove(),delete c._selectstartHandle):(g(e,!d),!d&&!c._unselectableHandle?c._unselectableHandle=k.after(c,"renderRow",function(a){g(a,!0);return a}):d&&c._unselectableHandle&&(c._unselectableHandle.remove(),delete c._unselectableHandle))}b.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});b.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});b.add("css-user-select",function(a,b,c){a=c.style;b=
["Khtml","O","ms","Moz","Webkit"];c=b.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(c--&&(d=b[c]+"UserSelect"));return!1});b.add("dom-selectstart","undefined"!==typeof document.onselectstart);var u=b("mac")?"metaKey":"ctrlKey",n=b("css-user-select"),t=(e=b("pointer"))&&"MS"===e.slice(0,2),q=e?e+(t?"Down":"down"):"mousedown",s=e?e+(t?"Up":"up"):"mouseup";return f(null,{selectionDelegate:".dgrid-row",selectionEvents:q+","+s+",dgrid-cellfocusin",selectionTouchEvents:b("touch")?
h.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();
this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){l.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?m(this,a):m(this,"none"===this.selectionMode);
this.allowTextSelection=a},_handleSelect:function(a,b){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&!("dgrid-cellfocusin"===a.type&&"mousedown"===a.parentType||a.type===s&&b!=this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===q&&this.isSelected(b))this._waitForMouseUp=b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,
b){var c=a.keyCode?a.ctrlKey:a[u];this._lastSelected===b?this.select(b,null,!c||!this.isSelected(b)):(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var c=this._lastSelected,d=a.keyCode?a.ctrlKey:a[u],e;a.shiftKey||(e=d?null:!0,c=null);this.select(b,c,e);c||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){(2===a.button?!this.isSelected(b):!(a.keyCode?a.ctrlKey:a[u]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(a,
b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var c=this,d=this.contentNode,e=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};b("touch")&&!b("pointer")&&this.selectionTouchEvents?(a(d,h.selector(e,this.selectionTouchEvents),function(a){c._handleSelect(a,this);c._ignoreMouseSelect=this}),a(d,a.selector(e,this.selectionEvents),function(a){c._ignoreMouseSelect!==this?c._handleSelect(a,this):a.type===s&&(c._ignoreMouseSelect=
null)})):a(d,a.selector(e,this.selectionEvents),function(a){c._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){c._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(a){a[u]&&(65==a.keyCode&&!/\bdgrid-input\b/.test(a.target.className))&&(a.preventDefault(),c[c.allSelected?"clearSelection":"selectAll"]())});this._setStore&&k.after(this,"_setStore",function(){c._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(c,
d,e){c=d||c&&c[b.idProperty||"id"];if(null!=c&&(d=(c=b.row(c))&&b.selection[c.id]))b[e](c,null,d)}var b=this,c=this.store,d,e;this._removeDeselectSignals&&this._removeDeselectSignals();c&&c.notify?(d=k.before(c,"notify",function(b,c){b||a(b,c,"deselect")}),e=k.after(c,"notify",function(b,c){a(b,c,"select")},!0),this._removeDeselectSignals=function(){d.remove();e.remove()}):(d=k.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(c)}),this._removeDeselectSignals=
function(){d.remove()})},allowSelect:function(a){return!0},_fireSelectionEvent:function(b){var c=this._selectionEventQueues[b],d=this._selectionTriggerEvent,e;e={bubbles:!0,grid:this};d&&(e.parentType=d.type);e[this._selectionTargetType]=c;a.emit(this.contentNode,"dgrid-"+b,e);this._selectionEventQueues[b]=[]},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){var e,g,f;"undefined"===typeof c&&(c=!0);a.element||
(a=this.row(a));if(!1===c||this.allowSelect(a))if(e=this.selection,g=!!e[a.id],null===c&&(c=!g),f=a.element,!c&&!this.allSelected?delete this.selection[a.id]:e[a.id]=c,f&&(c?d(f,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):d(f,"!dgrid-selected!ui-state-active")),c!==g&&f&&this._selectionEventQueues[(c?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element){e=this._determineSelectionDirection(f,b);e||(b=document.getElementById(b.id),e=this._determineSelectionDirection(f,
b));for(;a.element!=b&&(a=this[e](a));)this._select(a,null,c)}}else this._lastSelected=f,console.warn("The selection range has been reset because the beginning of the selection is no longer in the DOM. If you are using OnDemandList, you may wish to increase farOffRemoval to avoid this, but note that keeping more nodes in the DOM may impact performance.")},_determineSelectionDirection:b("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:
function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,
null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);c.when(b,function(b){var c=a.selection,d,e,g;for(d=0;d<b.length;d++)e=a.row(b[d]),
(g=e.id in c?c[e.id]:a.allSelected)&&a._select(e,null,g);a._fireSelectionEvents()});return b}})})},"MW/form/ComboBox":function(){define("dojo/_base/declare dojo/dom-style dojo/dom-class dojo/dom-attr dojo/on dojo/_base/lang dojo/_base/event dojo/keys dojo/dom-geometry dojo/dom-construct dijit/popup dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin dijit/focus dijit/registry dojo/mouse ../mixins/AccessibilityClickMixin ../mixins/property/TagMixin ../mixins/property/TextMixin ../mixins/property/DisabledMixin ../mixins/property/EditableMixin ../mixins/property/DescriptionMixin ../mixins/property/SizeMixin ../mixins/property/TextInputValueMixin ../mixins/property/VisualFamilyMixin ../mixins/ResizeMixin ../mixins/property/ValidationMixin ../mixins/event/ChangeEventMixin ./TextField dijit/_Container MW/mixins/KeyNavMixin ../utils/domUtils ../utils/mixinDependencyValidator dojo/text!./templates/ComboBox.html".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r,v,w,y,A,z,B,E,x,D,F,G,I,J,K,Q,C,Y,O,N){var L=l([u,s,t,Q,C,F],{baseClass:"mwWidget mwComboBoxPopup",templateString:'\x3cdiv tabindex\x3d"0"\x3e\x3c/div\x3e',getChildren:function(){return Array.prototype.slice.call(this.domNode.childNodes)}});return l(O.validate([u,n,t,q,s,w,y,z,B,E,x,D,F,G,I,J]),{baseClass:"mwWidget mwComboBox",templateString:N,editable:!1,text:"",height:22,width:150,maxHeight:500,constructor:function(a){a=a||{};this._textField=new K({editable:!1,
disabled:!0});this.own(this._textField);this.own(b(this._textField,"typing",k.hitch(this,"_handleTextFieldTyping")),b(this._textField,"keydown",k.hitch(this,"_handleTextFieldKeyDown")));this.menu=new L({});this.own(this.get("menu"));this._isTextEmpty=!0;this._labelValue={};this._valueLabel={};this._pendingValue=this._selectedIndex=null;if(a&&!1===this.get("editable")&&a.value&&!a.items)throw Error("Value cannot be set on a non-editable combo box without having items");},postCreate:function(){this.inherited(arguments);
this.own(b(this.domNode,"mousedown",k.hitch(this,"focus")),b(this.menuNode,"mousedown",k.hitch(this,"_handleArrowNodeMouseDown")),b(this._textField.inputNode,"blur",k.hitch(this,"_handleTextFieldBlur"),!0),b(this.domNode,"blur",k.hitch(this,"_handleDomNodeBlur"),!0),b(this.domNode,"keydown",k.hitch(this,"_handleDomNodeKeyDown")),b(this.get("menu"),"click",k.hitch(this,"_handleMenuClick")),b(this.get("menu"),"keydown",k.hitch(this,"_handleMenuKeyDown")));this.menu.domNode.addEventListener("blur",k.hitch(this,
"_handleMenuBlur"),!0);(void 0===this.get("items")||0===this.get("items").length)&&this.set("items",[])},startup:function(){this.inherited(arguments);this.menu.startup();this._textField.startup();this.resize()},destroy:function(){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this._textField.placeAt(this.textFieldContainerNode);this.inputNode=this._textField.inputNode;this.focusNode=this.domNode},_isDescendant:function(a,b){if(a===b)return!0;for(var c=b.parentNode;null!=
c;){if(c==a)return!0;c=c.parentNode}return!1},_handleArrowNodeMouseDown:function(a){!0!==this._comboBoxMenuOpened?this._openComboBoxMenu():this.closeMenu()},closeMenu:function(){!0===!this._destroyed&&c.remove(this.domNode,"mwHasMenuOpened");m.close(this.menu);this._comboBoxMenuOpened=!1;this.menu&&(this.menu.domNode&&this.menu.domNode.parentNode)&&f.set(this.menu.domNode.parentNode,{overflowX:"visible",overflowY:"visible"})},_closeMenuOnBlur:function(a){setTimeout(k.hitch(this,function(){!this._isDescendant(this.domNode,
document.activeElement)&&!this._isDescendant(this.menu.domNode,document.activeElement)&&(this.closeMenu(),!0===this.get("editable")&&""!==this.inputNode.value&&this.inputNode.value!==this._valueLabel[this.get("value")]&&this.inputNode.value!==this.get("value")?-1<Object.keys(this._labelValue).indexOf(this.inputNode.value)?this.set("value",this._labelValue[this.inputNode.value]):this.set("value",this.inputNode.value):""===this.inputNode.value&&(""!==this.get("value")&&!0===this.get("editable"))&&this.set("value",
""))},0))},_handleMenuBlur:function(a){this._closeMenuOnBlur(a)},_handleMenuItemMouseEnter:function(a){Y.isFocusable(a.target)&&p.focus(a.target)},_handleTextFieldBlur:function(a){!0===this.get("editable")&&this._closeMenuOnBlur(a)},_handleDomNodeBlur:function(a){!1===this.get("editable")&&this._closeMenuOnBlur(a)},_handleUpAndDownArrow:function(a){var b=this.get("menu").getChildren();if(a.keyCode===h.DOWN_ARROW){void 0!==this._get("value")&&-1!==this._getSelectedItemIndex(this._valueLabel[this._get("value")])&&
c.remove(this.get("menu").getChildren()[this._getSelectedItemIndex(this._valueLabel[this._get("value")])],"mwComboBoxSelectedMenuItem");for(var d=0;d<b.length;d++)if("none"!==f.get(b[d],"display")){p.focus(b[d]);break}this._comboBoxMenuOpened||this._openComboBoxMenu();a.preventDefault()}else if(a.keyCode===h.UP_ARROW){void 0!==this._get("value")&&-1!==this._getSelectedItemIndex(this._valueLabel[this._get("value")])&&c.remove(this.get("menu").getChildren()[this._getSelectedItemIndex(this._valueLabel[this._get("value")])],
"mwComboBoxSelectedMenuItem");b=b.reverse();for(d=0;d<b.length;d++)if("none"!==f.get(b[d],"display")){p.focus(b[d]);break}this._comboBoxMenuOpened||this._openComboBoxMenu();a.preventDefault()}},_handleDomNodeKeyDown:function(a){if(!1===this.get("editable")&&(this._handleUpAndDownArrow(a),a.keyCode===h.SPACE||a.keyCode===h.ENTER))this._openComboBoxMenu(),a.stopPropagation(),a.preventDefault();a.keyCode===h.ESCAPE&&this.closeMenu()},_handleTextFieldKeyDown:function(a){!0===this.get("editable")&&this._handleUpAndDownArrow(a);
!0===this.get("editable")&&a.keyCode===h.ENTER&&(a=r.getEnclosingWidget(a.target).inputNode.value,this._isTextEmpty=!0,this.set("value",a),this.closeMenu())},_openComboBoxMenu:function(a){void 0!==this._get("value")&&(-1!==this._getSelectedItemIndex(this._valueLabel[this._get("value")])&&0<this.get("menu").getChildren().length)&&(c.add(this.get("menu").getChildren()[this._getSelectedItemIndex(this._valueLabel[this._get("value")])],"mwComboBoxSelectedMenuItem"),p.focus(this.get("menu").getChildren()[this._getSelectedItemIndex(this._valueLabel[this._get("value")])]));
(!a||!a.typing)&&this.get("menu").getChildren().forEach(function(a,b){"none"===f.get(a,"display")&&f.set(a,"display","")});m.open({parent:this,popup:this.menu,around:this.domNode,orient:["below","below-alt","above","above-alt"]});c.add(this.domNode,"mwHasMenuOpened");this._comboBoxMenuOpened=!0},_handleTextFieldTyping:function(a){var b=a.mwEventData.currentContent,c=RegExp(b,"i");this.get("menu").getChildren().forEach(function(a,d){var e=a.textContent;0===e.toLowerCase().indexOf(b.toLowerCase())?
(""!==b||c.test(e))&&f.set(a,"display",""):f.set(a,"display","none")});this._comboBoxMenuOpened||this._openComboBoxMenu({typing:!0})},_handleMenuKeyDown:function(a){a.keyCode===h.BACKSPACE&&(a.preventDefault(),p.focus(this._textField.focusNode));(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&!this.get("disabled")&&b.emit(a.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:a.keyCode}});(a.keyCode===h.LEFT_ARROW||a.keyCode===h.RIGHT_ARROW)&&this.editable&&p.focus(this._textField.focusNode);
(a.keyCode===h.DOWN_ARROW||a.keyCode===h.UP_ARROW)&&(void 0!==this._get("value")&&-1!==this._getSelectedItemIndex(this._valueLabel[this._get("value")]))&&c.remove(this.get("menu").getChildren()[this._getSelectedItemIndex(this._valueLabel[this._get("value")])],"mwComboBoxSelectedMenuItem");a.keyCode===h.ESCAPE&&(this.closeMenu(),p.focus(this.focusNode))},_handleMenuClick:function(a){this.set("value",this._labelValue[a.target.textContent]);this.closeMenu()},_removeSelectedMenuItemColor:function(){null!==
this._selectedIndex&&c.remove(this.get("menu").getChildren()[this._selectedIndex],"mwComboBoxSelectedMenuItem")},_onMouseDown:function(){this.inherited(arguments);p.focus(this.get("menu").focusNode)},_getParentPopup:function(a){for(;a;){if(c.contains(a,"dijitPopup"))return a;a=a.parentNode}return null},resize:function(){var a=this.get("width");"100%"===a&&(a=d.position(this.domNode).w-d.getPadBorderExtents(this.domNode).w);var b=d.position(this.arrowNode).w,c=d.getPadBorderExtents(this._textField.domNode).l+
d.getPadBorderExtents(this._textField.domNode).r,e=d.getPadBorderExtents(this.arrowNode).l+d.getPadBorderExtents(this.arrowNode).r;f.set(this._textField.domNode,"width",a-b-c-e+"px");f.set(this.menu.domNode,"minWidth",a-d.getPadBorderExtents(this.domNode).w+"px")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{setTimeout(k.hitch(this,function(){p.focus(this.focusNode)}),0)}catch(a){}},_setMaxHeightAttr:function(a){if("number"!==typeof a)throw Error("'MaxHeight' property expects a Number!");
f.set(this.menu.domNode,"maxHeight",a+"px");this._set("maxHeight",a)},_setValueAttr:function(a){if(("number"===typeof a?a.toString():a)&&-1<Object.keys(this._valueLabel).indexOf(a.toString())){var b=this._valueLabel[a];this._textField.set("value",b);this._isTextEmpty=!0;this._removeSelectedMenuItemColor();this._selectedIndex=this._getSelectedItemIndex(b);c.add(this.get("menu").getChildren()[this._selectedIndex],"mwComboBoxSelectedMenuItem")}else if(("number"===typeof a?a.toString():a)&&-1===Object.keys(this._valueLabel).indexOf(a.toString()))if(this.get("editable"))this._removeSelectedMenuItemColor(),
this._textField.set("value",a),this._isTextEmpty=!1;else{if(!this.get("items")||0===this.get("items").length){this._pendingValue=a;return}throw Error("Value must match an existing item for non-editable combo box");}else""===a&&(this._textField.set("value",""),null!==this._selectedIndex&&(this._removeSelectedMenuItemColor(),this._selectedIndex=null,this._isTextEmpty=!0),""!==this.get("text")&&(this._isTextEmpty=!1));!0===this._isTextEmpty?this.set("text",""):this.set("text",a);b=this.get("value");
this._set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a)},_getValueAttr:function(){return this._get("value")},_setItemsAttr:function(a){a&&0<a.length?(this.set("value",""),this._initMenuItems(a)):(this.set("value",""),this._destroyMenuItems(),this._labelValue={},this._valueLabel={});this._set("items",a);!1===this.get("editable")&&null!=this._pendingValue&&(this.set("value",this._pendingValue),this._pendingValue=null)},_initMenuItems:function(a){0<this.get("menu").getChildren().length&&
(this._destroyMenuItems(),this._labelValue={},this._valueLabel={});a.forEach(function(a){var b=g.create("div");b.setAttribute("tabIndex","0");c.add(b,"mwDefaultVisualFamily mwTextMixin mwTextMixin mwWidget mwSharedMenuItem mwMenuItem".split(" "));var d=g.create("div");d.textContent=a.label;c.add(d,"mwTextNode");b.appendChild(d);this.get("menu").domNode.appendChild(b);b.addEventListener("mouseover",k.hitch(this,"_handleMenuItemMouseEnter"));this._labelValue[a.label]=a.value;this._valueLabel[a.value]=
a.label},this)},_getItemsAttr:function(){return this._get("items")},_setEditableAttr:function(a){a?(c.replace(this.domNode,"mwEditableComboBox","mwNonEditable"),this.focusNode=this._textField.focusNode,this._toggleTextField(!0),this.menuNode=this.arrowNode,this._set("editable",!0)):(c.replace(this.domNode,"mwNonEditable","mwEditableComboBox"),this.focusNode=this.domNode,this._toggleTextField(!1),this.menuNode=this.domNode,this._set("editable",!1))},_setTextAttr:function(a){!1===this._isTextEmpty||
(""===this.get("value")||void 0===this.get(a))&&""!==a?(this.get("editable")&&-1===Object.keys(this._valueLabel).indexOf(a.toString())?(this._set("text",a),this._isTextEmpty=!1):(this._isTextEmpty=!0,this._set("text","")),this._textField.set("value",a),this._set("value",a)):this._set("text","")},_getTextAttr:function(a){return this._get("text")},_toggleTextField:function(a){this._textField.set("editable",a);this._textField.set("disabled",!a)},_getSelectedItemIndex:function(a){return Object.keys(this._labelValue).indexOf(a)},
_setWidthAttr:function(a){this.inherited(arguments);this.resize()},_setPlaceholderAttr:function(a){this._textField.set("placeholder",a);this._set("placeholder",a)},_getPlaceholderAttr:function(){return this._textField.get("placeholder")},_destroyMenuItems:function(){for(;this.get("menu").domNode.firstChild;)this.get("menu").domNode.firstChild.removeEventListener("mouseover",k.hitch(this,"_handleMenuItemMouseEnter")),this.get("menu").domNode.removeChild(this.get("menu").domNode.firstChild)}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s){function p(){this._popupWrapper&&(k.destroy(this._popupWrapper),delete this._popupWrapper)}c=c(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=e.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var d=this._stack[b].wrapper.style;d.top=parseFloat(d.top)+a+"px";"auto"==d.right?d.left=parseFloat(d.left)+
c+"px":d.right=parseFloat(d.right)-c+"px"}}this._aroundMoveListener=setTimeout(m.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;b||(b=k.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,f.after(a,"destroy",p,!0),"ontouchend"in document&&u(b,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}));return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=e.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";h.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);h.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=
this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(c){var f=this._stack,k=c.popup,l=k.domNode,p=c.orient||["below","below-alt","above","above-alt"],s=c.parent?c.parent.isLeftToRight():e.isBodyLtr(k.ownerDocument),B=c.around,E=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;if(!c.doNotClose)for(;f.length&&(!c.parent||!a.isDescendant(c.parent.domNode,f[f.length-1].widget.domNode));)this.close(f[f.length-1].widget);var x=this.moveOffScreen(k);
k.startup&&!k._started&&k.startup();var D,F=e.position(l);if("maxHeight"in c&&-1!=c.maxHeight)D=c.maxHeight||Infinity;else{D=q.getEffectiveBox(this.ownerDocument);var G=B?e.position(B,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};D=Math.floor(Math.max(G.y,D.h-(G.y+G.h)))}F.h>D&&(F=h.getComputedStyle(l),h.set(x,{overflowY:"scroll",height:D+"px",border:F.borderLeftWidth+" "+F.borderLeftStyle+" "+F.borderLeftColor}),l._originalStyle=l.style.cssText,l.style.border="none");b.set(x,{id:E,style:{zIndex:this._beginZIndex+
f.length},"class":"dijitPopup "+(k.baseClass||k["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==f.length&&B&&(this._firstAroundNode=B,this._firstAroundPosition=e.position(B,!0),this._aroundMoveListener=setTimeout(m.hitch(this,"_repositionAll"),50));d("config-bgIframe")&&!k.bgIframe&&(k.bgIframe=new t(x));E=k.orient?m.hitch(k,"orient"):null;p=B?n.around(x,B,p,s,E):n.at(x,c,"R"==p?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding,E);x.style.visibility="visible";
l.style.visibility="visible";l=[];l.push(u(x,"keydown",m.hitch(this,function(a){if(a.keyCode==g.ESCAPE&&c.onCancel)a.stopPropagation(),a.preventDefault(),c.onCancel();else if(a.keyCode==g.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));k.onCancel&&c.onCancel&&l.push(k.on("cancel",c.onCancel));l.push(k.on(k.onExecute?"execute":"change",m.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));f.push({widget:k,wrapper:x,parent:c.parent,
onExecute:c.onExecute,onCancel:c.onCancel,onClose:c.onClose,handlers:l});if(k.onOpen)k.onOpen(p);return p},close:function(a){for(var b=this._stack;a&&l.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;d.bgIframe&&(d.bgIframe.destroy(),delete d.bgIframe);if(d.onClose)d.onClose();for(var g;g=c.handlers.pop();)g.remove();d&&d.domNode&&this.hide(d);e&&e()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=
this._aroundMoveListener=null)}});return s.popup=new c})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(l,f,c,a,b,k,e){function h(a,d,e,h){var t=k.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&b.body(a.ownerDocument).appendChild(a);var q=null;l.some(d,function(b){var c=b.corner,d=b.pos,k=0,l={w:{L:t.l+t.w-d.x,R:d.x-t.l,M:t.w}[c.charAt(1)],
h:{T:t.t+t.h-d.y,B:d.y-t.t,M:t.h}[c.charAt(0)]},m=a.style;m.left=m.right="auto";e&&(k=e(a,b.aroundCorner,c,l,h),k="undefined"==typeof k?0:k);var p=a.style,s=p.display,x=p.visibility;"none"==p.display&&(p.visibility="hidden",p.display="");m=f.position(a);p.display=s;p.visibility=x;s={L:d.x,R:d.x-m.w,M:Math.max(t.l,Math.min(t.l+t.w,d.x+(m.w>>1))-m.w)}[c.charAt(1)];x={T:d.y,B:d.y-m.h,M:Math.max(t.t,Math.min(t.t+t.h,d.y+(m.h>>1))-m.h)}[c.charAt(0)];d=Math.max(t.l,s);p=Math.max(t.t,x);s=Math.min(t.l+t.w,
s+m.w);x=Math.min(t.t+t.h,x+m.h);s-=d;x-=p;k+=m.w-s+(m.h-x);if(null==q||k<q.overflow)q={corner:c,aroundCorner:b.aroundCorner,x:d,y:p,w:s,h:x,overflow:k,spaceAvailable:l};return!k});q.overflow&&e&&e(a,q.aroundCorner,q.corner,q.spaceAvailable,h);d=q.y;var s=q.x,p=b.body(a.ownerDocument);/relative|absolute/.test(c.get(p,"position"))&&(d-=c.get(p,"marginTop"),s-=c.get(p,"marginLeft"));p=a.style;p.top=d+"px";p.left=s+"px";p.right="auto";return q}var d={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return e.place={at:function(a,
b,c,e,f){c=l.map(c,function(a){var c={corner:a,aroundCorner:d[a],pos:{x:b.x,y:b.y}};e&&(c.pos.x+="L"==a.charAt(1)?e.x:-e.x,c.pos.y+="T"==a.charAt(0)?e.y:-e.y);return c});return h(a,c,f)},around:function(b,d,e,k,t){function q(a,b){x.push({aroundCorner:a,corner:b,pos:{x:{L:A,R:A+B,M:A+(B>>1)}[a.charAt(1)],y:{T:z,B:z+E,M:z+(E>>1)}[a.charAt(0)]}})}var s;if("string"==typeof d||"offsetWidth"in d||"ownerSVGElement"in d){if(s=f.position(d,!0),/^(above|below)/.test(e[0])){var p=f.getBorderExtents(d),r=d.firstChild?
f.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0},v=f.getBorderExtents(b),w=b.firstChild?f.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0};s.y+=Math.min(p.t+r.t,v.t+w.t);s.h-=Math.min(p.t+r.t,v.t+w.t)+Math.min(p.b+r.b,v.b+w.b)}}else s=d;if(d.parentNode){p="absolute"==c.getComputedStyle(d).position;for(d=d.parentNode;d&&1==d.nodeType&&"BODY"!=d.nodeName;){r=f.position(d,!0);v=c.getComputedStyle(d);/relative|absolute/.test(v.position)&&(p=!1);if(!p&&/hidden|auto|scroll/.test(v.overflow)){var w=Math.min(s.y+
s.h,r.y+r.h),y=Math.min(s.x+s.w,r.x+r.w);s.x=Math.max(s.x,r.x);s.y=Math.max(s.y,r.y);s.h=w-s.y;s.w=y-s.x}"absolute"==v.position&&(p=!0);d=d.parentNode}}var A=s.x,z=s.y,B="w"in s?s.w:s.w=s.width,E="h"in s?s.h:(a.deprecated("place.around: dijit/place.__Rectangle: { x:"+A+", y:"+z+", height:"+s.height+", width:"+B+" } has been deprecated.  Please use { x:"+A+", y:"+z+", h:"+s.height+", w:"+B+" }","","2.0"),s.h=s.height),x=[];l.forEach(e,function(a){var b=k;switch(a){case "above-centered":q("TM","BM");
break;case "below-centered":q("BM","TM");break;case "after-centered":b=!b;case "before-centered":q(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":q(b?"TL":"TR",b?"TR":"TL");q(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":q(b?"BL":"BR",b?"TL":"TR");q(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":q(b?"TL":"TR",b?"BL":"BR");q(b?"TR":"TL",b?"BR":"BL");break;default:q(a.aroundCorner,a.corner)}});b=h(b,x,t,{w:B,h:E});b.aroundNodePos=s;return b}}})},
"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(l,f,c,a,b,k,e,h){h.add("config-bgIframe",h("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||h("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var d=new function(){var d=[];this.pop=function(){var e;d.length?(e=d.pop(),e.style.display=""):(9>h("ie")?(e="\x3ciframe src\x3d'"+(c.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||
'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",e=document.createElement(e)):(e=a.create("iframe"),e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),b.set(e,"opacity",0.1)),e.tabIndex=-1);return e};this.push=function(a){a.style.display="none";d.push(a)}};f.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(h("config-bgIframe")){var c=this.iframe=
d.pop();a.appendChild(c);7>h("ie")||h("quirks")?(this.resize(a),this._conn=e(a,"resize",k.hitch(this,"resize",a))):b.set(c,{width:"100%",height:"100%"})}};k.extend(f.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}});return f.BackgroundIframe})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(l,f){return l("dijit._Contained",null,{_getSibling:function(c){var a=this.domNode;do a=a[c+"Sibling"];while(a&&1!=a.nodeType);return a&&f.byNode(a)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var c=this.getParent();return!c||!c.getIndexOfChild?-1:c.getIndexOfChild(this)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u){f=f("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,k.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(l.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};l.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete d[a]});l.forEach(b,
function(a){d[a]=!0});var e=[],g;for(g in d)e.push(g);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(b,c,d){function e(d){a.toggle(b,c+"Active",d)}if(!this.disabled&&!this.readOnly)switch(d.type){case "mouseover":case "MSPointerOver":case "pointerover":a.toggle(b,c+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":a.toggle(b,c+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":e(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":e(!1);break;case "focus":case "focusin":a.toggle(b,c+"Focused",!0);break;case "blur":case "focusout":a.toggle(b,c+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});h(function(){function a(b,d,e){if(!e||!c.isDescendant(e,d))for(;d&&d!=e;d=d.parentNode)if(d._cssState){var g=u.getEnclosingWidget(d);g&&(d==g.domNode?g._cssMouseEvent(b):g._subnodeCssMouseEvent(d,d._cssState,b))}}var b=g.body(),f;e(b,
d.over,function(b){a(b,b.target,b.relatedTarget)});e(b,d.out,function(b){a(b,b.target,b.relatedTarget)});e(b,m.press,function(b){f=b.target;a(b,f)});e(b,m.release,function(b){a(b,f);f=null});e(b,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=u.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return f})},"MW/mixins/AccessibilityClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys"],function(l,
f,c,a){return l(null,{postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",f.hitch(this,function(b){setTimeout(f.hitch(this,function(){if(!0!==this.get("disabled"))switch(b.keyCode){case a.ENTER:this._emitClickEvent(b);break;case a.SPACE:this._emitClickEvent(b),b.preventDefault()}}),0)})))},_emitClickEvent:function(a){c.emit(a.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:a.keyCode}})}})})},"MW/mixins/property/TagMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr"],function(l,f){return l(null,{tag:"",_setTagAttr:function(c){if("string"!==typeof c)throw Error("tag property expects a 'String'");f.set(this.domNode,"data-tag",c);this._set("tag",c)},postCreate:function(){this.inherited(arguments);this.set("tag",this.get("tag"))}})})},"MW/mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(l){return l(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this.set("text",this.get("text"))},
_setTextAttr:function(f){if("string"!==typeof f)throw Error("'text' property expects a literal string!");this._updateTextInDOM(f);this._set("text",f)},_updateTextInDOM:function(f){this._placeTextInNode(f);0===this._getTextForDOM(f).length?this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(f,c){void 0===c&&(c=this.textNode);for(;c.firstChild;)c.removeChild(c.firstChild);var a=this._getTextForDOM(f,c);if(0<a.length){var b=document.createElement("span");
b.classList.add("mwTextLine");b.textContent=a;c.appendChild(b);c.classList.remove("mwEmptyNode")}else c.classList.add("mwEmptyNode")},_getTextForDOM:function(f){return f}})})},"MW/mixins/property/DisabledMixin":function(){define("dojo/_base/declare dojo/_base/event dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on".split(" "),function(l,f,c,a,b,k,e,h){return l(null,{disabled:!1,buildRendering:function(){this.inherited(arguments);this._disabledOverlayNode=b.create("div",
{"class":"mwDisabledOverlayNode"},this.domNode);this._disabledOverlayNode.setAttribute("data-focus","refuse");this.own(h(this._disabledOverlayNode,"click",function(a){f.stop(a)}))},postCreate:function(){this.inherited(arguments);a.add(this.domNode,"mwDisabledMixin");this.set("disabled",this.get("disabled"))},startup:function(){this.inherited(arguments);this.get("disabled")&&(this.domNode.dojoClick=!1);var a=k.getBorderExtents(this.domNode);e.set(this._disabledOverlayNode,{top:-a.t+"px",right:-a.r+
"px",bottom:-a.b+"px",left:-a.l+"px"})},_setDisabledAttr:function(a){if("boolean"!==typeof a)throw Error("'disabled' property expects a boolean!");e.set(this._disabledOverlayNode,"display",a?"block":"none");c.set(this.domNode,"aria-disabled",a?"true":"false");this.set("hovering",!1);this.set("active",!1);this._set("disabled",a);this._setTabIndexOnNode(this.focusNode)},_setTabIndexOnNode:function(a){this.get("disabled")?c.set(a,"tabIndex","-1"):c.set(a,"tabIndex","0")}})})},"MW/mixins/property/EditableMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr","dojo/dom-class"],function(l,f,c){return l(null,{editable:!0,postCreate:function(){this.inherited(arguments);c.add(this.domNode,"mwEditableMixin");this._setEditableAttr(this.get("editable"))},_setEditableAttr:function(a){f.set(this.inputNode,"readonly",!a);a?c.remove(this.domNode,"mwNonEditable"):c.add(this.domNode,"mwNonEditable");this._set("editable",a)}})})},"MW/mixins/property/DescriptionMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","MW/utils/platformize"],
function(l,f,c,a){return l(null,{description:"",postCreate:function(){this.inherited(arguments);c.add(this.domNode,"mwDescriptionMixin");this.set("description",this.get("description"))},_setDescriptionAttr:function(a){if("string"!==typeof a)throw Error("'description' property expects a literal string!");this._updateDescription(a);this._set("description",a)},_updateDescription:function(a){this._lastKnownDescription=a;this.descriptionNode?(this.descriptionNode.textContent=a,!1===this.get("showDescription")?
c.add(this.domNode,"mwHideDescription"):""===a?c.add(this.domNode,"mwHideDescription"):c.remove(this.domNode,"mwHideDescription")):this._updateTitle(a)},_updateTitle:function(a,c){c?this._appendDescriptionShortcutToTitle(a,this._lastKnownDescription):this._appendDescriptionShortcutToTitle(this.shortcut,a)},_appendDescriptionShortcutToTitle:function(b,c){""!==b&&void 0!==b?(""===c?b:b=" ("+a.getPlatformSpecificString(b)+")",f.set(this.domNode,"title",c+b)):f.set(this.domNode,"title",c)}})})},"MW/utils/platformize":function(){define(["dojo/sniff"],
function(l){var f=[{regExp:/ctrl|cntrl|control/gi,macString:"\u2303",otherPlatformsString:"Ctrl"},{regExp:/meta/gi,macString:"\u2318",otherPlatformsString:"Ctrl"},{regExp:/shift/gi,macString:"\u21e7",otherPlatformsString:"Shift"},{regExp:/alt/gi,macString:"\u2325",otherPlatformsString:"Alt"},{regExp:/enter/gi,macString:"\u23ce",otherPlatformsString:"Enter"},{regExp:/delete/gi,macString:"\u2326",otherPlatformsString:"Delete"},{regExp:/del/gi,macString:"\u2326",otherPlatformsString:"Del"},{regExp:/Spacebar/gi,
macString:"\u2423",otherPlatformsString:"Spacebar"},{regExp:/space/gi,macString:"\u2423",otherPlatformsString:"Space"},{regExp:/up/gi,macString:"\u2191",otherPlatformsString:"Up"},{regExp:/down/gi,macString:"\u2193",otherPlatformsString:"Down"},{regExp:/left/gi,macString:"\u2190",otherPlatformsString:"Left"},{regExp:/right/gi,macString:"\u2192",otherPlatformsString:"Right"}];return{getPlatformSpecificString:function(c,a){a=a||{};c=c.replace(/ /g,"");c=c.replace(/_/g,"+");c=c.toUpperCase();f.forEach(function(b){var f;
l("mac")?(f=b.macString,!a.dontConvertCtrlToCmd&&"\u2303"===f&&(f="\u2318")):f=b.otherPlatformsString;c=c.replace(b.regExp,f)});return c=l("mac")?c.replace(/\+(?!$)/g,""):c}}})},"MW/mixins/property/SizeMixin":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(l,f,c,a,b){return f(null,{width:"auto",height:"auto",_allowedValues:["auto"],postCreate:function(){this.inherited(arguments);c.add(this.domNode,"mwSizeMixin");this.on("updatelayout",
l.hitch(this,this._updateLayout))},startup:function(){this.inherited(arguments);this._updateLayout()},_updateLayout:function(){this._setWidthAttr(this.get("width"));this._setHeightAttr(this.get("height"))},_setWidthAttr:function(a){this._setSize("width",a)},_setHeightAttr:function(a){this._setSize("height",a)},_validateSizeInput:function(a){if(!("string"===typeof a&&"auto"===a||"number"===typeof a&&0<a))throw Error(" Property should either be 'auto' or a positive integer");},_setSize:function(a,c){this._validateSizeInput(c);
this._set(a,c);if(this._started){var f="",f=0<=this._allowedValues.indexOf(c)?c:this._getAdjustedSize(a,c,this.domNode);b.set(this.domNode,a,f)}},_getAdjustedSize:function(b,c,f){f=a.getPadBorderExtents(f);var d,g;"width"===b?(d=c-f.w,g=f.w):"height"===b&&(d=c-f.h,g=f.h);if(0>d)throw Error("Minimum "+b+" allowed: "+g);return d+"px"}})})},"MW/mixins/property/TextInputValueMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/dom-class"],function(l,f,c){return l(null,{value:"",postCreate:function(){this.inherited(arguments);
c.add(this.domNode,"mwTextInputValueMixin");this._setValueAttr(this.get("value"));this._stopChangeEventBubbling()},_setValueAttr:function(a){this.setValueInDom(a);this._set("value",a)},_stopChangeEventBubbling:function(){this.own(f(this.inputNode,"change",function(a){a.stopPropagation()}))},setValueInDom:function(a){this.inputNode.value=a}})})},"MW/mixins/property/VisualFamilyMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(l,f){return l(null,{visualFamily:"default",_setVisualFamilyAttr:function(c){if("string"!==
typeof c||0===c.length)throw Error("'visualFamily' property expects a literal non-empty string!");var a=this._getClassNameForVisualFamily(this.get("visualFamily"));f.remove(this.domNode,a);a=this._getClassNameForVisualFamily(c);f.add(this.domNode,a);this._set("visualFamily",c)},_getClassNameForVisualFamily:function(c){return"mw"+c.charAt(0).toUpperCase()+c.slice(1)+"VisualFamily"}})})},"MW/mixins/ResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style"],function(l,f){return l(null,{_isResized:!1,
startup:function(){this.inherited(arguments);if(!this._isResized){for(var c={parentNode:this.domNode},a=!0;(c=c.parentNode)&&c!==document;)if("none"===f.get(c,"display")){a=!1;break}a&&this.resize()}},resize:function(){this.inherited(arguments);this.getChildren&&this.getChildren().forEach(function(c){c.resize&&c.resize()},this);this._isResized=!0}})})},"MW/mixins/property/ValidationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/mouse dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m){var u=l([g,m],{templateString:'\x3cdiv class\x3d"mwValidationTooltipDialog"\x3e\x3cdiv class\x3d"mwArrowNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwContentsNode" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',_setTextAttr:function(a){this.textNode.textContent=
a;this._set("text",a)}}),n=["error","warning","normal"];return l(null,{warningText:"This component is in warning state",errorText:"This component is in error state",validationState:"normal",_setErrorTextAttr:function(a){if("string"!==typeof a)throw Error("errorText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("errorText",a)},_setWarningTextAttr:function(a){if("string"!==typeof a)throw Error("warningText property expects a 'string'!");this.validationTooltip&&
this.validationTooltip.set("text",a);this._set("warningText",a)},_setValidationStateAttr:function(a){if("string"!==typeof a)throw Error("validationState property expects a 'string'!");if(-1===n.indexOf(a.toLowerCase()))throw Error("validationState property expects the value to be 'normal', 'error' or 'warning'!");this._set("validationState",a);var d=!1,e=!1;"error"===a.toLowerCase()?(e=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("errorText"))):"warning"===a.toLowerCase()&&
(d=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("warningText")));this.validationTooltip&&(c.contains(this.domNode,"mwWidgetFocused")&&(c.add(this.validationTooltip.domNode,"mwValidationFocused"),this._placeTooltip()),c.toggle(this._getDomNodeForValidationClasses(),"mwValidationError",e),c.toggle(this.validationTooltip.domNode,"mwErrorTooltip",e),c.toggle(this.validationTooltip.domNode,"mwWarningTooltip",d),"normal"===a.toLowerCase()&&b.set(this.validationTooltip.domNode,
"visibility","hidden"))},_createValidationTooltip:function(){this.validationTooltip||(this.validationTooltip=new u,this.validationTooltip.startup(),this.own(this.validationTooltip),this._addTooltipEvents())},_flipDomOrder:function(a){var b=a.children[1];e.place(a.children[0],e.place(b,a),"after");e.place(b.children[0],e.place(b.children[1],b),"after")},_tooltipOrientation:function(){return c.contains(this.validationTooltip.domNode,"mwTooltipLeft")?"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},
_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){e.place(this.validationTooltip.domNode,d.body());var a=k.position(this.domNode),g,f,h,l,m,n,u,A=!1;g=a.x;f=a.y;h=a.w;"error"===this.validationState?(c.add(this._getDomNodeForValidationClasses(),"mwValidationError"),this.validationTooltip.set("text",this.errorText),c.add(this.validationTooltip.domNode,"mwErrorTooltip")):"warning"===this.validationState&&(this.validationTooltip.set("text",
this.warningText),c.add(this.validationTooltip.domNode,"mwWarningTooltip"));b.set(this.validationTooltip.domNode,"visibility","visible");n=k.position(this.validationTooltip.domNode).h/2;m=k.position(this.domNode).h/2;a=this.validationTooltip.domNode;u=k.position(d.body()).w;l=this._calculateTooltipWidth();g+h+l>u?(A=!0,g=g-l+"px",f=f+m-n+document.body.scrollTop+"px",c.contains(a.children[0],"mwArrowNode")&&this._flipDomOrder(a)):(g=g+h+"px",f=f+m-n+document.body.scrollTop+"px");c.toggle(this.validationTooltip.domNode,
"mwTooltipLeft",A);c.toggle(this.validationTooltip.domNode,"mwTooltipRight",!A);b.set(this.validationTooltip.domNode,"left",g);b.set(this.validationTooltip.domNode,"top",f)}},_calculateTooltipWidth:function(){c.add(this.validationTooltip.domNode,"mwTooltipLeft");var a=k.position(this.validationTooltip.domNode).w;c.remove(this.validationTooltip.domNode,"mwTooltipLeft");return a},_addTooltipEvents:function(){this.own(h(this,a.enter,f.hitch(this,function(){this._placeTooltip()})),h(this,a.leave,f.hitch(this,
function(){this.validationTooltip&&b.set(this.validationTooltip.domNode,"visibility","hidden")})),h(this.focusNode,"focus",f.hitch(this,function(){this._placeTooltip();this.validationTooltip&&("error"===this.get("validationState")||"warning"===this.get("validationState"))&&c.add(this.validationTooltip.domNode,"mwValidationFocused")})),h(this.focusNode,"blur",f.hitch(this,function(){this.validationTooltip&&(c.remove(this.validationTooltip.domNode,"mwValidationFocused"),b.set(this.validationTooltip.domNode,
"visibility","hidden"))})))}})})},"MW/mixins/event/ChangeEventMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(l,f){return l(null,{_triggerChangeEvent:function(c,a,b){this.emit("change",{mwEventData:{propertyName:c,oldValue:a,newValue:b}})},postCreate:function(){this.inherited(arguments);this.own(this.on("change",f.hitch(this,function(c){c.preventDefault();c.mwEventData||(c.stopPropagation(),this._triggerChangeEvent("checked",!this.get("checked"),this.get("checked")))})))}})})},
"MW/form/TextField":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dojo/dom-class dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin ../mixins/property/TagMixin ../mixins/property/DescriptionMixin ../mixins/property/DisabledMixin ../mixins/property/HorizontalAlignmentMixin ../mixins/property/EditableMixin ../mixins/property/SizeMixin ../mixins/property/TextInputValueMixin ./mixins/SharedTextInputMixin ../mixins/property/PlaceholderMixin ../mixins/property/VisualFamilyMixin ../mixins/property/ValidationMixin ../utils/mixinDependencyValidator ../mixins/event/ChangeEventMixin ../mixins/event/TypingEventMixin dojo/text!./templates/TextField.html".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r,v,w,y,A,z,B){return l(y.validate([b,k,e,h,d,g,m,u,n,t,q,s,p,r,v,w,A,z]),{baseClass:"mwWidget mwTextField",templateString:B,horizontalAlignment:"left",width:150,height:22,constructor:function(){this._addKeysThatPreventTypingEvent([c.ENTER])},_handleEnterKey:function(){var b,c;b=this.inputNode.value;c=this.get("value");this.set("value",b);b=this.get("value");c!==b&&this._triggerChangeEvent("value",c,b);a.add(this.domNode,"mwTextFieldHighlight");this.defer(f.hitch(this,
function(){a.remove(this.domNode,"mwTextFieldHighlight")}),200)},_onKeyUp:function(a){this.inherited(arguments);a.keyCode===c.ENTER&&this._handleEnterKey()}})})},"MW/mixins/property/HorizontalAlignmentMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(l,f){var c=["left","center","right"],a={};Object.keys(c).forEach(function(b){a[c[b]]="mwHorizontalAlignment"+(c[b].charAt(0).toUpperCase()+c[b].slice(1))});return l(null,{horizontalAlignment:"center",postCreate:function(){this.inherited(arguments);
f.add(this.domNode,"mwHorizontalAlignmentMixin")},_setHorizontalAlignmentAttr:function(a){if(-1===c.indexOf(a))throw Error("'Vertical alignment' property expects '' one of these values: "+c);this._applyHorizontalAlignmentClass(a);this._set("horizontalAlignment",a)},_applyHorizontalAlignmentClass:function(b){var c;c=this.get("horizontalAlignment");(c=a[c])&&f.remove(this.domNode,c);f.add(this.domNode,a[b])}})})},"MW/form/mixins/SharedTextInputMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/keys dijit/_FocusMixin ../../mixins/property/PlaceholderMixin ../../mixins/event/ChangeEventMixin ../../mixins/event/TypingEventMixin".split(" "),
function(l,f,c,a,b,k,e,h){93;a.TAB;return l([b,k,e,h],{constructor:function(){this._preventTypingEventForKeys=[a.UP_ARROW,a.DOWN_ARROW,a.RIGHT_ARROW,a.LEFT_ARROW,a.PAGE_DOWN,a.PAGE_UP,a.HOME,a.END,a.ESCAPE,a.CAPS_LOCK,16,17,18,91,92,93]},_addKeysThatPreventTypingEvent:function(a){if(!Array.isArray(a))throw"Input to _addKeysThatPreventTypingEvent was not an array";this._preventTypingEventForKeys=this._preventTypingEventForKeys.concat(a)},postCreate:function(){this.inherited(arguments);this.on("keyup",
f.hitch(this,"_onKeyUp"))},_onKeyUp:function(a){0<=this._preventTypingEventForKeys.indexOf(a.keyCode)||(a=this.inputNode.value,c.set(this._placeholderNode,"display","none"),this._triggerTypingEvent(a))},_onBlur:function(){this.inherited(arguments);var a,b;a=this.inputNode.value;b=this.get("value");this.set("value",a);a=this.get("value");b!==a&&this._triggerChangeEvent("value",b,a)}})})},"MW/mixins/property/PlaceholderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-style dojo/dom-class dojo/on dijit/focus MW/mixins/property/TextInputValueMixin".split(" "),
function(l,f,c,a,b,k,e,h,d){l=l(null,{placeholder:"",buildRendering:function(){this.inherited(arguments);this._placeholderNode=a.create("div",{"class":"mwPlaceholderNode mwAlignmentNode","data-dojo-attach-point":"placeholderNode"});a.place(this._placeholderNode,this.domNode,"first")},postCreate:function(){this.inherited(arguments);k.add(this.domNode,"mwPlaceholderMixin");this._setPlaceholderAttr(this.get("placeholder"));this.own(this.watch("value",this._setPlaceholderDisplay));this.own(e(this._placeholderNode,
"click",f.hitch(this,function(){h.focus(this.inputNode);b.set(this._placeholderNode,"display","none")})));c.setSelectable(this._placeholderNode,!1);this._setPlaceholderDisplay()},_setPlaceholderAttr:function(a){if("string"!==typeof a)throw Error("'placeholder' property expects a literal string!");""===a?b.set(this._placeholderNode,"display","none"):b.set(this._placeholderNode,"display","block");""!==this.get("value")&&b.set(this._placeholderNode,"display","none");this._placeholderNode.textContent=
a;this._set("placeholder",a)},_onBlur:function(){this.inherited(arguments);this._setPlaceholderDisplay()},_setPlaceholderDisplay:function(){""===this.get("value")?b.set(this._placeholderNode,"display","block"):b.set(this._placeholderNode,"display","none");""===this.get("value")&&""===this.get("placeholder")&&b.set(this._placeholderNode,"display","none")}});l._dependencies=[{mixin:d,orderDependent:!1}];return l})},"MW/mixins/event/TypingEventMixin":function(){define(["dojo/_base/declare"],function(l){return l(null,
{_triggerTypingEvent:function(f){this.emit("typing",{mwEventData:{currentContent:f}})}})})},"MW/utils/mixinDependencyValidator":function(){define([],function(){return{validate:function(l){var f=require("dijit/_WidgetBase");l.forEach(function(c){var a=c._meta.bases;a.forEach(function(b){b===f&&(l=a.concat(l))},this);c._dependencies&&0<c._dependencies.length&&c._dependencies.forEach(function(a){if(-1===l.indexOf(a.mixin))throw Error("mixin dependency not found");if(a.orderDependent){var f=l.indexOf(c);
a=l.indexOf(a.mixin);if(f<a)throw Error("mixin dependency specified in invalid order");}},this)},this);return l}}})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(l,f,c,a){return f("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,f){var e=this.containerNode;if(0<f){for(e=e.firstChild;0<f;)1==e.nodeType&&f--,e=e.nextSibling;
e?f="before":(e=this.containerNode,f="last")}c.place(a.domNode,e,f);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(b,c){a.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var e=this.getChildren(),f=l.indexOf(e,b);return e[f+
c]},getIndexOfChild:function(a){return l.indexOf(this.getChildren(),a)}})})},"MW/mixins/KeyNavMixin":function(){define("dojo/_base/declare dijit/registry dojo/dom-attr dijit/focus dojo/_base/lang dojo/dom-style dojo/on dojo/keys".split(" "),function(l,f,c,a,b,k,e,h){return l(null,{postCreate:function(){this.inherited(arguments);this.own(e(this,"keydown",b.hitch(this,"_handleKeyBoardNavigation")))},_handleKeyBoardNavigation:function(b){var c=a.curNode;if(b.keyCode===h.DOWN_ARROW)this._handleDownArrow(c),
b.preventDefault();else if(b.keyCode===h.UP_ARROW)this._handleUpArrow(c),b.preventDefault();else if(b.keyCode===h.PAGE_UP||b.keyCode===h.HOME)this._moveToFirstChild(c),b.preventDefault();else if(b.keyCode===h.PAGE_DOWN||b.keyCode===h.END)this._moveToLastChild(c),b.preventDefault()},_handleDownArrow:function(a){a=a.parentElement.lastChild===a?a.parentElement.firstChild:a.nextSibling;a=this._moveToNextFocusableNode(a);a.focus()},_handleUpArrow:function(a){a=a.parentElement.firstChild===a?a.parentElement.lastChild:
a.previousSibling;a=this._moveToPreviousFocusableNode(a);a.focus()},_moveToNextFocusableNode:function(a){for(var b;a;)if(b=f.getEnclosingWidget(a),c.get(a,"data-refuse-key-nav")||b&&b.get("disabled")||"none"===k.get(a,"display"))a=a.nextSibling?a.nextSibling:this._moveToFirstChild(a);else break;return a},_moveToPreviousFocusableNode:function(a){for(var b;a;)if(b=f.getEnclosingWidget(a),c.get(a,"data-refuse-key-nav")||b&&b.get("disabled")||"none"===k.get(a,"display"))a=a.previousSibling?a.previousSibling:
this._moveToLastChild(a);else break;return a},_moveToFirstChild:function(a){for(a=a.parentElement.firstChild;a;)if(c.get(a,"data-refuse-key-nav"))a=a.nextSibling;else break;return a},_moveToLastChild:function(a){for(a=a.parentElement.lastChild;a;)if(c.get(a,"data-refuse-key-nav"))a=a.previousSibling;else break;return a}})})},"MW/utils/domUtils":function(){define(["dojo/sniff"],function(l){var f={_validateElement:function(c){if(!(c instanceof HTMLElement))throw Error("element argument expects a HTML Element.");
},_validateString:function(c){if("String"===typeof c)throw Error('The input parameter is must be of type "string".');},isLeftMouseButton:function(c){return!0===c.synthetic&&l("ie")?1===c.button:0===c.button},parseFocusEvent:function(c){if(!(c instanceof FocusEvent))throw Error('The input parameter must be a "FocusEvent" object.');var a={};a.lostFocusNode=c.target;a.gainedFocusNode=l("chrome")||l("safari")?c.relatedTarget:document.activeElement;a.type=c.type;a.eventdata=c;return a},getParent:function(c){f._validateElement(c);
return c.parentNode},findParentNode:function(c,a,b){var k=null,e;c.domNode&&(c=c.domNode);for(;c&&c!==window.document;){if(f.hasAttr(c,a)){k=c;break}if(f.hasAttrValue(c,a,b)){k=c;break}if(f.containsClass(c,a)){k=c;break}c=(e=f.getAttr(c,"dijitpopupparent"))?f.getById(e):c.parentNode}return k},getNodeType:function(c){f._validateElement(c);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[c.nodeType]},getById:function(c){f._validateString(c);
return window.document.getElementById(c)},getByClass:function(c){f._validateString(c);return window.document.getElementsByClassName(c)},getByAttr:function(c){f._validateString(c);return window.document.querySelectorAll("["+c+"]")},getByAttrValue:function(c,a){f._validateString(c);f._validateString(a);return window.document.querySelectorAll("["+c+"\x3d"+a.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")},getByName:function(c){f._validateString(c);return window.document.getElementById("[name\x3d"+
c+"]")},getByTag:function(c){f._validateString(c);return window.document.getElementsByTagName(c)},getComputedStyle:function(c,a){f._validateElement(c);return a?(f._validateString(a),window.getComputedStyle(c,null)[a]):window.getComputedStyle(c,null)},getStyle:function(c,a){f._validateElement(c);f._validateString(a);if(void 0===c.style[a])throw Error("The style specified is invalid.");return c.style[a]},setStyle:function(c,a,b){f._validateElement(c);f._validateString(a);f._validateString(b);c.style[a]=
b;if(c.style[a]!==b)throw Error("The value specified is invalid.");},hasAttr:function(c,a){f._validateElement(c);f._validateString(a);return c.hasAttribute(a)},hasAttrValue:function(c,a,b){f._validateElement(c);f._validateString(a);f._validateString(b);return c.hasAttribute(a)&&c.getAttribute(a)===b},getAttr:function(c,a){f._validateElement(c);f._validateString(a);return c.getAttribute(a)},setAttr:function(c,a,b){f._validateElement(c);f._validateString(a);f._validateString(b);c.setAttribute(a,b)},
addAttr:function(c,a){f._validateElement(c);f._validateString(a);c.setAttribute(a,"")},removeAttr:function(c,a){f._validateElement(c);f._validateString(a);c.removeAttribute(a)},getClasses:function(c){f._validateElement(c);return c.classList?c.classList:{_element:c,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:c.className.split(" ").length,item:function(a){return this._getClassArray()[a]},
contains:function(a){for(var b=this._getClassArray(),c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),!1;this.add(a);return!0}}},getClass:function(c,a){if(null==a||"number"!==typeof a||0>a||0!==a%1)throw Error("index argument expects an integer.");return f.getClasses(c).item(a)},
addClass:function(c,a){if(null==a||"string"!==typeof a)throw Error("index argument expects a string.");return f.getClasses(c).add(a)},removeClass:function(c,a){if(null==a||"string"!==typeof a)throw Error("index argument expects a string.");return f.getClasses(c).remove(a)},toggleClass:function(c,a){if(null==a||"string"!==typeof a)throw Error("index argument expects a string.");return f.getClasses(c).toggle(a)},containsClass:function(c,a){if(null==a||"string"!==typeof a)throw Error("index argument expects a string.");
return f.getClasses(c).contains(a)},classCount:function(c){return f.getClasses(c).length},getChildCount:function(c){f._validateElement(c);return c.childElementCount},getChildren:function(c){f._validateElement(c);return c.children},isDescendant:function(c,a,b){f._validateElement(c);f._validateElement(a);if(b&&c===a)return!0;for(;c&&c!==window.document;)if(c=f.getParent(c),c===a)return!0;return!1},isDescendantOrInLaw:function(c,a,b,k){var e;if("function"!==typeof b)throw Error("A function which returns a spouse node if it exists must be provided.");
e=f.isDescendant(c,a,k);!1===e&&(c=b(c)||c.parentNode)&&c!==window.document&&(e=f.isDescendantOrInLaw(c,a,b,k));return e},getFirstChild:function(c){f._validateElement(c);return!f.isContainer(c)||1>f.getChildCount(c)?null:f.getChildren(c)[0]},getLastChild:function(c){var a;f._validateElement(c);a=f.getChildCount(c);return!f.isContainer(c)||1>a?null:f.getChildren(c)[a-1]},isContainer:function(c){f._validateElement(c);return 0<f.getChildCount(c)},getAdjacentElement:function(c,a){f._validateElement(c);
if(!a||0>["next","previous"].indexOf(a))a="next";return c=c[a+"Sibling"]},getElementPositionInViewPort:function(c){f._validateElement(c);c=c.getBoundingClientRect();return{x:c.left,y:c.top,w:c.right-c.left,h:c.bottom-c.top}},getElementPositionOnPage:function(c){f._validateElement(c);c=f.getElementPositionInViewPort(c);c.x+=window.pageXOffset;c.y+=window.pageYOffset;return c},isFocusable:function(c){f._validateElement(c);return c&&!c.hasAttribute("disabled")&&(!c.hasAttribute("aria-disabled")||"true"!==
c.getAttribute("aria-disabled"))&&"none"!==c.style.display&&!c.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(c){var a,b,k,e;f._validateElement(c);a=c.getBoundingClientRect();b=window.innerWidth||doc.documentElement.clientWidth;k=window.innerHeight||doc.documentElement.clientHeight;e=function(a,b){return document.elementFromPoint(a,b)};return 0>a.right||0>a.bottom||a.left>b||a.top>k?!1:c.contains(e(a.left,a.top))||c.contains(e(a.right,a.top))||c.contains(e(a.right,a.bottom))||c.contains(e(a.left,
a.bottom))},_obscuredProps:{}};f._obscuredProps.sawPosAbsolute=!1;f._obscuredProps.elementPosition=null;f.isElementObscuredByParent=function(c,a){var b,k,e,h;f._validateElement(c);h=!1;if(e=f.getParent(c))if(a||(f._obscuredProps.elementPosition=f.getElementPositionOnPage(c),f._obscuredProps.sawPosAbsolute="absolute"==window.getComputedStyle(c,null).position),b=f._obscuredProps.elementPosition,k=f._obscuredProps.sawPosAbsolute,e&&"Element"===f.getNodeType(e)&&"BODY"!=e.nodeName){var d=f.getElementPositionOnPage(e);
e=window.getComputedStyle(e,null);/relative|absolute/.test(e.position)&&(k=f._sawPosAbsolute=!1);!k&&/hidden|auto|scroll/.test(e.overflow)&&(h=b.y<d.y||b.y+b.h>d.y+d.h||b.x<d.x||b.x+b.w>d.x+d.w)}return h};f.isElementObscuredByAncestor=function(c){var a,b;f._validateElement(c);a=!1;f._obscuredProps.elementPosition=f.getElementPositionOnPage(c);for(f._obscuredProps.sawPosAbsolute="absolute"==window.getComputedStyle(c,null).position;(b=f.getParent(c))&&"Element"===f.getNodeType(b)&&"BODY"!=b.nodeName;)a=
f.isElementObscuredByParent(c,!0),c=b;return a};return f})},"MW/form/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin ../mixins/property/TagMixin ../mixins/property/CheckedMixin ../mixins/property/DescriptionMixin ../mixins/property/DisabledMixin ../mixins/property/SizeMixin ../mixins/property/TextMixin ../mixins/property/VisualFamilyMixin ../mixins/property/ValidationMixin ../mixins/event/ChangeEventMixin ../mixins/AccessibilityClickMixin ./mixins/CheckBoxRadioButtonTextSizingMixin ../mixins/PreventSelectionMixin ../utils/mixinDependencyValidator dojo/text!./templates/CheckBox.html".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r,v,w){return l(v.validate([f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r]),{baseClass:"mwWidget mwCheckBox",templateString:w})})},"MW/mixins/property/CheckedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/on","MW/mixins/event/ChangeEventMixin"],function(l,f,c,a,b){l=l(null,{checked:!1,checkableNode:null,postCreate:function(){this.get("checkableNode")||this.set("checkableNode",this.domNode);this.inherited(arguments);c.add(this.domNode,
"mwCheckedMixin");this.own(a(this.get("checkableNode"),"click",f.hitch(this,"_onClick")))},_setCheckedAttr:function(a){this._set("checked",a)},_setCheckableNodeAttr:function(a){this.checkableNode=a||this.domNode},_onClick:function(){var a=this.get("checked"),b=!this.get("checked");this.set("checked",b,!0);this._triggerChangeEvent("checked",a,b)}});l._dependencies=[{mixin:b,orderDependent:!1}];return l})},"MW/form/mixins/CheckBoxRadioButtonTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-style",
"dojo/dom-geometry"],function(l,f,c){return l(null,{_setWidthAttr:function(){this.inherited(arguments);if(this._started)if("auto"!==this.get("width")){var a=c.position(this.checkBoxRadioIconNode),b=c.getMarginExtents(this.textNode);f.set(this.textNode,"width",this.width-(a.w+b.l)+"px")}else f.set(this.textNode,"width","auto")}})})},"MW/mixins/PreventSelectionMixin":function(){define(["dojo/_base/declare","dojo/on"],function(l,f){return l(null,{postCreate:function(){this.inherited(arguments);this._getNonSelectableNodes().forEach(function(c){f(c,
"selectstart",function(a){if((document.documentMode||"Netscape"===navigator.appName&&-1===navigator.appVersion.indexOf("Trident"))&&("INPUT"!==a.target.nodeName||"TEXTAREA"!==a.target.nodeName))return!1;a.preventDefault()})})},_getNonSelectableNodes:function(){return[this.domNode]}})})},"MW/form/PushButton":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin ../mixins/property/TagMixin ../mixins/property/DescriptionMixin ../mixins/property/DisabledMixin ../mixins/property/HorizontalAlignmentMixin ../mixins/property/IconAlignmentMixin ../mixins/property/IconMixin ../mixins/property/SizeMixin ../mixins/property/TextMixin ../mixins/property/VisualFamilyMixin ../mixins/property/VerticalAlignmentMixin ../mixins/AccessibilityClickMixin ../mixins/IconAndTextSizingMixin ../mixins/PreventSelectionMixin ../utils/mixinDependencyValidator dojo/text!./templates/Label.html".split(" "),
function(l,f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r,v,w,y){return l(w.validate([f,c,a,b,k,e,h,d,g,m,u,n,t,q,s,p,r,v]),{baseClass:"mwWidget mwPushButton",templateString:y})})},"MW/mixins/property/IconAlignmentMixin":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","MW/mixins/property/TextMixin","MW/mixins/property/IconMixin"],function(l,f,c,a,b){l=l(null,{CLASS_NAME_PREFIX:"mwIconAlignment",constructor:function(){this.ICON_ALIGNMENT_CONFIGURATION={top:{className:this.CLASS_NAME_PREFIX+
"Top",textNodeLocation:"after"},right:{className:this.CLASS_NAME_PREFIX+"Right",textNodeLocation:"before"},bottom:{className:this.CLASS_NAME_PREFIX+"Bottom",textNodeLocation:"before"},left:{className:this.CLASS_NAME_PREFIX+"Left",textNodeLocation:"after"}}},iconAlignment:"left",_supportedValues:["top","right","bottom","left"],postCreate:function(){this.inherited(arguments);f.add(this.domNode,"mwIconAlignmentMixin")},_setIconAlignmentAttr:function(a){if(-1===this._supportedValues.indexOf(a))throw Error("'iconAlignment' property expects one of these values: "+
this._supportedValues);var b=this.ICON_ALIGNMENT_CONFIGURATION[this.get("iconAlignment")].className;f.remove(this.domNode,b);f.add(this.domNode,this.ICON_ALIGNMENT_CONFIGURATION[a].className);c.place(this.textNode,this.iconNode,this.ICON_ALIGNMENT_CONFIGURATION[a].textNodeLocation);this._set("iconAlignment",a)}});l._dependencies=[{mixin:a,orderDependent:!1},{mixin:b,orderDependent:!1}];return l})},"MW/mixins/property/IconMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on".split(" "),
function(l,f,c,a,b,k){return l(null,{_iconTypes:{DATA_URI:"data_uri",CSS_CLASS:"css_class"},icon:"",postCreate:function(){this.inherited(arguments);c.add(this.domNode,"mwIconMixin");this.set("icon",this.get("icon"))},_setIconAttr:function(a){if("string"!==typeof a)throw Error("'icon' property expects a literal string!");this._updateDOM(a);this._set("icon",a)},_updateDOM:function(a){this._removeOldIcon(this.get("icon"));this._applyNewIcon(a)},_removeOldIcon:function(a){var b=this._getIconType(a);b===
this._iconTypes.DATA_URI?this._removeImageStyles(this.iconNode):b===this._iconTypes.CSS_CLASS&&""!==a&&c.remove(this.iconNode,a)},_applyNewIcon:function(b){var h=this._getIconType(b);if(h===this._iconTypes.DATA_URI){var d=a.create("img",{src:b});this.own(k.once(d,"load",f.hitch(this,function(){this._applyImageStyles(this.iconNode,b,d);this.emit("iconapplied");this.emit("updatelayout");a.destroy(d)})))}else h===this._iconTypes.CSS_CLASS&&c.add(this.iconNode,b);0===b.length?c.add(this.domNode,"mwNoIcon"):
c.remove(this.domNode,"mwNoIcon")},_getIconType:function(a){var b="";return b=-1<a.indexOf("data:")?this._iconTypes.DATA_URI:this._iconTypes.CSS_CLASS},_applyImageStyles:function(a,c,d){b.set(a,{backgroundImage:"url("+c+")",width:d.width+"px",height:d.height+"px"})},_removeImageStyles:function(a){b.set(a,{backgroundImage:"",width:"",height:""})}})})},"MW/mixins/property/VerticalAlignmentMixin":function(){define(["dojo/_base/declare","dojo/dom-class","MW/mixins/property/SizeMixin"],function(l,f,c){var a=
["top","middle","bottom"],b={};Object.keys(a).forEach(function(c){b[a[c]]="mwVerticalAlignment"+(a[c].charAt(0).toUpperCase()+a[c].slice(1))});l=l(null,{verticalAlignment:"middle",postCreate:function(){this.inherited(arguments);f.add(this.domNode,"mwVerticalAlignmentMixin")},_setVerticalAlignmentAttr:function(b){if(-1===a.indexOf(b))throw Error("'Vertical alignment' property expects '' one of these values: "+a[b]);this._applyVerticalAlignmentClass(b);this._set("verticalAlignment",b)},_applyVerticalAlignmentClass:function(a){var c;
c=this.get("verticalAlignment");(c=b[c])&&f.remove(this.domNode,c);f.add(this.domNode,b[a])}});l._dependencies=[{mixin:c,orderDependent:!0}];return l})},"MW/mixins/IconAndTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","MW/mixins/property/SizeMixin"],function(l,f,c){l=l(null,{_setSize:function(a,b){this.inherited(arguments);if(this._started){var c="";"auto"===b?(c=b,this._setSpecialSizeOnAdditionalNodes(a,"none")):(c=this._getAdjustedSize(a,b,this.domNode),this._setSpecialSizeOnAdditionalNodes(a,
c));f.set(this.contentWrapperNode,a,c)}},_setSpecialSizeOnAdditionalNodes:function(a,b){"width"===a?f.set(this.iconAndTextContainerNode,"maxWidth",b):"height"===a&&(f.set(this.iconNode,"maxHeight",b),f.set(this.textNode,"maxHeight",b))}});l._dependencies=[{mixin:c,orderDependent:!0}];return l})},"url:MW/form/templates/TextField.html":'\x3cdiv\x3e\x3cinput class\x3d "mwInputNode mwAlignmentNode" type\x3d"text" data-dojo-attach-point\x3d"inputNode,focusNode"\x3e\x3c/div\x3e',"url:MW/form/templates/ComboBox.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"mwTextFieldContainerNode" data-dojo-attach-point\x3d"textFieldContainerNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwArrowContainerNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3cdiv class\x3d"mwArrowNode"\x3e\x3c/div\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:MW/form/templates/CheckBox.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\n\x3e\x3c/div\x3e',"url:MW/form/templates/Label.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"contentWrapperNode" class\x3d"mwContentWrapperNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"iconAndTextContainerNode" class\x3d"mwIconAndTextContainerNode mwAlignmentNode"\n            \x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\n            \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\n        \x3e\x3c/div\n    \x3e\x3c/div\x3e\n\x3c/div\x3e',
"*now":function(l){l(['dojo/i18n!*preload*findfiles-ui/nls/findfiles-ui*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("findfiles-ui/findfiles-ui",[],1);
//# sourceMappingURL=findfiles-ui.js.map