/** Copyright 1984-2015 The MathWorks, Inc. *///>>built
/*
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
 Copyright 2015 MathWorks, Inc.
*/
require({cache:{"uisetcolor/main":function(){define(["mw-utils/HtmlUtils","mw-colorpicker/ColorPickerWithOkCancel","MW/remote/MessageService"],function(l,k,g){return{start:function(c){g.start();var b=l.parseQueryString(),d=new k({selectedValue:"#"+b.init});d.on("ok",function(b){void 0!==b.mwEventData&&g.publish("/gbt/dialogs/uisetcolor/return",b.mwEventData.newValue)});d.on("cancel",function(b){void 0!==b.mwEventData&&g.publish("/gbt/dialogs/uisetcolor/return","cancel")});b.recent&&(b=b.recent.split("-").map(function(b){return"#"+
b}),d.pickerNode.set("recentlyUsedColors",b));d.placeAt(c);d.startup();d.okNode.focus();document.destroyColorPicker=function(){d.destroy()}}}})},"mw-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query"],function(l,k,g){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"[^>]*>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,parseQueryString:function(){var c=
l.global.location.search.substr(1,l.global.location.search.length);return this._parseQueryString(c)},_parseQueryString:function(c){return g.queryToObject(c)},parseUrl:function(c){var b=document.createElement("a");b.display="none";b.href=c||window.location.href;b.href=b.href;b={protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search,hash:b.hash};if(("https:"===b.protocol||"http:"===b.protocol)&&0!==b.pathname.indexOf("/"))b.pathname="/"+b.pathname;"https:"===b.protocol&&
("443"===b.port&&0!==c.indexOf("https://"+b.hostname+":443"))&&(b.port="");return b},escapeHtml:function(c){var b=l.global.document.createElement("div");c=l.global.document.createTextNode(c);b.appendChild(c);b=b.innerHTML;c="";for(var d=0;d<b.length;d+=1){var f=b.charCodeAt(d);c=128<f?c+"\x26#"+f+";":c+b.charAt(d)}return c},escapeLinksAndHtml:function(c,b){var d="",f=c.split(this.HYPERLINK_ESCAPE_REGEXP),e=c.match(this.HYPERLINK_ESCAPE_REGEXP),a="",h=this,m=0,r=function(b,e,m){b=h.parseUrl(e).protocol;
"http:"!==b&&("https:"!==b&&"matlab:"!==b)&&(e="#");e=h.escapeHtml(e);m=h._strongNotEscaped(m);a='\x3ca href\x3d"'+e+'"\x3e'+m+"\x3c/a\x3e"};if(b)d=this.escapeHtml(c),d=this.escapeWhitespace(d);else if(""!==f[0]&&(d=this._strongNotEscaped(f[0])),null!==e&&0!==e.length)for(m=0;m<e.length;m+=1)e[m].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,r),""!==f[m+1]&&(f[m+1]=this._strongNotEscaped(f[m+1])),d+=a+f[m+1];return d},_strongNotEscaped:function(c){var b="",d=c.match(this.STRONG_ESCAPE_REGEXP),
f=c.split(this.STRONG_ESCAPE_REGEXP),e=0;if(null!==d&&0!==d.length){b=this.escapeWhitespace(this.escapeHtml(f[0]));for(e=0;e<d.length;e+=1)b+=d[e]+this.escapeWhitespace(this.escapeHtml(f[e+1]))}else b=this.escapeWhitespace(this.escapeHtml(c));return b},escapeWhitespace:function(c){return(c||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(c,b){if(b.target.href){k.stop(b);var d=b.target.href;-1!==d.indexOf("matlab:")?"matlab:"===d.substring(0,7)&&(d=b.target.href.substring(7),
c(l.global.unescape(d))):l.global.open(b.target.href)}},isElementOverflown:function(c){return c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth}}})},"mw-colorpicker/ColorPickerWithOkCancel":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Button ./ColorPicker dojo/text!./templates/ColorPickerWithOkCancel.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),function(l,
k,g,c,b,d,f,e,a,h,m){return l([b,d,f],{selectedValue:"#ff0000",templateString:h,baseClass:"mwColorPickerOKCancel",postCreate:function(){this.inherited(arguments);this.pickerNode.on("change",k.hitch(this,function(a){this._set("selectedValue",a.mwEventData.newValue)}));this.okNode.set({label:m.ok,onClick:k.hitch(this,function(){this.emit("ok",{mwEventData:{propertyName:"selectedValue",newValue:this.get("selectedValue")}})})});this.cancelNode.set({label:m.cancel,onClick:k.hitch(this,function(){this.emit("cancel",
{mwEventData:{propertyName:"selectedValue",newValue:this.get("selectedValue")}})})})},_setSelectedValueAttr:function(a){this._set("selectedValue",a);this.pickerNode.set("value",a,!1)}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable require ./registry".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m,r,n,s,p,q,t,y,x,u,v,z,E){function L(a){return function(b){e[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}n.add("dijit-legacy-requires",!s.isAsync);n("dijit-legacy-requires")&&t(0,function(){l(["dijit/_base/manager"])});var O={};return d("dijit._WidgetBase",[y,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:L("lang"),dir:"",_setDirAttr:L("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:c.blankGif||l.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,h=a._setterAttrs=[],a=a._onMap={},e;for(e in b.attributeMap)h.push(e);for(e in b)/^on/.test(e)&&(a[e.substring(2).toLowerCase()]=e),/^_set[A-Z](.*)Attr$/.test(e)&&(e=e.charAt(4).toLowerCase()+e.substr(5,e.length-
9),(!b.attributeMap||!(e in b.attributeMap))&&h.push(e))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=f.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,p.mixin(this,a));this.postMixInProperties();this.id||(this.id=E.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=u.body(this.ownerDocument);E.add(this);this.buildRendering();var h;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),h=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();h&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);k.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var h=this._get(b);h&&this.set(b,h)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var b=this.baseClass.split(" ");this.isLeftToRight()||(b=b.concat(k.map(b,function(a){return a+"Rtl"})));a.add(this.domNode,b)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,k.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&p.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(h){h.destroyRecursive?h.destroyRecursive(a):h.destroy&&h.destroy(a)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,p.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,b);this.domNode&&k.forEach(E.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
E.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?e.remove(this.domNode,"widgetId"):h.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||h.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){k.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;p.isObject(a)?
r.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(b,h,m){m=3<=arguments.length?m:this.attributeMap[b];k.forEach(p.isArray(m)?m:[m],function(m){var c=this[m.node||m||"domNode"];switch(m.type||"attribute"){case "attribute":p.isFunction(h)&&(h=p.hitch(this,h));m=m.attribute?m.attribute:/^on[A-Z][a-zA-Z]*$/.test(b)?b.toLowerCase():b;c.tagName?e.set(c,m,h):c.set(m,h);break;case "innerText":c.innerHTML="";c.appendChild(this.ownerDocument.createTextNode(h));
break;case "textContent":c.textContent=h;break;case "innerHTML":c.innerHTML=h;break;case "class":a.replace(c,h,this[b])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var h in a)this.set(h,a[h]);return this}h=this._getAttrNames(a);var e=this[h.s];if(p.isFunction(e))var m=e.apply(this,Array.prototype.slice.call(arguments,1));else{var e=this.focusNode&&!p.isFunction(this.focusNode)?"focusNode":"domNode",c=
this[e]&&this[e].tagName,d;if(d=c)if(!(d=O[c])){d=this[e];var n={},f;for(f in d)n[f.toLowerCase()]=!0;d=O[c]=n}f=d;h=a in this.attributeMap?this.attributeMap[a]:h.s in this?this[h.s]:f&&h.l in f&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?e:null;null!=h&&this._attrToDom(a,b,h);this._set(a,b)}return m||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var h=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});
return b[a]={n:a+"Node",s:"_set"+h+"Attr",g:"_get"+h+"Attr",l:h.toLowerCase()}},_set:function(a,b){var h=this[a];this[a]=b;if(this._created&&!(h===b||h!==h&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,h,b),this.emit("attrmodified-"+a,{detail:{prevValue:h,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,h){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var e,m=this["on"+a];m&&(e=m.apply(this,
h?h:[b]));this._started&&!this._beingDestroyed&&q.emit(this.domNode,a.toLowerCase(),b);return e},on:function(a,b){var h=this._onMap(a);return h?g.after(this,h,b,!0):this.own(q(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,h=b._onMap;if(!h){var h=b._onMap={},e;for(e in b.prototype)/^on/.test(e)&&(h[e.replace(/^on/,"").toLowerCase()]=e)}return h["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?
E.findWidgets(this.containerNode):[]},getParent:function(){return E.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,h,e){return this.own(b.connect(a,h,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,p.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():m.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=r.get(this.domNode,"display")},
placeAt:function(a,b){var e=!a.tagName&&E.byId(a);e&&e.addChild&&(!b||"number"===typeof b)?e.addChild(this,b):(e=e&&"domNode"in e?e.containerNode&&!/after|before|replace/.test(b||"")?e.containerNode:e.domNode:f.byId(a,this.ownerDocument),h.place(this.domNode,e,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var h=setTimeout(p.hitch(this,function(){h&&(h=null,this._destroyed||p.hitch(this,a)())}),b||0);return{remove:function(){h&&(clearTimeout(h),
h=null);return null}}}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,k,g,c){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(b){var c=this._attrPairNames;return c[b]?c[b]:c[b]={s:"_"+b+"Setter",g:"_"+b+"Getter"}},postscript:function(b){b&&this.set(b)},_get:function(b,c){return"function"===typeof this[c.g]?this[c.g]():this[b]},get:function(b){return this._get(b,this._getAttrNames(b))},set:function(b,d){if("object"===
typeof b){for(var f in b)b.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,b[f]);return this}f=this._getAttrNames(b);var e=this._get(b,f);f=this[f.s];var a;"function"===typeof f?a=f.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=d;if(this._watchCallbacks){var h=this;c(a,function(){h._watchCallbacks(b,e,d)})}return this},_changeAttrValue:function(b,c){var f=this.get(b);this[b]=c;this._watchCallbacks&&this._watchCallbacks(b,f,c);return this},watch:function(b,c){var f=this._watchCallbacks;
if(!f)var e=this,f=this._watchCallbacks=function(a,b,h,c){var d=function(c){if(c){c=c.slice();for(var d=0,f=c.length;d<f;d++)c[d].call(e,a,b,h)}};d(f["_"+a]);c||d(f["*"])};!c&&"function"===typeof b?(c=b,b="*"):b="_"+b;var a=f[b];"object"!==typeof a&&(a=f[b]=[]);a.push(c);var h={};h.unwatch=h.remove=function(){var b=g.indexOf(a,c);-1<b&&a.splice(b,1)};return h}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(l,k,g){return g("dijit.Destroyable",
null,{destroy:function(c){this._destroyed=!0},own:function(){var c=["destroyRecursive","destroy","remove"];l.forEach(arguments,function(b){function d(){e.remove();l.forEach(a,function(a){a.remove()})}var f,e=k.before(this,"destroy",function(a){b[f](a)}),a=[];b.then?(f="cancel",b.then(d,d)):l.forEach(c,function(h){"function"===typeof b[h]&&(f||(f=h),a.push(k.after(b,h,d,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(l,
k,g){var c={},b={},d={length:0,add:function(c){if(b[c.id])throw Error("Tried to register widget with id\x3d\x3d"+c.id+" but that id is already registered");b[c.id]=c;this.length++},remove:function(c){b[c]&&(delete b[c],this.length--)},byId:function(c){return"string"==typeof c?b[c]:c},byNode:function(c){return b[c.getAttribute("widgetId")]},toArray:function(){var c=[],e;for(e in b)c.push(b[e]);return c},getUniqueId:function(d){var e;do e=d+"_"+(d in c?++c[d]:c[d]=0);while(b[e]);return"dijit"==g._scopeName?
e:g._scopeName+"_"+e},findWidgets:function(c,e){function a(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var d=c.getAttribute("widgetId");d?(d=b[d])&&h.push(d):c!==e&&a(c)}}var h=[];a(c);return h},_destroyAll:function(){g._curFocus=null;g._prevFocus=null;g._activeStack=[];l.forEach(d.findWidgets(k.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(c){for(;c;){var e=1==c.nodeType&&c.getAttribute("widgetId");
if(e)return b[e];c=c.parentNode}return null},_hash:b};return g.registry=d})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(l,k,g,c,b,d,f,e){var a=k("dijit._TemplatedMixin",e,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,e=this;return f.substitute(a,this,function(a,h){"!"==h.charAt(0)&&(a=
c.getObject(h.substr(1),!1,e));if("undefined"==typeof a)throw Error(b+" template:"+h);return null==a?"":"!"==h.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=l(this.templatePath,{sanitize:!0}));var b=a.getCachedTemplate(this.templateString,this._skipNodeCache,
this.ownerDocument),e;if(c.isString(b)){if(e=g.toDom(this._stringRepl(b),this.ownerDocument),1!=e.nodeType)throw Error("Invalid template: "+b);}else e=b.cloneNode(!0);this.domNode=e}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});a._templateCache={};a.getCachedTemplate=function(b,e,c){var d=a._templateCache,s=b,p=d[s];if(p){try{if(!p.ownerDocument||
p.ownerDocument==(c||document))return p}catch(q){}g.destroy(p)}b=f.trim(b);if(e||b.match(/\$\{([^\}]+)\}/g))return d[s]=b;e=g.toDom(b,c);if(1!=e.nodeType)throw Error("Invalid template: "+b);return d[s]=e};d("ie")&&b(window,"unload",function(){var b=a._templateCache,e;for(e in b){var c=b[e];"object"==typeof c&&g.destroy(c);delete b[e]}});return a})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(l){return l.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has",
"./request"],function(l,k,g,c){var b;b=function(a,b,e){c(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(e)};var d={},f=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},e={},a={};l.cache=function(a,e,c){var n;"string"==typeof a?/\//.test(a)?(n=a,c=e):n=k.toUrl(a.replace(/\./g,"/")+(e?"/"+e:"")):(n=a+"",c=e);a=void 0!=c&&"string"!=typeof c?c.value:c;c=c&&c.sanitize;
if("string"==typeof a)return d[n]=a,c?f(a):a;if(null===a)return delete d[n],null;n in d||b(n,!0,function(a){d[n]=a});return c?f(d[n]):d[n]};return{dynamic:!0,normalize:function(a,b){var e=a.split("!"),c=e[0];return(/^\./.test(c)?b(c):c)+(e[1]?"!"+e[1]:"")},load:function(h,c,r){h=h.split("!");var n=1<h.length,g=h[0],p=c.toUrl(h[0]);h="url:"+p;var q=e,t=function(a){r(n?f(a):a)};g in d?q=d[g]:c.cache&&h in c.cache?q=c.cache[h]:p in d&&(q=d[p]);if(q===e)if(a[p])a[p].push(t);else{var k=a[p]=[t];b(p,!c.async,
function(b){d[g]=d[p]=b;for(var h=0;h<k.length;)k[h++](b);delete a[p]})}else t(q)}}})},"dojo/request":function(){define(["./request/default!"],function(l){return l})},"dojo/request/default":function(){define(["exports","require","../has"],function(l,k,g){var c=g("config-requestProvider");c||(c="./xhr");l.getPlatformDefaultId=function(){return"./xhr"};l.load=function(b,d,f,e){k(["platform"==b?"./xhr":c],function(a){f(a)})}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(l,
k){var g=/[&<>'"\/]/g,c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};k.setObject("dojo.string",b);b.escape=function(b){return!b?"":b.replace(g,function(b){return c[b]})};b.rep=function(b,c){if(0>=c||!b)return"";for(var e=[];;){c&1&&e.push(b);if(!(c>>=1))break;b+=b}return e.join("")};b.pad=function(c,f,e,a){e||(e="0");c=String(c);f=b.rep(e,Math.ceil((f-c.length)/e.length));return a?c+f:f+c};b.substitute=function(b,c,e,a){a=a||l.global;e=
e?k.hitch(a,e):function(a){return a};return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,d,r){b=k.getObject(d,!1,c);r&&(b=k.getObject(r,!1,a).call(a,b,d));return e(b,d).toString()})};b.trim=String.prototype.trim?k.trim:function(b){b=b.replace(/^\s+/,"");for(var c=b.length-1;0<=c;c--)if(/\S/.test(b.charAt(c))){b=b.substring(0,c+1);break}return b};return b})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(l,k,g,c,b,d,f,e,a){var h=b.delegate(e,{mouseenter:d.enter,mouseleave:d.leave,keypress:g._keypress}),m;g=c("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,c,h){var e=!0,d=this.attachScope||this,m=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(m)for(var f=m.split(/\s*,\s*/);m=f.shift();)b.isArray(d[m])?d[m].push(a):d[m]=a,e="containerNode"!=m,this._attachPoints.push(m);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){m=c.split(/\s*,\s*/);for(f=b.trim;c=m.shift();)if(c){var g=
null;-1!=c.indexOf(":")?(g=c.split(":"),c=f(g[0]),g=f(g[1])):c=f(c);g||(g=c);this._attachEvents.push(h(a,c,b.hitch(d,g)))}}return e},_attach:function(a,b,c){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?m||(m=l("./a11yclick")):h[b]||b;return f(a,b,c)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});b.extend(a,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(l,k,g,c,b,d,f,e,a,h){function m(a,b,c){return p&&c?function(a,b){return d(a,c,b)}:t?function(c,h){var e=d(c,b,function(a){h.call(this,a);T=(new Date).getTime()}),m=d(c,a,function(a){(!T||(new Date).getTime()>T+1E3)&&h.call(this,a)});return{remove:function(){e.remove();
m.remove()}}}:function(b,c){return d(b,a,c)}}function r(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function n(a,b,e){var m=r(a.target);if(x=!a.target.disabled&&m&&m.dojoClick)if(v=(u="useTarget"==x)?m:a.target,u&&a.preventDefault(),z=a.changedTouches?a.changedTouches[0].pageX-h.global.pageXOffset:a.clientX,E=a.changedTouches?a.changedTouches[0].pageY-h.global.pageYOffset:a.clientY,L=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,O=("object"==typeof x?x.y:"number"==typeof x?x:
0)||4,!y){y=!0;var n=function(a){x=u?g.isDescendant(h.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-h.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-h.global.pageYOffset:a.clientY),v):x&&(a.changedTouches?a.changedTouches[0].target:a.target)==v&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-h.global.pageXOffset:a.clientX)-z)<=L&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-h.global.pageYOffset:a.clientY)-E)<=O};h.doc.addEventListener(b,function(a){n(a);
u&&a.preventDefault()},!0);h.doc.addEventListener(e,function(a){n(a);if(x){F=(new Date).getTime();var b=u?v:a.target;"LABEL"===b.tagName&&(b=g.byId(b.getAttribute("for"))||b);var c=a.changedTouches?a.changedTouches[0]:a,h=document.createEvent("MouseEvents");h._dojo_click=!0;h.initMouseEvent("click",!0,!0,a.view,a.detail,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){d.emit(b,"click",h);F=(new Date).getTime()},0)}},!0);a=function(a){h.doc.addEventListener(a,
function(b){!b._dojo_click&&((new Date).getTime()<=F+1E3&&!("INPUT"==b.target.tagName&&c.contains(b.target,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=b.target.tagName||"radio"==b.target.type||"checkbox"==b.target.type)&&"TEXTAREA"!=b.target.tagName&&"AUDIO"!=b.target.tagName&&"VIDEO"!=b.target.tagName)&&b.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}var s=5>f("ios"),p=f("pointer-events")||f("MSPointer"),
q=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=f("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),t=f("touch-events"),y,x,u=!1,v,z,E,L,O,F,T,P;p?a(function(){h.doc.addEventListener(q.down,function(a){n(a,q.move,q.up)},!0)}):t&&a(function(){function a(c){var h=b.delegate(c,{bubbles:!0});6<=f("ios")&&(h.touches=c.touches,h.altKey=c.altKey,h.changedTouches=c.changedTouches,h.ctrlKey=c.ctrlKey,h.metaKey=c.metaKey,h.shiftKey=c.shiftKey,
h.targetTouches=c.targetTouches);return h}P=h.body();h.doc.addEventListener("touchstart",function(a){T=(new Date).getTime();var b=P;P=a.target;d.emit(b,"dojotouchout",{relatedTarget:P,bubbles:!0});d.emit(P,"dojotouchover",{relatedTarget:b,bubbles:!0});n(a,"touchmove","touchend")},!0);d(h.doc,"touchmove",function(b){T=(new Date).getTime();var c=h.doc.elementFromPoint(b.pageX-(s?0:h.global.pageXOffset),b.pageY-(s?0:h.global.pageYOffset));c&&(P!==c&&(d.emit(P,"dojotouchout",{relatedTarget:c,bubbles:!0}),
d.emit(c,"dojotouchover",{relatedTarget:P,bubbles:!0}),P=c),d.emit(c,"dojotouchmove",a(b))||b.preventDefault())});d(h.doc,"touchend",function(b){T=(new Date).getTime();var c=h.doc.elementFromPoint(b.pageX-(s?0:h.global.pageXOffset),b.pageY-(s?0:h.global.pageYOffset))||h.body();d.emit(c,"dojotouchend",a(b))})});k={press:m("mousedown","touchstart",q.down),move:m("mousemove","dojotouchmove",q.move),release:m("mouseup","dojotouchend",q.up),cancel:m(e.leave,"touchcancel",p?q.cancel:null),over:m("mouseover",
"dojotouchover",q.over),out:m("mouseout","dojotouchout",q.out),enter:e._eventHandler(m("mouseover","dojotouchover",q.over)),leave:e._eventHandler(m("mouseout","dojotouchout",q.out))};return l.touch=k})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(l,k,g,c,b){return g("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var d=
this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);b.parse(d,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(c.hitch(this,function(b){this._startupWidgets=b;for(var c=0;c<b.length;c++)this._processTemplateNode(b[c],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&
this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(b,c,e){return c(b,"dojoType")||c(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){l.forEach(this._startupWidgets,function(b){b&&(!b._started&&
b.startup)&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(l,k,g,c,b,d,f,e,a,h,m,r,n,s,p,q){function t(a){return eval("("+a+")")}function y(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<u){var b=a._nameCaseMap={},h;for(h in c)"_"!==h.charAt(0)&&
(b[h.toLowerCase()]=h);b._extendCnt=u}return b}function x(a,b){var c=a.join();if(!v[c]){for(var h=[],e=0,m=a.length;e<m;e++){var d=a[e];h[h.length]=v[d]=v[d]||g.getObject(d)||~d.indexOf("/")&&(b?b(d):l(d))}e=h.shift();v[c]=h.length?e.createSubclass?e.createSubclass(h):e.extend.apply(e,h):e}return v[c]}new Date("X");var u=0;a.after(g,"extend",function(){u++},!0);var v={},z={_clearCache:function(){u++;v={}},_functionFromScript:function(a,b){var h="",e="",m=a.getAttribute(b+"args")||a.getAttribute("args"),
d=a.getAttribute("with"),m=(m||"").split(/\s*,\s*/);d&&d.length&&c.forEach(d.split(/\s*,\s*/),function(a){h+="with("+a+"){";e+="}"});return new Function(m,h+a.innerHTML+e)},instantiate:function(a,b,h){b=b||{};h=h||{};var e=(h.scope||k._scopeName)+"Type",m="data-"+(h.scope||k._scopeName)+"-",d=m+"type",n=m+"mixins",f=[];c.forEach(a,function(a){var c=e in b?b[e]:a.getAttribute(d)||a.getAttribute(e);if(c){var h=a.getAttribute(n),c=h?[c].concat(h.split(/\s*,\s*/)):[c];f.push({node:a,types:c})}});return this._instantiate(f,
b,h)},_instantiate:function(a,b,e,m){function d(a){!b._started&&!e.noStart&&c.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=c.map(a,function(a){var c=a.ctor||x(a.types,e.contextRequire);if(!c)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(c,a.node,b,e,a.scripts,a.inherited)},this);return m?h(a).then(d):d(a)},construct:function(b,h,d,f,r,q){function l(b){J&&g.setObject(J,b);for(C=0;C<G.length;C++)a[G[C].advice||
"after"](b,G[C].method,g.hitch(b,G[C].func),!0);for(C=0;C<R.length;C++)R[C].call(b);for(C=0;C<S.length;C++)b.watch(S[C].prop,S[C].func);for(C=0;C<M.length;C++)p(b,M[C].event,M[C].func);return b}var z=b&&b.prototype;f=f||{};var x={};f.defaults&&g.mixin(x,f.defaults);q&&g.mixin(x,q);var u;n("dom-attributes-explicit")?u=h.attributes:n("dom-attributes-specified-flag")?u=c.filter(h.attributes,function(a){return a.specified}):(q=(/^input$|^img$/i.test(h.nodeName)?h:h.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,
"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),u=c.map(q.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==h.nodeName&&"value"==a||"enctype"==b?h.getAttribute(b):h.getAttributeNode(b).value}}));var v=f.scope||k._scopeName;q="data-"+v+"-";var w={};"dojo"!==v&&(w[q+"props"]="data-dojo-props",w[q+"type"]="data-dojo-type",w[q+"mixins"]="data-dojo-mixins",w[v+"type"]="dojoType",w[q+"id"]="data-dojo-id");for(var C=0,A,v=[],J,H;A=u[C++];){var B=A.name,I=B.toLowerCase();
A=A.value;switch(w[I]||I){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":H=A;break;case "data-dojo-id":case "jsid":J=A;break;case "data-dojo-attach-point":case "dojoattachpoint":x.dojoAttachPoint=A;break;case "data-dojo-attach-event":case "dojoattachevent":x.dojoAttachEvent=A;break;case "class":x["class"]=h.className;break;case "style":x.style=h.style&&h.style.cssText;break;default:if(B in z||(B=y(b)[I]||B),B in z)switch(typeof z[B]){case "string":x[B]=
A;break;case "number":x[B]=A.length?Number(A):NaN;break;case "boolean":x[B]="false"!=A.toLowerCase();break;case "function":""===A||-1!=A.search(/[^\w\.]+/i)?x[B]=new Function(A):x[B]=g.getObject(A,!1)||new Function(A);v.push(B);break;default:I=z[B],x[B]=I&&"length"in I?A?A.split(/\s*,\s*/):[]:I instanceof Date?""==A?new Date(""):"now"==A?new Date:m.fromISOString(A):I instanceof e?k.baseUrl+A:t(A)}else x[B]=A}}for(u=0;u<v.length;u++)w=v[u].toLowerCase(),h.removeAttribute(w),h[w]=null;if(H)try{H=t.call(f.propsThis,
"{"+H+"}"),g.mixin(x,H)}catch(U){throw Error(U.toString()+" in data-dojo-props\x3d'"+H+"'");}g.mixin(x,d);r||(r=b&&(b._noScript||z._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",h));var G=[],R=[],S=[],M=[];if(r)for(C=0;C<r.length;C++)w=r[C],h.removeChild(w),d=w.getAttribute(q+"event")||w.getAttribute("event"),f=w.getAttribute(q+"prop"),H=w.getAttribute(q+"method"),v=w.getAttribute(q+"advice"),u=w.getAttribute("type"),w=this._functionFromScript(w,q),d?"dojo/connect"==u?G.push({method:d,func:w}):"dojo/on"==
u?M.push({event:d,func:w}):x[d]=w:"dojo/aspect"==u?G.push({method:H,advice:v,func:w}):"dojo/watch"==u?S.push({prop:f,func:w}):R.push(w);b=(r=b.markupFactory||z.markupFactory)?r(x,h,b):new b(x,h);return b.then?b.then(l):l(b)},scan:function(a,b){function h(a){if(!a.inherited){a.inherited={};var b=a.node,c=h(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(q)||c.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],d=[],
m={},f=(b.scope||k._scopeName)+"Type",g="data-"+(b.scope||k._scopeName)+"-",p=g+"type",q=g+"textdir",g=g+"mixins",s=a.firstChild,t=b.inherited;if(!t){var y=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&y(a.parentNode,b)},t={dir:y(a,"dir"),lang:y(a,"lang"),textDir:y(a,q)},z;for(z in t)t[z]||delete t[z]}for(var t={inherited:t},u,v;;)if(s)if(1!=s.nodeType)s=s.nextSibling;else if(u&&"script"==s.nodeName.toLowerCase())(B=s.getAttribute("type"))&&/^dojo\/\w/i.test(B)&&u.push(s),
s=s.nextSibling;else if(v)s=s.nextSibling;else{var B=s.getAttribute(p)||s.getAttribute(f);z=s.firstChild;if(!B&&(!z||3==z.nodeType&&!z.nextSibling))s=s.nextSibling;else{v=null;if(B){var I=s.getAttribute(g);u=I?[B].concat(I.split(/\s*,\s*/)):[B];try{v=x(u,b.contextRequire)}catch(U){}v||c.forEach(u,function(a){~a.indexOf("/")&&!m[a]&&(m[a]=!0,d[d.length]=a)});I=v&&!v.prototype._noScript?[]:null;t={types:u,ctor:v,parent:t,node:s,scripts:I};t.inherited=h(t);e.push(t)}else t={node:s,scripts:u,parent:t};
u=I;v=s.stopParser||v&&v.prototype.stopParser&&!b.template;s=z}}else{if(!t||!t.node)break;s=t.node.nextSibling;v=!1;t=t.parent;u=t.scripts}var G=new r;d.length?(n("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+d.join(", ")),(b.contextRequire||l)(d,function(){G.resolve(c.filter(e,function(a){if(!a.ctor)try{a.ctor=x(a.types,b.contextRequire)}catch(c){}for(var h=a.parent;h&&!h.types;)h=h.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);
a.instantiate=!h||h.instantiate&&h.instantiateChildren;return a.instantiate}))})):G.resolve(e);return G.promise},_require:function(a,b){var c=t("{"+a.innerHTML+"}"),h=[],e=[],d=new r,m=b&&b.contextRequire||l,n;for(n in c)h.push(n),e.push(c[n]);m(e,function(){for(var a=0;a<h.length;a++)g.setObject(h[a],arguments[a]);d.resolve(arguments)});return d.promise},_scanAmd:function(a,b){var c=new r,h=c.promise;c.resolve(!0);var e=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){h=h.then(function(){return e._require(a,
b)});a.parentNode.removeChild(a)});return h},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&g.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?d.byId(c):f.body();b=b||{};var h=b.template?{template:!0}:{},e=[],m=this,n=this._scanAmd(c,b).then(function(){return m.scan(c,b)}).then(function(a){return m._instantiate(a,h,b,!0)}).then(function(a){return e=e.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(e,n);return e}};k.parser=z;b.parseOnLoad&&
q(100,z,"parse");return z})},"dojo/_base/url":function(){define(["./kernel"],function(l){var k=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,g=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,c=function(){for(var b=arguments,d=[b[0]],f=1;f<b.length;f++)if(b[f]){var e=new c(b[f]+""),d=new c(d[0]+"");if(""==e.path&&!e.scheme&&!e.authority&&!e.query)null!=e.fragment&&(d.fragment=e.fragment),e=d;else if(!e.scheme&&(e.scheme=d.scheme,!e.authority&&(e.authority=d.authority,
"/"!=e.path.charAt(0)))){for(var d=(d.path.substring(0,d.path.lastIndexOf("/")+1)+e.path).split("/"),a=0;a<d.length;a++)"."==d[a]?a==d.length-1?d[a]="":(d.splice(a,1),a--):0<a&&(!(1==a&&""==d[0])&&".."==d[a]&&".."!=d[a-1])&&(a==d.length-1?(d.splice(a,1),d[a-1]=""):(d.splice(a-1,2),a-=2));e.path=d.join("/")}d=[];e.scheme&&d.push(e.scheme,":");e.authority&&d.push("//",e.authority);d.push(e.path);e.query&&d.push("?",e.query);e.fragment&&d.push("#",e.fragment)}this.uri=d.join("");b=this.uri.match(k);
this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(g),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};c.prototype.toString=function(){return this.uri};return l._Url=c})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(l,k,g){var c=l.some;return function(b){var d,f;b instanceof
Array?f=b:b&&"object"===typeof b&&(d=b);var e,a=[];if(d){f=[];for(var h in d)Object.hasOwnProperty.call(d,h)&&(a.push(h),f.push(d[h]));e={}}else f&&(e=[]);if(!f||!f.length)return(new k).resolve(e);var m=new k;m.promise.always(function(){e=a=null});var r=f.length;c(f,function(b,c){d||a.push(c);g(b,function(b){m.isFulfilled()||(e[a[c]]=b,0===--r&&m.resolve(e))},m.reject);return m.isFulfilled()});return m.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(l,k){var g=
{};l.setObject("dojo.date.stamp",g);g.fromISOString=function(c,b){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var d=g._isoRegExp.exec(c),f=null;if(d){d.shift();d[1]&&d[1]--;d[6]&&(d[6]*=1E3);b&&(b=new Date(b),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return b["get"+a]()}),function(a,b){d[b]=d[b]||a}));f=new Date(d[0]||1970,d[1]||0,d[2]||1,d[3]||0,d[4]||
0,d[5]||0,d[6]||0);100>d[0]&&f.setFullYear(d[0]||1970);var e=0,a=d[7]&&d[7].charAt(0);"Z"!=a&&(e=60*(d[8]||0)+(Number(d[9])||0),"-"!=a&&(e*=-1));a&&(e-=f.getTimezoneOffset());e&&f.setTime(f.getTime()+6E4*e)}return f};g.toISOString=function(c,b){var d=function(a){return 10>a?"0"+a:a};b=b||{};var f=[],e=b.zulu?"getUTC":"get",a="";"time"!=b.selector&&(a=c[e+"FullYear"](),a=["0000".substr((a+"").length)+a,d(c[e+"Month"]()+1),d(c[e+"Date"]())].join("-"));f.push(a);if("date"!=b.selector){a=[d(c[e+"Hours"]()),
d(c[e+"Minutes"]()),d(c[e+"Seconds"]())].join(":");e=c[e+"Milliseconds"]();b.milliseconds&&(a+="."+(100>e?"0":"")+d(e));if(b.zulu)a+="Z";else if("time"!=b.selector)var e=c.getTimezoneOffset(),h=Math.abs(e),a=a+((0<e?"-":"+")+d(Math.floor(h/60))+":"+d(h%60));f.push(a)}return f.join("T")};return g})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../_mw/utils/deprecation ../a11yclick".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m){m.deprecated({deprecated:{module:"dijit/form/Button"},replacement:{module:"MW/form/PushButton"},geckNumber:1352405});c("dijit-legacy-requires")&&f(0,function(){l(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return k("dijit.form.Button",[e,a],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:h,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&
this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=d.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&g.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&
(this.titleNode.title=d.trim(this.containerNode.innerText||this.containerNode.textContent||""))}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(l,k,g,c,b,d,f,e){k("dijit-legacy-requires")&&c(0,function(){require(["dijit/form/_FormValueWidget"])});return l("dijit.form._FormWidget",[b,f,d,e],{setDisabled:function(a){g.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+
a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){g.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){g.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!k("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},
"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(l,k,g,c,b,d,f,e,a,h,m,r,n){function s(){}function p(a){return function(b,c,h,e){return b&&"string"==typeof c&&b[c]==s?b.on(c.substring(2).toLowerCase(),f.hitch(h,e)):a.apply(g,arguments)}}l.around(g,"connect",p);d.connect&&l.around(d,
"connect",p);l=c("dijit._Widget",[m,r,n],{onClick:s,onDblClick:s,onKeyDown:s,onKeyPress:s,onKeyUp:s,onMouseDown:s,onMouseMove:s,onMouseOut:s,onMouseOver:s,onMouseLeave:s,onMouseEnter:s,onMouseUp:s,constructor:function(a){this._toConnect={};for(var b in a)this[b]===s&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===
s?g.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?e("[widgetId]",this.containerNode).map(h.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&a(0,function(){require(["dijit/_base"])});return l})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(l,k,g,c,b,d){l=c("dijit._OnDijitClickMixin",null,{connect:function(b,c,a){return this.inherited(arguments,
[b,"ondijitclick"==c?d:c,a])}});l.a11yclick=d;return l})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(l,k,g,c){function b(b){if((b.keyCode===l.ENTER||b.keyCode===l.SPACE)&&!/input|button|textarea/i.test(b.target.nodeName))for(b=b.target;b;b=b.parentNode)if(b.dojoClick)return!0}var d;g(document,"keydown",function(c){b(c)?(d=c.target,c.preventDefault()):d=null});g(document,"keyup",function(c){b(c)&&c.target==d&&(d=null,g.emit(c.target,"click",{cancelable:!0,
bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var f=function(b,a){b.dojoClick=!0;return g(b,"click",a)};f.click=f;f.press=function(b,a){var h=g(b,c.press,function(b){("mousedown"!=b.type||k.isLeft(b))&&a(b)}),d=g(b,"keydown",function(b){(b.keyCode===l.ENTER||b.keyCode===l.SPACE)&&a(b)});return{remove:function(){h.remove();d.remove()}}};f.release=function(b,a){var h=g(b,c.release,function(b){("mouseup"!=b.type||k.isLeft(b))&&a(b)}),d=g(b,"keyup",
function(b){(b.keyCode===l.ENTER||b.keyCode===l.SPACE)&&a(b)});return{remove:function(){h.remove();d.remove()}}};f.move=c.move;return f})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(l,k,g,c){c.extend(k,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",null,{_focusManager:l})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m,r,n,s,p,q,t){var y,x,u=new (k([r,f],{curNode:null,activeStack:[],constructor:function(){var a=e.hitch(this,function(a){g.isDescendant(this.curNode,a)&&this.set("curNode",null);g.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});l.before(d,"empty",a);l.before(d,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,c){var h=this,e=b.document&&b.document.body;if(e){var d=m("pointer-events")?"pointerdown":m("MSPointer")?
"MSPointerDown":m("touch-events")?"mousedown, touchstart":"mousedown",n=a(b.document,d,function(a){if(!a||!(a.target&&null==a.target.parentNode))h._onTouchNode(c||a.target,"mouse")}),f=a(e,"focusin",function(a){if(a.target.tagName){var b=a.target.tagName.toLowerCase();"#document"==b||"body"==b||(p.isFocusable(a.target)?h._onFocusNode(c||a.target):h._onTouchNode(c||a.target))}}),g=a(e,"focusout",function(a){h._onBlurNode(c||a.target)});return{remove:function(){n.remove();f.remove();g.remove();e=n=
f=g=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<y+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(e.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(e.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,h){x=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);b.contains(a,"dijitPopup")&&(a=a.firstChild);var e=[];try{for(;a;){var d=c.get(a,"dijitPopupParent");if(d)a=q.byId(d).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===n.body())break;a=s.get(a.ownerDocument).frameElement}else{var m=a.getAttribute&&a.getAttribute("widgetId"),f=m&&q.byId(m);f&&!("mouse"==h&&f.get("disabled"))&&e.unshift(m);a=a.parentNode}}}catch(g){}this._setStack(e,
h)},_onFocusNode:function(a){a&&9!=a.nodeType&&(y=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,h=c.length-1,e=a.length-1;if(a[e]!=c[h]){this.set("activeStack",a);var d;for(d=h;0<=d&&c[d]!=a[d];d--)if(h=q.byId(c[d]))h._hasBeenBlurred=!0,h.set("focused",!1),h._focusManager==this&&h._onBlur(b),
this.emit("widget-blur",h,b);for(d++;d<=e;d++)if(h=q.byId(a[d]))h.set("focused",!0),h._focusManager==this&&h._onFocus(b),this.emit("widget-focus",h,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));h(function(){var b=u.registerWin(s.get(document));m("ie")&&a(window,"unload",function(){b&&(b.remove(),b=null)})});t.focus=function(a){u.focus(a)};for(var v in u)/^_/.test(v)||(t.focus[v]="function"==typeof u[v]?e.hitch(u,v):u[v]);u.watch(function(a,b,c){t.focus[a]=c});return u})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(l,k,g,c,b,d,f){var e={_isElementShown:function(a){var b=c.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=g.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return g.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(e){try{b=a.contentWindow.document.body}catch(d){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return g.get(a,"disabled")?void 0:g.has(a,"tabIndex")?+g.get(a,"tabIndex"):e.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=e.effectiveTabIndex(a)},isFocusable:function(a){return-1<=e.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var c,f,n,s,p,q,t={},k=e._isElementShown,l=e.effectiveTabIndex,u=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=d("ie")&&"HTML"!==a.scopeName||!k(a))){var e=l(a);if(0<=e){if(0==e)c||(c=a),f=a;else if(0<e){if(!n||e<s)s=e,n=a;if(!p||e>=q)q=e,p=a}e=b(a);g.get(a,"checked")&&e&&(t[e]=a)}"SELECT"!=a.nodeName.toUpperCase()&&u(a)}};k(a)&&u(a);return{first:t[b(c)]||c,last:t[b(f)]||f,lowest:t[b(n)]||n,highest:t[b(p)]||p}},getFirstInTabbingOrder:function(a,
b){var c=e._getTabNavigable(k.byId(a,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,b){var c=e._getTabNavigable(k.byId(a,b));return c.last?c.last:c.highest}};b.mixin(f,e);return e})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(l,k,g,c,b){var d=b.doc.documentElement;b=c("ie");var f=c("opera"),e=Math.floor,a=c("ff"),h=l.boxModel.replace(/-/,""),f={dj_quirks:c("quirks"),dj_opera:f,dj_khtml:c("khtml"),dj_webkit:c("webkit"),
dj_safari:c("safari"),dj_chrome:c("chrome"),dj_gecko:c("mozilla"),dj_ios:c("ios"),dj_android:c("android")};b&&(f.dj_ie=!0,f["dj_ie"+e(b)]=!0,f.dj_iequirks=c("quirks"));a&&(f["dj_ff"+e(a)]=!0);f["dj_"+h]=!0;var m="",r;for(r in f)f[r]&&(m+=r+" ");d.className=k.trim(d.className+" "+m);g(function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+m.replace(/ /g,"-rtl ");d.className=k.trim(d.className+" "+a+"dj_rtl dijitRtl "+m.replace(/ /g,"-rtl "))}});return c})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(l,k,g,c){g(function(){k("highcontrast")&&l.add(c.body(),"dijit_a11y")});return k})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(l,k,g,c,b,d,f){b.add("highcontrast",function(){var e=f.doc.createElement("div");e.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(k.blankGif||l.toUrl("./resources/blank.gif"))+
'");';f.body().appendChild(e);var a=c.getComputedStyle(e),h=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||h&&("none"==h||"url(invalid-url:)"==h);8>=b("ie")?e.outerHTML="":f.body().removeChild(e);return a});d(function(){b("highcontrast")&&g.add(f.body(),"dj_a11y")});return b})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m,r){k=k("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(l.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,h={};l.forEach(c.className.split(" "),function(a){h[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete h[a]});l.forEach(b,
function(a){h[a]=!0});var e=[],d;for(d in h)e.push(d);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,h){function e(h){c.toggle(a,b+"Active",h)}if(!this.disabled&&!this.readOnly)switch(h.type){case "mouseover":case "MSPointerOver":case "pointerover":c.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":c.toggle(a,b+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":e(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":e(!1);break;case "focus":case "focusin":c.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":c.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});e(function(){function b(a,c,h){if(!h||!g.isDescendant(h,c))for(;c&&c!=h;c=c.parentNode)if(c._cssState){var e=r.getEnclosingWidget(c);e&&(c==e.domNode?e._cssMouseEvent(a):e._subnodeCssMouseEvent(c,c._cssState,a))}}var c=h.body(),e;f(c,
a.over,function(a){b(a,a.target,a.relatedTarget)});f(c,a.out,function(a){b(a,a.target,a.relatedTarget)});f(c,m.press,function(a){e=a.target;b(a,e)});f(c,m.release,function(a){b(a,e);e=null});f(c,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=r.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return k})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(l,k,g,c,b,d,f,e,a,h){return k("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);g.set(this.focusNode,"disabled",a);this.valueNode&&g.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",
!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(b.isArray(a)?a:[a],function(a){a=this[a];e("webkit")||h.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(c){if("mouse"==c&&this.isFocusable())var h=this.own(f(this.focusNode,"focus",function(){g.remove();h.remove()}))[0],d=e("pointer-events")?"pointerup":
e("MSPointer")?"MSPointerUp":e("touch-events")?"touchend, mouseup":"mouseup",g=this.own(f(this.ownerDocumentBody,d,b.hitch(this,function(a){g.remove();h.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){a.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=c.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],
function(l,k,g,c){return l("dijit.form._ButtonMixin",null,{label:"",type:"button",__onClick:function(b){b.stopPropagation();b.preventDefault();this.disabled||this.valueNode.click(b);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var d=b.defaultPrevented;if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var e=c.byNode(f);if(e&&"function"==typeof e._onSubmit){e._onSubmit(b);
b.preventDefault();d=!0;break}}return!d},postCreate:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b}})})},"dijit/_mw/utils/deprecation":function(){define(["dojo/_base/config"],function(l){var k={warn:function(c){console&&console.warn&&console.warn(c)},error:function(c){console&&console.error&&console.error(c)}},g={deprecated:function(c){var b,d;if((l.isDebug||
window.showDeprecationsAsErrors)&&this._isConfigValid(c))d=window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",c.deprecated&&(b+=c.deprecated.module,c.deprecated.method&&(b+="."+c.deprecated.method+"()"),b+="."),c.replacement&&(b+=" Use "+c.replacement.module,c.replacement.method&&(b+="."+c.replacement.method+"()"),b+=" instead."),c.removalVersion&&(b+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(b+=" Please use g"+c.geckNumber+
" to track latest information regarding this deprecation"),c.additionalInformation&&(b+=" "+c.additionalInformation),k[d](b)},_isConfigValid:function(c){var b=!!c.deprecated&&"object"===typeof c.deprecated&&c.deprecated.hasOwnProperty("module");c.replacement&&(b=b&&"object"===typeof c.replacement&&c.replacement.hasOwnProperty("module"));c.geckNumber&&(b=b&&"number"===typeof c.geckNumber);b||k.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");
return b}};Object.defineProperties(g,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return g})},"mw-colorpicker/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ColorPalette ./ColorSpinner ./MColor dojo/text!./templates/ColorPicker.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),function(l,k,g,c,b,d,f,e,a,h,m,r){return l([b,d,f],{value:"#ff0000",
showRecentColors:!0,showPreview:!0,showCustomPicker:!0,recentlyUsedColors:[],standardColors:[],_parsedStandardColors:"",_previewTitle:r.preview,templateString:m,baseClass:"mwColorPicker",constructor:function(){this._set("recentlyUsedColors","#ff0000 #ff00ff #ffff00 #00ff00 #ffffff #00ffff #0000ff #000000".split(" "));this._set("standardColors",h.getStandardLightThemeColors());this.inherited(arguments)},postMixInProperties:function(){this._set("_parsedStandardColors",JSON.stringify(this.get("standardColors")));
this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.paletteNode.set("onChange",k.hitch(this,this._updateWidgetValues,!1,!0,!0,!0));this.spinnerNode.set("onChange",k.hitch(this,this._updateWidgetValues,!0,!1,!0,!0))},_setValueAttr:function(a,b){this._updateWidgetValues(!0,!0,!0,b,a)},_updateWidgetValues:function(a,b,c,h,e){var d=this.get("value");this._set("value",e);this._setPreviewColor(e);a&&this.paletteNode.set("value",e,!1);b&&this.spinnerNode.set("value",e,!1);c&&
this.recentColorsWidgetNode&&this.recentColorsWidgetNode.set("value",e,!1);(h||void 0===h)&&this.emit("change",{mwEventData:{propertyName:"value",oldValue:d,newValue:this.get("value")}})},_setPreviewColor:function(a){c.set(this.previewColorNode,"background",a)},_updateRecentColorsWidget:function(){this.recentColorsWidgetNode&&(this.recentColorsWidgetNode.destroy(),g.empty(this.recentColorsNode));this.recentColorsWidgetNode=new e({palette:[this.recentlyUsedColors.slice(0,4),this.recentlyUsedColors.slice(4,
8)],title:r.recentColors,value:this.value});this.recentColorsWidgetNode.set("onChange",k.hitch(this,this._updateWidgetValues,!0,!0,!1,!0));this.recentColorsWidgetNode.placeAt(this.recentColorsNode).startup()},_setRecentlyUsedColorsAttr:function(a){this._set("recentlyUsedColors",a);this._updateRecentColorsWidget()},_setShowRecentColorsAttr:function(a){this._set("showRecentColors",a);!1===a?(c.set(this.recentColorsNode,"display","none"),c.set(this.previewNode,"padding-left","10px"),c.set(this.previewColorNode,
"width","202px")):(c.set(this.recentColorsNode,"display",""),c.set(this.previewNode,"padding-left",""),c.set(this.previewColorNode,"width",""))},_setShowPreviewAttr:function(a){this._set("showPreview",a);!1===a?c.set(this.previewNode,"display","none"):c.set(this.previewNode,"display","")},_setShowCustomPickerAttr:function(a){this._set("showCustomPicker",a);!1===a?c.set(this.spinnerNode.domNode,"display","none"):c.set(this.spinnerNode.domNode,"display","")}})})},"mw-colorpicker/ColorPalette":function(){define("dojo/_base/declare dojo/dom-construct dojo/string dojo/dom-attr dijit/_PaletteMixin dijit/_TemplatedMixin dijit/_WidgetBase ./MColor dojo/text!./templates/ColorPalette.html dojo/text!./templates/ColorPaletteSwatch.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m){var r=l([f,d,b],{palette:[],title:m.standardColors,_setTitleAttr:{node:"titleNode",type:"innerText"},baseClass:"mwColorPalette",templateString:a,constructor:function(){this._set("palette",e.getStandardLightThemeColors());this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.dyeClass=r._Color;this._preparePalette(this.palette,{})}});r._Color=l([e],{template:h,getValue:function(){return this.toHex()},fillCell:function(a){var b=g.substitute(this.template,
{color:this.toHex(),title:this.toMATLABFriendlyName()});c.set(a,"title",this.toMATLABFriendlyName());k.place(b,a)}});return r})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),function(l,k,g,c,b,d,f,e,a,h,m){return l("dijit._PaletteMixin",e,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",
dyeClass:null,_dyeFactory:function(a){return new ("string"==typeof this.dyeClass?d.getObject(this.dyeClass):this.dyeClass)(a)},_preparePalette:function(h,e){this._cells=[];var g=this._blankGif;this.own(f(this.gridNode,a,d.hitch(this,"_onCellClick")));for(var p=0;p<h.length;p++)for(var k=c.create("tr",{tabIndex:"-1",role:"row"},this.gridNode),t=0;t<h[p].length;t++){var l=h[p][t];if(l){var x=this._dyeFactory(l,p,t,e[l]),l=c.create("td",{"class":this.cellClass,tabIndex:"-1",title:e[l],role:"gridcell"},
k);x.fillCell(l,g);l.idx=this._cells.length;this._cells.push({node:l,dye:x})}}this._xDim=h[0].length;this._yDim=h.length;var u={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},v;for(v in u)this.own(m.addKeyListener(this.domNode,{keyCode:b[v],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var a=u[v];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);
this._setCurrent(this._cells[0].node)},focus:function(){h.focus(this._currentFocus)},_onCellClick:function(a){for(var b=a.target;"TD"!=b.tagName;){if(!b.parentNode||b==this.gridNode)return;b=b.parentNode}var c=this._getDye(b).getValue();this._setCurrent(b);h.focus(b);this._setValueAttr(c,!0);a.stopPropagation();a.preventDefault()},_setCurrent:function(a){"_currentFocus"in this&&k.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=a)&&k.set(a,"tabIndex",this.tabIndex)},_setValueAttr:function(a,
b){0<=this._selectedCell&&g.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");this._selectedCell=-1;if(a)for(var c=0;c<this._cells.length;c++)if(a==this._cells[c].dye.getValue()){this._selectedCell=c;g.add(this._cells[c].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);if(b||void 0===b)this.onChange(a)},onChange:function(){},_navigateByKey:function(a,b){if(-1!=b){var c=this._currentFocus.idx+a;c<this._cells.length&&-1<c&&(c=this._cells[c].node,
this._setCurrent(c),this.defer(d.hitch(h,"focus",c)))}},_getDye:function(a){return this._cells[a.idx].dye}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(l,k,g,c,b,d){var f=d.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*
this._subsequentDelay),this._minDelay);this._timer=setTimeout(g.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,a,c,d,f,n,k,p){if(f!=this._obj){this.stop();this._initialDelay=k||500;this._subsequentDelay=n||0.9;this._minDelay=p||10;this._obj=f;this._node=c;this._count=this._currentTimeout=-1;this._callback=g.hitch(a,d);this._evt={faux:!0};for(var q in b)"layerX"!=q&&"layerY"!=q&&(a=b[q],"function"!=typeof a&&"undefined"!=typeof a&&(this._evt[q]=a));this._fireEventAndReload()}},
stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,a,h,d,r,n,s){var p="keyCode"in a?"keyCode":"charCode"in a?"charCode":"charOrCode",q=[c(b,"keyCode"in a?"keydown":"charCode"in a?"keypress":k._keypress,g.hitch(this,function(c){c[p]==a[p]&&(void 0===a.ctrlKey||a.ctrlKey==c.ctrlKey)&&(void 0===a.altKey||a.altKey==c.altKey)&&(void 0===a.metaKey||a.metaKey==(c.metaKey||!1))&&(void 0===
a.shiftKey||a.shiftKey==c.shiftKey)?(c.stopPropagation(),c.preventDefault(),f.trigger(c,h,b,d,a,r,n,s)):f._obj==a&&f.stop()})),c(b,"keyup",g.hitch(this,function(){f._obj==a&&f.stop()}))];return{remove:function(){l.forEach(q,function(a){a.remove()})}}},addMouseListener:function(e,a,h,d,r,n){var k=[c(e,"mousedown",g.hitch(this,function(b){b.preventDefault();f.trigger(b,a,e,h,e,d,r,n)})),c(e,"mouseup",g.hitch(this,function(a){this._obj&&a.preventDefault();f.stop()})),c(e,"mouseout",g.hitch(this,function(a){this._obj&&
a.preventDefault();f.stop()})),c(e,"dblclick",g.hitch(this,function(c){c.preventDefault();9>b("ie")&&(f.trigger(c,a,e,h,e,d,r,n),setTimeout(g.hitch(this,f.stop),50))}))];return{remove:function(){l.forEach(k,function(a){a.remove()})}}},addListener:function(b,a,c,d,f,n,g,p){var k=[this.addKeyListener(a,c,d,f,n,g,p),this.addMouseListener(b,d,f,n,g,p)];return{remove:function(){l.forEach(k,function(a){a.remove()})}}}};return f})},"mw-colorpicker/MColor":function(){define(["dojo/_base/declare","dojo/_base/Color"],
function(l,k){var g=l([k],{toDoubleRGBString:function(){var c=this.toDoubleRGB();return"["+c[0].toFixed(2)+" "+c[1].toFixed(2)+" "+c[2].toFixed(2)+"]"},toMATLABFriendlyName:function(){var c=g.namedMATLABColors[this.toHex().toLowerCase()];return c?this.toDoubleRGBString()+" - "+c:this.toDoubleRGBString()},toDoubleRGB:function(){return[this.r/255,this.g/255,this.b/255]}});g.fromDoubleRGB=function(c){c=c.map(function(b){return Math.round(255*b)});return new g(c)};g.namedMATLABColors={"#ff0000":"red (r)",
"#ff00ff":"magenta (m)","#ffff00":"yellow (y)","#00ff00":"green (g)","#00ffff":"cyan (c)","#0000ff":"blue (b)","#000000":"black (k)","#ffffff":"white (w)"};g.getStandardLightThemeColors=function(){return["#0073bd #d9541a #edb021 #7d2e8f #78ab30 #4dbfed #a3142e".split(" "),"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};g.getStandardDarkThemeColors=function(){return["#ffff11 #139fff #ff6929 #64d413 #b746ff #0fffff #ff13a6".split(" "),
"#ffffff #f0f0f0 #e6e6e6 #cccccc #a6a6a6 #808080 #262626".split(" "),"#ff0000 #ff00ff #ffff00 #00ff00 #00ffff #0000ff #000000".split(" ")].slice()};return g})},"mw-colorpicker/ColorSpinner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/NumberSpinner dijit/form/ValidationTextBox ./MColor ./ToggleButtonGroup dojo/text!./templates/ColorSpinner.html dojo/i18n!./l10n/nls/ColorPickerResources".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m,r,n){var s={value:0,smallDelta:0.01,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:1,strict:!0,places:"0,2"}},p={value:0,smallDelta:1,intermediateChanges:!0,required:!0,style:"width: 55px; height: 20px; font-size: 13px; text-align: center",selectOnClick:!0,constraints:{min:0,max:255,fractional:!1,strict:!0,places:"0"}},q={pattern:"^#[0-9a-f]{6}",required:!0,selectOnClick:!0,
intermediateChanges:!0,style:"width: 120px; height: 20px; font-size: 13px;"};return l([b,d,f],{onChange:function(){},value:"#000000",baseClass:"mwColorSpinner",templateString:r,_redTitle:n.redTitle,_greenTitle:n.greenTitle,_blueTitle:n.blueTitle,_hexTitle:n.hexTitle,postCreate:function(){this.inherited(arguments);this.redDoubleSpinner.set(s);this.greenDoubleSpinner.set(s);this.blueDoubleSpinner.set(s);this.redDoubleSpinner.set("onChange",k.hitch(this,this._doubleSpinnerChange));this.greenDoubleSpinner.set("onChange",
k.hitch(this,this._doubleSpinnerChange));this.blueDoubleSpinner.set("onChange",k.hitch(this,this._doubleSpinnerChange));this.redIntSpinner.set(p);this.greenIntSpinner.set(p);this.blueIntSpinner.set(p);this.redIntSpinner.set("onChange",k.hitch(this,this._intSpinnerChange));this.greenIntSpinner.set("onChange",k.hitch(this,this._intSpinnerChange));this.blueIntSpinner.set("onChange",k.hitch(this,this._intSpinnerChange));this.hexSpinner.set(q);this.hexSpinner.set("onChange",k.hitch(this,this._hexSpinnerChange));
this.toggleButton.onChange=k.hitch(this,this._handleToggleChange);this.toggleButton.set("buttonText",["[0-1]","[0-255]",n.hexTitle]);this.toggleButton.set("value",2);this.toggleButton.set("value",1);this._updateSpinnerValues(new h(this.value),!0,!0,!0,!1)},_setValueAttr:function(a,b){var c=new h(a);this._updateSpinnerValues(c,!0,!0,!0,b)},_updateSpinnerValues:function(a,b,c,h,e){this._set("value",a.toHex());b&&(b=a.toDoubleRGB(),this._setSpinnerValueWithoutFiringEvent(this.redDoubleSpinner,b[0]),
this._setSpinnerValueWithoutFiringEvent(this.greenDoubleSpinner,b[1]),this._setSpinnerValueWithoutFiringEvent(this.blueDoubleSpinner,b[2]));c&&(c=a.toRgb(),this._setSpinnerValueWithoutFiringEvent(this.redIntSpinner,c[0]),this._setSpinnerValueWithoutFiringEvent(this.greenIntSpinner,c[1]),this._setSpinnerValueWithoutFiringEvent(this.blueIntSpinner,c[2]));h&&this._setSpinnerValueWithoutFiringEvent(this.hexSpinner,a.toHex());if(e||void 0===e)this.onChange(this.get("value"))},_isSpinnerValid:function(a,
b,c){if(!0===a._beingDestroyed||!0===b._beingDestroyed||!0===c._beingDestroyed||!0===a._destroyed||!0===b._destroyed||!0===c._destroyed||!a.isValid()||!b.isValid()||!c.isValid())return!1;a=a.get("value");b=b.get("value");c=c.get("value");return isNaN(a)||void 0===a||isNaN(b)||void 0===b||isNaN(c)||void 0===c?!1:[a,b,c]},_doubleSpinnerChange:function(){var a=this._isSpinnerValid(this.redDoubleSpinner,this.greenDoubleSpinner,this.blueDoubleSpinner);!1!==a&&(a=h.fromDoubleRGB(a),this._updateSpinnerValues(a,
!1,!0,!0,!0))},_intSpinnerChange:function(){var a=this._isSpinnerValid(this.redIntSpinner,this.greenIntSpinner,this.blueIntSpinner);if(!1!==a){var b=new h;b.setColor(a);this._updateSpinnerValues(b,!0,!1,!0,!0)}},_hexSpinnerChange:function(a){this.hexSpinner.isValid()&&(a=new h(a),this._updateSpinnerValues(a,!0,!0,!1,!0))},_handleToggleChange:function(a){var b=[this.doubleSpinners,this.intSpinners,this.hexSpinners];b.forEach(function(a){c.set(a,"display","none")});c.set(b[a-1],"display","")},_setSpinnerValueWithoutFiringEvent:function(a,
b){a.set("intermediateChanges",!1);a.set("value",b,!1);a.set("intermediateChanges",!0)}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(l,k,g,c){return l("dijit.form.NumberSpinner",[g,c.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(b,c){var f=this.constraints,e=isNaN(b),a=!isNaN(f.max),h=!isNaN(f.min);e&&0!=c&&(b=0<c?h?f.min:a?f.max:0:a?this.constraints.max:h?f.min:0);var m=b+c;if(e||isNaN(m))return b;
a&&m>f.max&&(m=f.max);h&&m<f.min&&(m=f.min);return m},_onKeyDown:function(b){if(!this.disabled&&!this.readOnly&&(b.keyCode==k.HOME||b.keyCode==k.END)&&!b.ctrlKey&&(!b.altKey&&!b.metaKey)&&"undefined"!=typeof this.get("value")){var c=this.constraints[b.keyCode==k.HOME?"min":"max"];"number"==typeof c&&this._setValueAttr(c,!1);b.stopPropagation();b.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(l,k,g,c,b,d,f,e,a,h){return l("dijit.form._Spinner",e,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:a,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(a){return a},_arrowPressed:function(a,b,c){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),b*c),!1),h.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(a,b,c){var h=this.smallDelta;b==this.textbox&&(b=c.keyCode,h=b==k.PAGE_UP||b==k.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==k.UP_ARROW||b==k.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==a?this._arrowReleased(b):this._arrowPressed(b,b==this.upArrowNode?1:-1,h)},_wheelTimer:null,_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?1:-1);a=a.detail?
-1*a.detail:b;if(0!==a){var c=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(c,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(c)},50)}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,b.wheel,g.hitch(this,"_mouseWheeled")),f.addListener(this.upArrowNode,this.textbox,{keyCode:k.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),f.addListener(this.downArrowNode,
this.textbox,{keyCode:k.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),f.addListener(this.upArrowNode,this.textbox,{keyCode:k.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),f.addListener(this.downArrowNode,this.textbox,{keyCode:k.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(l,k,g){return l("dijit.form.RangeBoundTextBox",g,{rangeMessage:"",rangeCheck:function(c,b){return("min"in b?0<=this.compare(c,b.min):!0)&&("max"in b?0>=this.compare(c,b.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var c=
this.get("value");if(null==c)return!1;var b=!1;"min"in this.constraints&&(b=this.constraints.min,b=0>this.compare(c,"number"==typeof b&&0<=b&&0!=c?0:b));!b&&"max"in this.constraints&&(b=this.constraints.max,b=0<this.compare(c,"number"!=typeof b||0<b?b:0));return b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(c){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(c))},getErrorMessage:function(c){var b=
this.get("value");return null!=b&&""!==b&&("number"!=typeof b||!isNaN(b))&&!this.isInRange(c)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=k.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(l,k,g,c){return l("dijit.form.MappedTextBox",
c,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(b){return b.toString?b.toString():""},toString:function(){var b=this.filter(this.get("value"));return null!=b?"string"==typeof b?b:this.serialize(b,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=g.place("\x3cinput type\x3d'hidden'"+(this.name&&
!k("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(l,k,g,c,b,d,f){var e;return e=l("dijit.form.ValidationTextBox",b,{templateString:f,required:!1,promptMessage:"",
invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=e.prototype[a]&&(k.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",
a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a=
"$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var e=this._isEmpty(this.textbox.value),
d=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&e||d)&&(this._maskValidSubsetError||d&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&d,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):e&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&
this.focused?d.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):d.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=g.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",
a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(e){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre=
"^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=c.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=
!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){d.hide(this.domNode);this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main ../_mw/utils/deprecation".split(" "),function(l,k,g,c,b,d,f,e,a,h,m,r){r.deprecated({deprecated:{module:"dijit/form/TextBox"},
replacement:{module:"MW/form/TextField"},geckNumber:1352405});l=l("dijit.form.TextBox",[e,a],{templateString:h,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:f("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>f("ie")&&this.defer(function(){try{var a=g.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(h){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=k.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(d(this._phspan,"mousedown",function(a){a.preventDefault()}),d(this._phspan,"touchend, pointerup, MSPointerUp",b.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){c.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){c.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),f("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>f("ie")&&(l.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},m._setSelectionRange=a._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});return l})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(l,k,g,c){return l("dijit.form._FormValueWidget",[g,c],{_layoutHackIE7:function(){if(7==k("ie"))for(var b=this.domNode,c=b.parentNode,f=b.firstChild||b,e=f.style.filter,a=this;c&&0==c.clientHeight;)(function(){var b=
a.connect(c,"onscroll",function(){a.disconnect(b);f.style.filter=(new Date).getMilliseconds();a.defer(function(){f.style.filter=e})})})(),c=c.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(l,k,g,c,b,d){return l("dijit.form._FormValueMixin",d,{readOnly:!1,_setReadOnlyAttr:function(b){k.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);
void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,c){this._handleOnChange(b,c)},_handleOnChange:function(b,c){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(l,k,g,c,b,d,f,e){var a=k("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var e;void 0!==a&&(e=this.filter(a),"string"!=typeof c&&(c=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):"",0!=this.compare(e,this.filter(this.parse(c,this.constraints)))&&(c=null)));
if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[e,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(f(this.textbox,"keydown, keypress, paste, cut, input, compositionend",
d.hitch(this,function(a){var c;if("keydown"==a.type){c=a.keyCode;switch(c){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(c){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=
c&&90>=c||48<=c&&57>=c||c==b.SPACE)return;c=!1;for(var e in b)if(b[e]===a.keyCode){c=!0;break}if(!c)return}}(c=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(c=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==b.SPACE?String.fromCharCode(a.keyCode):a.keyCode);c||(c=229);if("keypress"==a.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},g;for(g in a)/^(layer[XY]|returnValue|keyLocation)$/.test(g)||(e=a[g],"function"!=typeof e&&"undefined"!=typeof e&&(f[g]=e));d.mixin(f,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})),f(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=d.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(b){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==b&&(this._selectOnClickHandle=f.once(this.domNode,"mouseup, touchend",d.hitch(this,function(b){this._isTextSelected()||a.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});a._setSelectionRange=e._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};a.selectInputText=e.selectInputText=function(b,c,e){b=g.byId(b);isNaN(c)&&(c=0);isNaN(e)&&(e=b.value?b.value.length:0);try{b.focus(),a._setSelectionRange(b,c,e)}catch(d){}};return a})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(l,k,g,c,b,d,f,e,a,h,m,r,n,s,p,q,t,y){function x(){}var u=k("dijit._MasterTooltip",[s,p],{duration:r.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new q(this.domNode);this.fadeIn=g.fadeIn({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,"_onShow")});this.fadeOut=g.fadeOut({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,"_onHide")})},show:function(a,b,c,h,d,m,g){if(!this.aroundNode||!(this.aroundNode===
b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;d&&this.set("textDir",d);this.containerNode.align=h?"right":"left";var k=n.around(this.domNode,b,c&&c.length?c:v.defaultPosition,!h,e.hitch(this,"orient")),p=k.aroundNodePos;"M"==k.corner.charAt(0)&&"M"==k.aroundCorner.charAt(0)?(this.connectorNode.style.top=p.y+(p.h-this.connectorNode.offsetHeight>>1)-k.y+"px",this.connectorNode.style.left=""):"M"==k.corner.charAt(1)&&
"M"==k.aroundCorner.charAt(1)?this.connectorNode.style.left=p.x+(p.w-this.connectorNode.offsetWidth>>1)-k.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");f.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=m||x;this.onMouseLeave=g||x}},orient:function(a,b,c,e,h){this.connectorNode.style.top="";var f=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove",
"BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var g=d.position(this.domNode);if(m("ie")||m("trident"))g.w+=2;var n=Math.min(Math.max(e,1),g.w);d.setMarginBox(this.domNode,{w:n});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=d.position(a),b=
this.connectorNode.offsetHeight,a.h>f?(this.connectorNode.style.top=f-(h.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(h.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,g.w-e)},_onShow:function(){m("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=
!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=x},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});y.showTooltip=function(a,b,c,e,h,d,f){c&&(c=l.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));v._masterTT||(y._masterTT=v._masterTT=new u);return v._masterTT.show(a,b,c,e,h,d,f)};y.hideTooltip=function(a){return v._masterTT&&v._masterTT.hide(a)};
var v=k("dijit.Tooltip",s,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(e.isArrayLike(b)?b:b?[b]:[],function(a){return c.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(b){b=c.byId(b,this.ownerDocument);var d=this.selector,f=d?function(a){return h.selector(d,a)}:function(a){return a},m=this;
return[h(b,f(a.enter),function(){m._onHover(this)}),h(b,f("focusin"),function(){m._onHover(this)}),h(b,f(a.leave),e.hitch(m,"_onUnHover")),h(b,f("focusout"),e.hitch(m,"set","state","DORMANT"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);
b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(e.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);
switch(a){case "DORMANT":this._connectNode&&(v.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}v.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,e.hitch(this,"set","state","SHOWING"),e.hitch(this,"set","state","HIDE TIMER"));
this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},
onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});v._MasterTooltip=u;v.show=y.showTooltip;v.hide=y.hideTooltip;v.defaultPosition=["after-centered","before-centered"];return v})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,k,g,c,b){var d={};l.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(b){d[b]=c[b]});g.mixin(d,{defaultDuration:k.defaultDuration||200});g.mixin(b,d);return b})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(l,k,g,c,b,d,f){function e(a,c,e,f){var s=d.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&b.body(a.ownerDocument).appendChild(a);var p=null;l.some(c,function(b){var c=b.corner,d=b.pos,m=0,
g={w:{L:s.l+s.w-d.x,R:d.x-s.l,M:s.w}[c.charAt(1)],h:{T:s.t+s.h-d.y,B:d.y-s.t,M:s.h}[c.charAt(0)]},q=a.style;q.left=q.right="auto";e&&(m=e(a,b.aroundCorner,c,g,f),m="undefined"==typeof m?0:m);var l=a.style,t=l.display,F=l.visibility;"none"==l.display&&(l.visibility="hidden",l.display="");q=k.position(a);l.display=t;l.visibility=F;t={L:d.x,R:d.x-q.w,M:Math.max(s.l,Math.min(s.l+s.w,d.x+(q.w>>1))-q.w)}[c.charAt(1)];F={T:d.y,B:d.y-q.h,M:Math.max(s.t,Math.min(s.t+s.h,d.y+(q.h>>1))-q.h)}[c.charAt(0)];d=
Math.max(s.l,t);l=Math.max(s.t,F);t=Math.min(s.l+s.w,t+q.w);F=Math.min(s.t+s.h,F+q.h);t-=d;F-=l;m+=q.w-t+(q.h-F);if(null==p||m<p.overflow)p={corner:c,aroundCorner:b.aroundCorner,x:d,y:l,w:t,h:F,overflow:m,spaceAvailable:g};return!m});p.overflow&&e&&e(a,p.aroundCorner,p.corner,p.spaceAvailable,f);c=p.y;var q=p.x,t=b.body(a.ownerDocument);/relative|absolute/.test(g.get(t,"position"))&&(c-=g.get(t,"marginTop"),q-=g.get(t,"marginLeft"));t=a.style;t.top=c+"px";t.left=q+"px";t.right="auto";return p}var a=
{TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return f.place={at:function(b,c,d,f,g){d=l.map(d,function(b){var e={corner:b,aroundCorner:a[b],pos:{x:c.x,y:c.y}};f&&(e.pos.x+="L"==b.charAt(1)?f.x:-f.x,e.pos.y+="T"==b.charAt(0)?f.y:-f.y);return e});return e(b,d,g)},around:function(a,b,d,f,s){function p(a,b){F.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+L,M:z+(L>>1)}[a.charAt(1)],y:{T:E,B:E+O,M:E+(O>>1)}[a.charAt(0)]}})}var q;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(q=k.position(b,!0),
/^(above|below)/.test(d[0])){var t=k.getBorderExtents(b),y=b.firstChild?k.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=k.getBorderExtents(a),u=a.firstChild?k.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};q.y+=Math.min(t.t+y.t,x.t+u.t);q.h-=Math.min(t.t+y.t,x.t+u.t)+Math.min(t.b+y.b,x.b+u.b)}}else q=b;if(b.parentNode){t="absolute"==g.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){y=k.position(b,!0);x=g.getComputedStyle(b);/relative|absolute/.test(x.position)&&
(t=!1);if(!t&&/hidden|auto|scroll/.test(x.overflow)){var u=Math.min(q.y+q.h,y.y+y.h),v=Math.min(q.x+q.w,y.x+y.w);q.x=Math.max(q.x,y.x);q.y=Math.max(q.y,y.y);q.h=u-q.y;q.w=v-q.x}"absolute"==x.position&&(t=!0);b=b.parentNode}}var z=q.x,E=q.y,L="w"in q?q.w:q.w=q.width,O="h"in q?q.h:(c.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+E+", height:"+q.height+", width:"+L+" } has been deprecated.  Please use { x:"+z+", y:"+E+", h:"+q.height+", w:"+L+" }","","2.0"),q.h=q.height),F=[];l.forEach(d,
function(a){var b=f;switch(a){case "above-centered":p("TM","BM");break;case "below-centered":p("BM","TM");break;case "after-centered":b=!b;case "before-centered":p(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":p(b?"TL":"TR",b?"TR":"TL");p(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":p(b?"BL":"BR",b?"TL":"TR");p(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":p(b?"TL":"TR",b?"BL":"BR");p(b?"TR":"TL",b?"BR":"BL");break;default:p(a.aroundCorner,
a.corner)}});a=e(a,F,s,{w:L,h:O});a.aroundNodePos=q;return a}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(l,k,g,c,b){var d=new l,f;g(function(){var e=b.getBox();d._rlh=k(window,"resize",function(){var a=b.getBox();e.h==a.h&&e.w==a.w||(e=a,d.emit("resize"))});if(8==c("ie")){var a=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=a&&(a=screen.deviceXDPI,d.emit("resize"))},500)}c("ios")&&(k(document,"focusin",function(a){f=
a.target}),k(document,"focusout",function(a){f=null}))});d.getEffectiveBox=function(e){e=b.getBox(e);var a=f&&f.tagName&&f.tagName.toLowerCase();if(c("ios")&&f&&!f.readOnly&&("textarea"==a||"input"==a&&/^(color|email|number|password|search|tel|text|url)$/.test(f.type)))e.h*=0==orientation||180==orientation?0.66:0.4,a=f.getBoundingClientRect(),e.h=Math.max(e.h,a.top+a.height);return e};return d})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
function(l,k,g,c,b,d,f,e){e.add("config-bgIframe",e("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||e("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var a=new function(){var a=[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>e("ie")?(d="\x3ciframe src\x3d'"+(g.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",
d=document.createElement(d)):(d=c.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),b.set(d,"opacity",0.1)),d.tabIndex=-1);return d};this.push=function(b){b.style.display="none";a.push(b)}};k.BackgroundIframe=function(c){if(!c.id)throw Error("no id");if(e("config-bgIframe")){var m=this.iframe=a.pop();c.appendChild(m);7>e("ie")||e("quirks")?(this.resize(c),this._conn=f(c,"resize",d.hitch(this,"resize",c))):b.set(m,{width:"100%",height:"100%"})}};
d.extend(k.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),a.push(this.iframe),delete this.iframe)}});return k.BackgroundIframe})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(l,k,g,c,
b,d){var f=function(a){a=a||{};var b=g.getLocalization("dojo.cldr","number",g.normalizeLocale(a.locale)),c=a.pattern?a.pattern:b[(a.type||"decimal")+"Format"];a="number"==typeof a.places?a.places:"string"===typeof a.places&&0<a.places.length?a.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:b.decimal,places:a}},e=l("dijit.form.NumberTextBoxMixin",null,{pattern:function(a){return"("+(this.focused&&this.editOptions?this._regExpGenerator(k.delegate(a,
this.editOptions))+"|":"")+this._regExpGenerator(a)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:b.format,_regExpGenerator:b.regexp,_decimalInfo:f(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(a){var b="number"==typeof a.places?a.places:0;b&&b++;"number"!=typeof a.max&&(a.max=9*Math.pow(10,15-b));"number"!=typeof a.min&&(a.min=-9*Math.pow(10,15-b));this.inherited(arguments,[a]);this.focusNode&&(this.focusNode.value&&
!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=f(a)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var a=this.get("value");"number"==typeof a&&!isNaN(a)&&(a=this.format(a,this.constraints),void 0!==a&&(this.textbox.value=a));this.inherited(arguments)}},format:function(a,b){var c=String(a);if("number"!=typeof a)return c;if(isNaN(a))return"";if(!("rangeCheck"in this&&this.rangeCheck(a,b))&&!1!==b.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&
(b=k.mixin({},b,this.editOptions));return this._formatter(a,b)},_parser:b.parse,parse:function(a,b){var c=this._parser(a,k.mixin({},b,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(a,b));return c},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(a){if(null==a||"string"==typeof a&&""==a)return NaN;"number"==typeof a&&(!isNaN(a)&&0!=a)&&(a=b.round(a,this._decimalInfo.places));
return this.inherited(arguments,[a])},serialize:function(a,b){return"number"!=typeof a||isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var a=k.hitch(k.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(a,!0)},_setValueAttr:function(a,b,c){if(void 0!==a&&void 0===c)if(c=String(a),"number"==typeof a)if(isNaN(a))c="";else{if("rangeCheck"in this&&this.rangeCheck(a,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else a?a=void 0:(c="",a=NaN);
this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var a=this.inherited(arguments);if(isNaN(a)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+b._realNumberRegexp(k.delegate(this.constraints))+"$").test(this.textbox.value))return a=Number(this.textbox.value),isNaN(a)?void 0:a}else return a},isValid:function(a){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&
this.rangeCheck(b,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1},_isValidSubset:function(){var a="number"==typeof this.constraints.min,b="number"==typeof this.constraints.max,e=this.get("value");if(isNaN(e)||!a&&!b)return this.inherited(arguments);var d=e|0,f=0>e,g=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),k=(this.maxLength||20)-this.textbox.value.length,l=g?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,
""):"",d=g?d+"."+l:d+"",k=c.rep("9",k),g=e;f?g=Number(d+k):e=Number(d+k);return!(a&&e<this.constraints.min||b&&g>this.constraints.max)}});l=l("dijit.form.NumberTextBox",[d,e],{baseClass:"dijitTextBox dijitNumberTextBox"});l.Mixin=e;return l})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(l,k,g,c,b){var d={};l.setObject("dojo.number",d);d.format=function(b,a){a=l.mixin({},a||{});var c=k.normalizeLocale(a.locale),c=k.getLocalization("dojo.cldr",
"number",c);a.customs=c;c=a.pattern||c[(a.type||"decimal")+"Format"];return isNaN(b)||Infinity==Math.abs(b)?null:d._applyPattern(b,c,a)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(b,a,c){c=c||{};var f=c.customs.group,g=c.customs.decimal;a=a.split(";");var n=a[0];a=a[0>b?1:0]||"-"+n;if(-1!=a.indexOf("%"))b*=100;else if(-1!=a.indexOf("\u2030"))b*=1E3;else if(-1!=a.indexOf("\u00a4"))f=c.customs.currencyGroup||f,g=c.customs.currencyDecimal||g,a=a.replace(/\u00a4{1,3}/,function(a){return c[["symbol",
"currency","displayName"][a.length-1]]||c.currency||""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");var k=d._numberPatternRE,n=n.match(k);if(!n)throw Error("unable to find a number expression in pattern: "+a);!1===c.fractional&&(c.places=0);return a.replace(k,d._formatAbsolute(b,n[0],{decimal:g,group:f,places:c.places,round:c.round}))};d.round=function(b,a,c){c=10/(c||10);return(c*+b).toFixed(a)/c};if(0==(0.9).toFixed()){var f=d.round;d.round=function(b,a,c){var d=
Math.pow(10,-a||0),g=Math.abs(b);if(!b||g>=d)d=0;else if(g/=d,0.5>g||0.95<=g)d=0;return f(b,a,c)+(0<b?d:-d)}}d._formatAbsolute=function(b,a,h){h=h||{};!0===h.places&&(h.places=0);Infinity===h.places&&(h.places=6);a=a.split(".");var f="string"==typeof h.places&&h.places.indexOf(","),g=h.places;f?g=h.places.substring(f+1):0<=g||(g=(a[1]||[]).length);0>h.round||(b=d.round(b,g,h.round));b=String(Math.abs(b)).split(".");var n=b[1]||"";a[1]||h.places?(f&&(h.places=h.places.substring(0,f)),f=void 0!==h.places?
h.places:a[1]&&a[1].lastIndexOf("0")+1,f>n.length&&(b[1]=c.pad(n,f,"0",!0)),g<n.length&&(b[1]=n.substr(0,g))):b[1]&&b.pop();g=a[0].replace(",","");f=g.indexOf("0");-1!=f&&(f=g.length-f,f>b[0].length&&(b[0]=c.pad(b[0],f)),-1==g.indexOf("#")&&(b[0]=b[0].substr(b[0].length-f)));var g=a[0].lastIndexOf(","),k,p;-1!=g&&(k=a[0].length-g-1,a=a[0].substr(0,g),g=a.lastIndexOf(","),-1!=g&&(p=a.length-g-1));a=[];for(g=b[0];g;)f=g.length-k,a.push(0<f?g.substr(f):g),g=0<f?g.slice(0,f):"",p&&(k=p,delete p);b[0]=
a.reverse().join(h.group||",");return b.join(h.decimal||".")};d.regexp=function(b){return d._parseInfo(b).regexp};d._parseInfo=function(c){c=c||{};var a=k.normalizeLocale(c.locale),a=k.getLocalization("dojo.cldr","number",a),h=c.pattern||a[(c.type||"decimal")+"Format"],f=a.group,g=a.decimal,n=1;if(-1!=h.indexOf("%"))n/=100;else if(-1!=h.indexOf("\u2030"))n/=1E3;else{var l=-1!=h.indexOf("\u00a4");l&&(f=a.currencyGroup||f,g=a.currencyDecimal||g)}a=h.split(";");1==a.length&&a.push("-"+a[0]);a=b.buildGroupRE(a,
function(a){a="(?:"+b.escapeString(a,".")+")";return a.replace(d._numberPatternRE,function(a){var b={signed:!1,separator:c.strict?f:[f,""],fractional:c.fractional,decimal:g,exponent:!1};a=a.split(".");var h=c.places;1==a.length&&1!=n&&(a[1]="###");1==a.length||0===h?b.fractional=!1:(void 0===h&&(h=c.pattern?a[1].lastIndexOf("0")+1:Infinity),h&&void 0==c.fractional&&(b.fractional=!0),!c.places&&h<a[1].length&&(h+=","+a[1].length),b.places=h);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,
1<a.length&&(b.groupSize2=a.pop().length));return"("+d._realNumberRegexp(b)+")"})},!0);l&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,d,h,f){a=b.escapeString(c[["symbol","currency","displayName"][h.length-1]]||c.currency||"");d=d?"[\\s\\xa0]":"";f=f?"[\\s\\xa0]":"";return!c.strict?(d&&(d+="*"),f&&(f+="*"),"(?:"+d+a+f+")?"):d+a+f}));return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:f,decimal:g,factor:n}};d.parse=function(b,a){var c=d._parseInfo(a),f=RegExp("^"+c.regexp+"$").exec(b);
if(!f)return NaN;var g=f[1];if(!f[1]){if(!f[2])return NaN;g=f[2];c.factor*=-1}g=g.replace(RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return g*c.factor};d._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var a=d._integerRegexp(c),h=b.buildGroupRE(c.fractional,function(a){var b=
"";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),f=b.buildGroupRE(c.exponent,function(a){return a?"([eE]"+d._integerRegexp({signed:c.eSigned})+")":""}),a=a+h;h&&(a="(?:(?:"+a+")|(?:"+h+"))");return a+f};d._integerRegexp=function(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var a=b.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),d=b.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";
a=b.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var d=c.groupSize,h=c.groupSize2;return h?(a="(?:0|[1-9]\\d{0,"+(h-1)+"}(?:["+a+"]\\d{"+h+"})*["+a+"]\\d{"+d+"})",0<d-h?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*)"},!0);return a+d};return d})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,k){var g={};k.setObject("dojo.regexp",g);g.escapeString=function(c,b){return c.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(c){return b&&-1!=b.indexOf(c)?c:"\\"+c})};g.buildGroupRE=function(c,b,d){if(!(c instanceof Array))return b(c);for(var f=[],e=0;e<c.length;e++)f.push(b(c[e]));return g.group(f.join("|"),d)};g.group=function(c,b){return"("+(b?"?:":"")+c+")"};return g})},"mw-colorpicker/ToggleButtonGroup":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ToggleButton".split(" "),function(l,k,g,c,b,d,f){return l([c,
b,d],{onChange:function(){},value:1,buttonText:["Option1","Option2"],baseClass:"mwToggleButtonGroup",postMixInProperties:function(){this.inherited(arguments);var b="";this.buttonText.forEach(function(a,c,d){var f="";0===c?f="firstToggle":c===d.length-1&&(f="lastToggle");b+=g.substitute('\x3ctd\x3e\x3cbutton class\x3d"${className}" data-dojo-type\x3d"dijit/form/ToggleButton" data-dojo-attach-point\x3d"${attachPoint}" data-test-id\x3d"${dataTestId}"\x3e${buttonText}\x3c/button\x3e\x3c/td\x3e',{className:f,
attachPoint:"button"+(c+1),buttonText:a,dataTestId:"toggleGroup_button"+(c+1)})});this.templateString='\x3ctable class\x3d"${baseClass}"\x3e\x3ctr class\x3d"${baseClass}Buttons"\x3e'+b+"\x3c/tr\x3e\x3c/table\x3e"},buildRendering:function(){this.inherited(arguments);this.buttonWidgets=[];this.buttonText.forEach(k.hitch(this,function(b,a,c){b=this["button"+(a+1)];this.buttonWidgets.push(b);b.set("onChange",k.hitch(this,this._handleToggleChange,a+1))}))},postCreate:function(){this.inherited(arguments)},
_setValueAttr:function(b,a){this.buttonWidgets.forEach(function(a){a.set("checked",!1,!1)});this.buttonWidgets[b-1].set("checked",!0,!1);if(this.get("value")!==b&&(this._set("value",b),a||void 0===a))this.onChange(this.get("value"))},_handleToggleChange:function(b){this.set("value",b)},_setButtonTextAttr:function(b){b.forEach(k.hitch(this,function(a,b){this.buttonWidgets[b].set("label",a)}))}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin",
"../_mw/utils/deprecation"],function(l,k,g,c,b){b.deprecated({deprecated:{module:"dijit/form/ToggleButton"},replacement:{module:"MW/form/ToggleButton"},geckNumber:1352405});return l("dijit.form.ToggleButton",[g,c],{baseClass:"dijitToggleButton",setChecked:function(b){k.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,k){return l("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(g){var c=this.checked;this._set("checked",!c);var b=this.inherited(arguments);this.set("checked",b?this.checked:c);return b},_setCheckedAttr:function(g,c){this._set("checked",g);var b=this.focusNode||this.domNode;this._created&&k.get(b,"checked")!=!!g&&k.set(b,"checked",!!g);b.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,c)},postCreate:function(){this.inherited(arguments);var g=this.focusNode||this.domNode;this.checked&&
g.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"MW/remote/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp ./Remote".split(" "),function(l,k,g,c,b,d){var f=new c;c={messageService:f,subscribe:l.hitch(f,
"subscribe"),unsubscribe:l.hitch(f,"unsubscribe"),publish:l.hitch(f,"publish"),start:l.hitch(f,"start"),stop:l.hitch(f,"stop"),isRunning:l.hitch(f,"isStarted"),isStarted:l.hitch(f,"isStarted"),isConnected:l.hitch(f,"isConnected"),isFatallyDisconnected:l.hitch(f,"isFatallyDisconnected"),isDisconnected:l.hitch(f,"isDisconnected"),setLatency:l.hitch(f,"setLatency"),setErrorRate:l.hitch(f,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},
onNotConnected:function(){},handleMessage:l.hitch(f,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};k.after(f,"onConnected",l.hitch(c,"onConnected"),!0);k.after(f,"onDisconnected",l.hitch(c,"onDisconnected"),!0);k.after(f,"onReconnected",l.hitch(c,"onReconnected"),!0);k.after(f,"onFatallyDisconnected",l.hitch(c,"onFatallyDisconnected"),
!0);k.after(f,"onNotConnected",l.hitch(c,"onNotConnected"),!0);var e=d.enableServerOnWorkerAsync;d.enableServerOnWorkerAsync=function(){e();f.setDelegate(new g(d))};var a=d.disableServerOnWorkerAsync;d.disableServerOnWorkerAsync=function(){a();f.setDelegate(new b(d,f))};d.isServerOnWorkerAsyncEnabled()?d.enableServerOnWorkerAsync():d.disableServerOnWorkerAsync();return c})},"MW/remote/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension MW/Log ../iframeproxy/IframeProxyClient".split(" "),
function(l,k,g,c,b,d,f,e){var a;b.JSON.toJSON=g.stringify;b.JSON.fromJSON=g.parse;var h=0,m=0,r={};setInterval(function(){h+=200;Object.keys(r).forEach(function(a){var b=r[a];b.execTime<=h&&(b.func(),delete r[a])})},200);var n=function(c,f){var g=new b.LongPollingTransport,g=b.Transport.derive(g);g.xhrSend=function(a){var b=f.sendMessage(a.body,a.url,{headers:a.headers});b.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){b.cancel()}}};var n=new b.Cometd(c),k=b.Utils.setTimeout;
b.Utils.setTimeout=function(a,b,c){if(0===c)return k(a,b,c);m+=1;r[m]={func:function(){try{b()}catch(a){n._debug("Exception invoking timed function",b,a)}},execTime:h+c};return m};b.Utils.clearTimeout=function(a){delete r[a]};b.WebSocket=e.WebSocket;e.WebSocket.proxyClient=f;n.registerExtension("ack",new d);b.WebSocket&&(a.enableWebsocket||0<=location.search.indexOf("websocket\x3don"))&&n.registerTransport("websocket",new b.WebSocketTransport,0);n.registerTransport("long-polling",g,1);return n};a=
l([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(a,b,c,d){this.remote=a;this.constructCometD=b||n;this.cometdProperties=d||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this.workerProxyAsyncClient=c||new e("remoteWorkerAsyncProducer");var h=this;k.after(this.workerProxyAsyncClient,"onError",function(a){h.cometd&&(h.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to IFrame error."),
h.cometd.disconnect());h.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){h._deferredCleanup=!1;h.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=a.workerHostOverride||this.remote.getWorkerRoutingHost();this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,
this.computeToken);var b=this.constructCometD("messageService",this.workerProxyAsyncClient);this.cometd=b;this.logCometdLifecycle&&f.info("MessageServiceAsync constructing new cometd instance.");var d=this._createOneShotMessagePromise("/meta/handshake"),e=this,h=new c;d.then(function(a){e.logCometdLifecycle&&f.info("MessageServiceAsync cometd handshake successful.",a,b.getClientId(),b);b.isDisconnected()?(f.error("MessageServiceAsync cometd handshake successful but still disconnected!"),b.disconnect(),
h.reject(a)):h.resolve(a)},function(a){e.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to handshake failure.",a,b.getClientId(),b);b.disconnect();h.reject(a)});this.cometdProperties.url=this._getEndpoint();b.init(this.cometdProperties);return h.promise},disconnect:function(){this.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");this.cometd.disconnect();
return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&f.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var c=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return c},doSubscribe:function(a){this.logCometdSubscriptions&&
f.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(a){if(this.subscriptions[a]){this.logCometdSubscriptions&&f.info("MessageServiceAsync unsubscribing cometd from channel: "+a);var b=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[a]);delete this.subscriptions[a];
return b}return(new c).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(a){var b=new c;this._addOneShotListener(a,function(a){a.successful?b.resolve(a):(f.warn("Message failed: ",a),b.reject(a))});return b.promise},_addOneShotListener:function(a,b){var c=this,d=this.cometd,e;e=this.cometd.addListener(a,function(a){d.removeListener(e);b.apply(c,arguments)})},_getEndpoint:function(){return this.routingHost+
this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});a.enableWebsocket=!1;a.workerHostOverride=!1;return a})},"dojox/cometd/cometd":function(){define(function(){var l=this.org=this.org||{};l.cometd={};l.cometd.JSON={};l.cometd.JSON.toJSON=l.cometd.JSON.fromJSON=function(k){throw"Abstract";};l.cometd.Utils={};l.cometd.Utils.isString=
function(k){return void 0===k||null===k?!1:"string"===typeof k||k instanceof String};l.cometd.Utils.isArray=function(k){return void 0===k||null===k?!1:k instanceof Array};l.cometd.Utils.inArray=function(k,g){for(var c=0;c<g.length;++c)if(k===g[c])return c;return-1};l.cometd.Utils.setTimeout=function(k,g,c){return window.setTimeout(function(){try{g()}catch(b){k._debug("Exception invoking timed function",g,b)}},c)};l.cometd.Utils.clearTimeout=function(k){window.clearTimeout(k)};l.cometd.TransportRegistry=
function(){var k=[],g={};this.getTransportTypes=function(){return k.slice(0)};this.findTransportTypes=function(c,b,d){for(var f=[],e=0;e<k.length;++e){var a=k[e];!0===g[a].accept(c,b,d)&&f.push(a)}return f};this.negotiateTransport=function(c,b,d,f){for(var e=0;e<k.length;++e)for(var a=k[e],h=0;h<c.length;++h)if(a===c[h]){var m=g[a];if(!0===m.accept(b,d,f))return m}return null};this.add=function(c,b,d){for(var f=!1,e=0;e<k.length;++e)if(k[e]===c){f=!0;break}f||("number"!==typeof d?k.push(c):k.splice(d,
0,c),g[c]=b);return!f};this.find=function(c){for(var b=0;b<k.length;++b)if(k[b]===c)return g[c];return null};this.remove=function(c){for(var b=0;b<k.length;++b)if(k[b]===c)return k.splice(b,1),b=g[c],delete g[c],b;return null};this.clear=function(){k=[];g={}};this.reset=function(){for(var c=0;c<k.length;++c)g[k[c]].reset()}};l.cometd.Transport=function(){var k,g;this.registered=function(c,b){k=c;g=b};this.unregistered=function(){g=k=null};this._debug=function(){g._debug.apply(g,arguments)};this._mixin=
function(){return g._mixin.apply(g,arguments)};this.getConfiguration=function(){return g.getConfiguration()};this.getAdvice=function(){return g.getAdvice()};this.setTimeout=function(c,b){return l.cometd.Utils.setTimeout(g,c,b)};this.clearTimeout=function(c){l.cometd.Utils.clearTimeout(c)};this.convertToMessages=function(c){if(l.cometd.Utils.isString(c))try{return l.cometd.JSON.fromJSON(c)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+c+'"'),b;}if(l.cometd.Utils.isArray(c))return c;
if(void 0===c||null===c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c;};this.accept=function(c,b,d){throw"Abstract";};this.getType=function(){return k};this.send=function(c,b){throw"Abstract";};this.reset=function(){this._debug("Transport",k,"reset")};this.abort=function(){this._debug("Transport",k,"aborted")};this.toString=function(){return this.getType()}};l.cometd.Transport.derive=function(k){function g(){}g.prototype=k;return new g};l.cometd.RequestTransport=
function(){function k(a){for(;0<m.length;){var b=m[0],c=b[0],b=b[1];if(c.url===a.url&&c.sync===a.sync)m.shift(),a.messages=a.messages.concat(c.messages),this._debug("Coalesced",c.messages.length,"messages from request",b.id);else break}}function g(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var c=this.getConfiguration().maxNetworkDelay,d=c;!0===b.metaConnect&&(d+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",d,"ms for the response, maxNetworkDelay",c);
var e=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var c="Request "+b.id+" of transport "+e.getType()+" exceeded "+d+" ms max network delay";e._debug(c);e.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,a.messages,"timeout",c)},d)}}function c(a){var b=++e,c={id:b,metaConnect:!1};h.length<this.getConfiguration().maxConnections-1?(h.push(c),g.call(this,a,c)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),m.push([a,c]))}function b(a,b){var d=
l.cometd.Utils.inArray(a,h);0<=d&&h.splice(d,1);if(0<m.length){var d=m.shift(),e=d[0],f=d[1];this._debug("Transport dequeued request",f.id);if(b)this.getConfiguration().autoBatch&&k.call(this,e),c.call(this,e),this._debug("Transport completed request",a.id,e);else{var g=this;this.setTimeout(function(){g.complete(f,!1,f.metaConnect);e.onFailure(f.xhr,e.messages,"error","Previous request failed")},0)}}}var d=new l.cometd.Transport,f=l.cometd.Transport.derive(d),e=0,a=null,h=[],m=[];f.complete=function(c,
d,e){if(e){c=c.id;this._debug("Transport",this.getType(),"metaConnect complete, request",c);if(null!==a&&a.id!==c)throw"Longpoll request mismatch, completing request "+c;a=null}else b.call(this,c,d)};f.transportSend=function(a,b){throw"Abstract";};f.transportSuccess=function(a,b,c){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),c&&0<c.length)a.onSuccess(c);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};f.transportFailure=function(a,b,c,d){b.expired||(this.clearTimeout(b.timeout),
this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,c,d))};f.send=function(b,d){if(d){if(null!==a)throw"Concurrent metaConnect requests not allowed, request id\x3d"+a.id+" not yet completed";var h=++e;this._debug("Transport",this.getType(),"metaConnect send, request",h,"envelope",b);h={id:h,metaConnect:!0};g.call(this,b,h);a=h}else c.call(this,b)};f.abort=function(){d.abort();for(var b=0;b<h.length;++b){var c=h[b];this._debug("Aborting request",c);c.xhr&&c.xhr.abort()}a&&(this._debug("Aborting metaConnect request",
a),a.xhr&&a.xhr.abort());this.reset()};f.reset=function(){d.reset();a=null;h=[];m=[]};return f};l.cometd.LongPollingTransport=function(){var k=new l.cometd.RequestTransport,g=l.cometd.Transport.derive(k),c=!0;g.accept=function(b,d,f){return c||!d};g.xhrSend=function(b){throw"Abstract";};g.transportSend=function(b,d){this._debug("Transport",this.getType(),"sending request",d.id,"envelope",b);var f=this;try{var e=!0;d.xhr=this.xhrSend({transport:this,url:b.url,sync:b.sync,headers:this.getConfiguration().requestHeaders,
body:l.cometd.JSON.toJSON(b.messages),onSuccess:function(a){f._debug("Transport",f.getType(),"received response",a);var e=!1;try{var g=f.convertToMessages(a);0===g.length?(c=!1,f.transportFailure(b,d,"no response",null)):(e=!0,f.transportSuccess(b,d,g))}catch(k){f._debug(k),e||(c=!1,f.transportFailure(b,d,"bad response",k))}},onError:function(a,g){c=!1;e?f.setTimeout(function(){f.transportFailure(b,d,a,g)},0):f.transportFailure(b,d,a,g)}});e=!1}catch(a){c=!1,this.setTimeout(function(){f.transportFailure(b,
d,"error",a)},0)}};g.reset=function(){k.reset();c=!0};return g};l.cometd.CallbackPollingTransport=function(){var k=new l.cometd.RequestTransport,k=l.cometd.Transport.derive(k);k.accept=function(g,c,b){return!0};k.jsonpSend=function(g){throw"Abstract";};k.transportSend=function(g,c){for(var b=this,d=0,f=g.messages.length,e=[];0<f;){var a=l.cometd.JSON.toJSON(g.messages.slice(d,d+f)),a=g.url.length+encodeURI(a).length;if(2E3<a){if(1===f){var h="Bayeux message too big ("+a+" bytes, max is 2000) for transport "+
this.getType();this.setTimeout(function(){b.transportFailure(g,c,"error",h)},0);return}--f}else e.push(f),d+=f,f=g.messages.length-d}var k=g;if(1<e.length){d=0;f=e[0];this._debug("Transport",this.getType(),"split",g.messages.length,"messages into",e.join(" + "));k=this._mixin(!1,{},g);k.messages=g.messages.slice(d,f);k.onSuccess=g.onSuccess;k.onFailure=g.onFailure;for(a=1;a<e.length;++a){var r=this._mixin(!1,{},g),d=f,f=f+e[a];r.messages=g.messages.slice(d,f);r.onSuccess=g.onSuccess;r.onFailure=g.onFailure;
this.send(r,c.metaConnect)}}this._debug("Transport",this.getType(),"sending request",c.id,"envelope",k);try{var n=!0;this.jsonpSend({transport:this,url:k.url,sync:k.sync,headers:this.getConfiguration().requestHeaders,body:l.cometd.JSON.toJSON(k.messages),onSuccess:function(a){var d=!1;try{var e=b.convertToMessages(a);0===e.length?b.transportFailure(k,c,"no response"):(d=!0,b.transportSuccess(k,c,e))}catch(h){b._debug(h),d||b.transportFailure(k,c,"bad response",h)}},onError:function(a,d){n?b.setTimeout(function(){b.transportFailure(k,
c,a,d)},0):b.transportFailure(k,c,a,d)}});n=!1}catch(s){this.setTimeout(function(){b.transportFailure(k,c,"error",s)},0)}};return k};l.cometd.WebSocketTransport=function(){function k(){var a=f.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,c=null,d=f.getConfiguration().connectTimeout;0<d&&(c=this.setTimeout(function(){c=null;n||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",d,"ms"),b.onClose(1002,"Connect Timeout"))},
d));var e=new l.cometd.WebSocket(a),h=function(a){var d=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",d,"/",a,e);c&&(b.clearTimeout(c),c=null);if(e!==r)b._debug("Ignoring close event, WebSocket",r);else b.onClose(d,a)};e.onopen=function(){b._debug("WebSocket opened",e);c&&(b.clearTimeout(c),c=null);if(e!==r)b._debug("Ignoring open event, WebSocket",r);else b.onOpen()};e.onclose=h;e.onerror=function(){h({code:1002})};e.onmessage=function(a){b._debug("WebSocket message",a,e);if(e!==r)b._debug("Ignoring message event, WebSocket",
r);else b.onMessage(a)};r=e;this._debug("Transport",this.getType(),"configured callbacks on",e)}function g(a,b){var c=l.cometd.JSON.toJSON(a.messages);r.send(c);this._debug("Transport",this.getType(),"sent",a,"metaConnect \x3d",b);var d=c=this.getConfiguration().maxNetworkDelay;b&&(d+=this.getAdvice().timeout,s=!0);for(var e=[],h=0;h<a.messages.length;++h){var f=a.messages[h];if(f.id){e.push(f.id);var g=r;m[f.id]=this.setTimeout(function(){g&&g.close(1E3,"Timeout")},d)}}this._debug("Transport",this.getType(),
"waiting at most",d,"ms for messages",e,"maxNetworkDelay",c,", timeouts:",m)}function c(a,b){try{null===r?k.call(this):n&&g.call(this,a,b)}catch(c){var d=r;this.setTimeout(function(){a.onFailure(d,a.messages,"error",c)},0)}}var b=new l.cometd.Transport,d=l.cometd.Transport.derive(b),f,e=!0,a=!1,h={},m={},r=null,n=!1,s=!1,p;d.onOpen=function(){this._debug("Transport",this.getType(),"opened",r);a=n=!0;this._debug("Sending pending messages",h);for(var b in h){var c=h[b],d=c[0],c=c[1];p=d.onSuccess;g.call(this,
d,c)}};d.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,r);var b=!1;a=this.convertToMessages(a.data);for(var c=[],d=0;d<a.length;++d){var e=a[d];if((/^\/meta\//.test(e.channel)||void 0===e.data)&&e.id){c.push(e.id);var f=m[e.id];f&&(this.clearTimeout(f),delete m[e.id],this._debug("Transport",this.getType(),"removed timeout for message",e.id,", timeouts",m))}"/meta/connect"===e.channel&&(s=!1);"/meta/disconnect"===e.channel&&!s&&(b=!0)}d=!1;for(e=0;e<c.length;++e){var g=
c[e],k;for(k in h){var f=k.split(","),n=l.cometd.Utils.inArray(g,f);if(0<=n){d=!0;f.splice(n,1);g=h[k][0];n=h[k][1];delete h[k];0<f.length&&(h[f.join(",")]=[g,n]);break}}}d&&this._debug("Transport",this.getType(),"removed envelope, envelopes",h);p.call(this,a);b&&r.close(1E3,"Disconnect")};d.onClose=function(b,c){this._debug("Transport",this.getType(),"closed",b,c,r);e=a;for(var d in m)this.clearTimeout(m[d]);m={};for(var f in h)d=h[f][0],h[f][1]&&(s=!1),d.onFailure(r,d.messages,"closed "+b+"/"+c);
h={};null!==r&&n&&r.close(1E3,"Close");n=!1;r=null};d.registered=function(a,c){b.registered(a,c);f=c};d.accept=function(a,b,c){return e&&!!l.cometd.WebSocket&&!1!==f.websocketEnabled};d.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect \x3d",b);for(var d=[],e=0;e<a.messages.length;++e){var f=a.messages[e];f.id&&d.push(f.id)}h[d.join(",")]=[a,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",h);c.call(this,a,b)};d.abort=function(){b.abort();if(null!==
r)try{r.close(1001)}catch(a){this._debug(a)}this.reset()};d.reset=function(){b.reset();null!==r&&n&&r.close(1E3,"Reset");e=!0;a=!1;m={};h={};r=null;n=!1;p=null};return d};l.cometd.Cometd=function(k){function g(a){return l.cometd.Utils.isString(a)}function c(a){return void 0===a||null===a?!1:"function"===typeof a}function b(a,b){if(window.console){var d=window.console[a];c(d)&&d.apply(window.console,b)}}function d(){for(var a in M)for(var b=M[a],c=b.length-1;0<=c;--c){var d=b[c];d&&!d.listener&&(b.splice(c,
1),w._debug("Removed subscription",d,"for channel",a))}}function f(a){B!==a&&(w._debug("Status",B,"-\x3e",a),B=a)}function e(){return"disconnecting"===B||"disconnected"===B}function a(a,b,d,e,h){try{return b.call(a,e)}catch(f){w._debug("Exception during execution of extension",d,f);a=w.onExtensionException;if(c(a)){w._debug("Invoking extension exception callback",d,f);try{a.call(w,f,d,h,e)}catch(g){w._info("Exception during execution of exception callback in extension",d,g)}}return e}}function h(b){for(var d=
0;d<N.length&&!(void 0===b||null===b);++d){var e=N[d],h=e.extension.outgoing;c(h)&&(e=a(e.extension,h,e.name,b,!0),b=void 0===e?b:e)}return b}function m(a,b){var d=M[a];if(d&&0<d.length)for(var e=d.length-1;0<=e;--e){var h=d[e];try{h.callback.call(h.scope,b)}catch(f){w._debug("Exception during notification",h,b,f);var g=w.onListenerException;if(c(g)){w._debug("Invoking listener exception callback",h,f);try{g.call(w,f,h.handle,h.listener,b)}catch(k){w._info("Exception during execution of listener callback",
h,k)}}}}}function r(a,b){m(a,b);for(var c=a.split("/"),d=c.length-1,e=d;0<e;--e){var h=c.slice(0,e).join("/")+"/*";e===d&&m(h,b);h+="*";m(h,b)}}function n(){null!==V&&l.cometd.Utils.clearTimeout(V);V=null}function s(a){n();var b=Q.interval+K;w._debug("Function scheduled in",b,"ms, interval \x3d",Q.interval,"backoff \x3d",K,a);V=l.cometd.Utils.setTimeout(w,a,b)}function p(a,b,d,e){for(var f=0;f<b.length;++f){var g=b[f];g.id=""+ ++I;U&&(g.clientId=U);var k=void 0;c(g._callback)&&(k=g._callback,delete g._callback);
g=h(g);void 0!==g&&null!==g?(b[f]=g,k&&(W[g.id]=k)):b.splice(f--,1)}0!==b.length&&(f=D.url,D.appendMessageTypeToURL&&(f.match(/\/$/)||(f+="/"),e&&(f+=e)),a={url:f,sync:a,messages:b,onSuccess:function(a){try{fa.call(w,a)}catch(b){w._debug("Exception during handling of messages",b)}},onFailure:function(a,b,c,d){try{X.call(w,a,b,c,d)}catch(e){w._debug("Exception during handling of failure",e)}}},w._debug("Send",a),H.send(a,d))}function q(a){0<G||!0===S?R.push(a):p(!1,[a],!1)}function t(){var a=R;R=[];
0<a.length&&p(!1,a,!1)}function y(){f("connecting");s(function(){if(!e()){var a={channel:"/meta/connect",connectionType:H.getType()};Y||(a.advice={timeout:0});f("connecting");w._debug("Connect sent",a);p(!1,[a],!0,"connect");f("connected")}})}function x(a){a&&(Q=w._mixin(!1,{},D.advice,a),w._debug("New advice",Q))}function u(a){n();a&&H.abort();U=null;f("disconnected");K=G=0;0<R.length&&(X.call(w,void 0,R,"error","Disconnected"),R=[])}function v(a){U=null;d();e()?(J.reset(),x(D.advice)):x(w._mixin(!1,
Q,{reconnect:"retry"}));G=0;S=!0;Z=a;a=J.findTransportTypes("1.0",A,D.url);var b=w._mixin(!1,{},Z,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:a,advice:{timeout:Q.timeout,interval:Q.interval}});H=J.negotiateTransport(a,"1.0",A,D.url);w._debug("Initial transport is",H.getType());f("handshaking");w._debug("Handshake sent",b);p(!1,[b],!1,"handshake")}function z(){f("handshaking");S=!0;s(function(){v(Z)})}function E(a){r("/meta/handshake",a);r("/meta/unsuccessful",
a);!e()&&"none"!==Q.reconnect?(K<D.maxBackoff&&(K+=D.backoffIncrement),z()):u(!1)}function L(a){r("/meta/connect",a);r("/meta/unsuccessful",a);a=e()?"none":Q.reconnect;switch(a){case "retry":y();K<D.maxBackoff&&(K+=D.backoffIncrement);break;case "handshake":J.reset();K=0;z();break;case "none":u(!1);break;default:throw"Unrecognized advice action"+a;}}function O(a){u(!0);r("/meta/disconnect",a);r("/meta/unsuccessful",a)}function F(a){r("/meta/subscribe",a);r("/meta/unsuccessful",a)}function T(a){r("/meta/unsubscribe",
a);r("/meta/unsuccessful",a)}function P(a){var b=W[a.id];c(b)&&(delete W[a.id],b.call(w,a))}function aa(a){P(a);r("/meta/publish",a);r("/meta/unsuccessful",a)}function ba(b){for(var d=0;d<N.length&&!(void 0===b||null===b);++d){var h=N[D.reverseIncomingExtensions?N.length-1-d:d],f=h.extension.incoming;c(f)&&(h=a(h.extension,f,h.name,b,!1),b=void 0===h?b:h)}if(!(void 0===b||null===b))switch(x(b.advice),b.channel){case "/meta/handshake":if(b.successful){U=b.clientId;d=J.negotiateTransport(b.supportedConnectionTypes,
b.version,A,D.url);if(null===d)throw"Could not negotiate transport with server; client "+J.findTransportTypes(b.version,A,D.url)+", server "+b.supportedConnectionTypes;H!==d&&(w._debug("Transport",H,"-\x3e",d),H=d);S=!1;t();b.reestablish=$;$=!0;r("/meta/handshake",b);b=e()?"none":Q.reconnect;switch(b){case "retry":K=0;y();break;case "none":u(!1);break;default:throw"Unrecognized advice action "+b;}}else E(b);break;case "/meta/connect":if(Y=b.successful)switch(r("/meta/connect",b),b=e()?"none":Q.reconnect,
b){case "retry":K=0;y();break;case "none":u(!1);break;default:throw"Unrecognized advice action "+b;}else L(b);break;case "/meta/disconnect":b.successful?(u(!1),r("/meta/disconnect",b)):O(b);break;case "/meta/subscribe":b.successful?r("/meta/subscribe",b):F(b);break;case "/meta/unsubscribe":b.successful?r("/meta/unsubscribe",b):T(b);break;default:void 0===b.successful?void 0!==b.data&&null!==b.data?r(b.channel,b):w._debug("Unknown message",b):b.successful?(P(b),r("/meta/publish",b)):aa(b)}}function ca(a){if(a=
M[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function da(a,b){var d={scope:a,method:b};if(c(a))d.scope=void 0,d.method=a;else if(g(b)){if(!a)throw"Invalid scope "+a;d.method=a[b];if(!c(d.method))throw"Invalid callback "+b+" for scope "+a;}else if(!c(b))throw"Invalid callback "+b;return d}function ea(a,b,c,d){b=da(b,c);w._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);d={channel:a,scope:b.scope,callback:b.method,listener:d};b=M[a];b||(b=[],b.subscriptionCounter=
0,M[a]=b);b.push(d);c=b.subscriptionCounter;b.subscriptionCounter+=1;d.id=c;d.handle=[a,c];w._debug("Added listener",d,"for channel",a,"having id \x3d",c);return d.handle}var w=this,C=k||"default",A=!1,J=new l.cometd.TransportRegistry,H,B="disconnected",I=0,U=null,G=0,R=[],S=!1,M={},K=0,V=null,N=[],Q={},Z,W={},$=!1,Y=!1,D={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,
autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,b,c){for(var d=b||{},e=2;e<arguments.length;++e){var h=arguments[e];if(!(void 0===h||null===h))for(var f in h){var g=h[f],k=d[f];g!==b&&void 0!==g&&(d[f]=a&&"object"===typeof g&&null!==g?g instanceof Array?this._mixin(a,k instanceof Array?k:[],g):this._mixin(a,"object"===typeof k&&!(k instanceof Array)?k:{},g):g)}}return d};this._warn=function(){b("warn",arguments)};this._info=function(){"warn"!==D.logLevel&&b("info",
arguments)};this._debug=function(){"debug"===D.logLevel&&b("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var fa,X;this.send=q;this.receive=ba;fa=function(a){w._debug("Received",a);for(var b=0;b<a.length;++b)ba(a[b])};X=function(a,b,c,d){w._debug("handleFailure",a,b,c,d);for(c=0;c<b.length;++c){var e=b[c];switch(e.channel){case "/meta/handshake":E({successful:!1,failure:!0,channel:"/meta/handshake",request:e,xhr:a,advice:{reconnect:"retry",interval:K}});break;
case "/meta/connect":d=a;Y=!1;L({successful:!1,failure:!0,channel:"/meta/connect",request:e,xhr:d,advice:{reconnect:"retry",interval:K}});break;case "/meta/disconnect":O({successful:!1,failure:!0,channel:"/meta/disconnect",request:e,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":F({successful:!1,failure:!0,channel:"/meta/subscribe",request:e,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":T({successful:!1,failure:!0,channel:"/meta/unsubscribe",
request:e,xhr:a,advice:{reconnect:"none",interval:0}});break;default:aa({successful:!1,failure:!0,channel:e.channel,request:e,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(a,b,d){if(d=J.add(a,b,d))this._debug("Registered transport",a),c(b.registered)&&b.registered(a,this);return d};this.getTransportTypes=function(){return J.getTransportTypes()};this.unregisterTransport=function(a){var b=J.remove(a);null!==b&&(this._debug("Unregistered transport",a),c(b.unregistered)&&
b.unregistered());return b};this.unregisterTransports=function(){J.clear()};this.findTransport=function(a){return J.find(a)};this.configure=function(a){w._debug("Configuring cometd object with",a);g(a)&&(a={url:a});a||(a={});D=w._mixin(!1,D,a);if(!D.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(D.url);a=b[8];var c=b[9];A=w._isCrossDomain(b[2]);D.appendMessageTypeToURL&&(void 0!==
c&&0<c.length?(w._info("Appending message type to URI "+a+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),D.appendMessageTypeToURL=!1):(b=a.split("/"),c=b.length-1,a.match(/\/$/)&&(c-=1),0<=b[c].indexOf(".")&&(w._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),D.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){f("disconnected");$=!1;v(a)};this.disconnect=
function(a,b){if(!e()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});f("disconnecting");p(!0===a,[c],!1,"disconnect")}};this.startBatch=function(){++G};this.endBatch=function(){--G;if(0>G)throw"Calls to startBatch() and endBatch() are not paired";0===G&&(!e()&&!S)&&t()};this.batch=function(a,b){var c=da(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),
d;}};this.addListener=function(a,b,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(a))throw"Illegal argument type: channel must be a string";return ea(a,b,c,!0)};this.removeListener=function(a){if(!l.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=M[a[0]],c;if(0<b.length){c=a[1];a:{for(var d=0;d<b.length;){if(b[d].id===c){c=d;break a}d+=1}c=-1}-1!==c&&(b.splice(c,1),w._debug("Removed listener",a))}};this.clearListeners=
function(){M={}};this.subscribe=function(a,b,d,h){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(a))throw"Illegal argument type: channel must be a string";if(e())throw"Illegal state: already disconnected";c(b)&&(h=d,d=b,b=void 0);var f=!ca(a),k=ea(a,b,d,!1);f&&(f=this._mixin(!1,{},h,{channel:"/meta/subscribe",subscription:a}),q(f));return k};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;
if(e())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];ca(c)||(c=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:c}),q(c))};this.clearSubscriptions=function(){d()};this.publish=function(a,b,d,h){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!g(a))throw"Illegal argument type: channel must be a string";if(e())throw"Illegal state: already disconnected";c(b)?(h=b,b=d={}):c(d)&&(h=d,d={});var f=this._mixin(!1,{},d,
{channel:a,data:b,_callback:h});q(f)};this.getStatus=function(){return B};this.isDisconnected=e;this.setBackoffIncrement=function(a){D.backoffIncrement=a};this.getBackoffIncrement=function(){return D.backoffIncrement};this.getBackoffPeriod=function(){return K};this.setLogLevel=function(a){D.logLevel=a};this.registerExtension=function(a,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!g(a))throw"Illegal argument type: extension name must be a string";
for(var d=!1,e=0;e<N.length;++e)if(N[e].name===a){d=!0;break}if(d)return this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1;N.push({name:a,extension:b});this._debug("Registered extension",a);c(b.registered)&&b.registered(a,this);return!0};this.unregisterExtension=function(a){if(!g(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,d=0;d<N.length;++d){var e=N[d];if(e.name===a){N.splice(d,1);b=!0;this._debug("Unregistered extension",
a);a=e.extension;c(a.unregistered)&&a.unregistered();break}}return b};this.getExtension=function(a){for(var b=0;b<N.length;++b){var c=N[b];if(c.name===a)return c.extension}return null};this.getName=function(){return C};this.getClientId=function(){return U};this.getURL=function(){return D.url};this.getTransport=function(){return H};this.getConfiguration=function(){return this._mixin(!0,{},D)};this.getAdvice=function(){return this._mixin(!0,{},Q)};l.cometd.WebSocket=window.WebSocket;l.cometd.WebSocket||
(l.cometd.WebSocket=window.MozWebSocket)};return l.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(l){return l.AckExtension=function(){var k,g=!1,c=-1;this.registered=function(b,c){k=c;k._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){k._debug("AckExtension: executing unregistration callback",void 0);k=null};this.incoming=function(b){var d=b.channel;if("/meta/handshake"==d)g=b.ext&&b.ext.ack,k._debug("AckExtension: server supports acks",
g);else if(g&&"/meta/connect"==d&&b.successful&&(d=b.ext)&&"number"===typeof d.ack)c=d.ack,k._debug("AckExtension: server sent ack id",c);return b};this.outgoing=function(b){var d=b.channel;"/meta/handshake"==d?(b.ext||(b.ext={}),b.ext.ack=k&&!1!==k.ackEnabled,c=-1):g&&"/meta/connect"==d&&(b.ext||(b.ext={}),b.ext.ack=c,k._debug("AckExtension: client sending ack id",c));return b}}})},"MW/Log":function(){define("MW/Log",["dojo/date/locale"],function(l){return function(){function k(c){e&&(a||!d||!d.log)&&
e.apply(b,c)}function g(a){f[a]=function(){if(0!==h&&d&&d[a])if("assert"===a){if(!arguments[0])if(b.ScriptEngine){var c=Array.prototype.slice.call(arguments);c.shift();d[a](!1,c)}else d[a].apply(d,arguments)}else if(b.ScriptEngine)if(-1!==a.indexOf("profile"))d[a]();else d[a](arguments[0]);else d[a].apply(d,arguments)}}function c(a,c){f[c]=function(){var e=Array.prototype.slice.call(arguments),f=l.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),g=[c].concat(e),e=[f].concat(e);m.push(g);
m.length>r&&m.shift();k(g);if(d&&(0<h?h>a:n.length+h<=a))if(d.firebug&&"error"!==c)d[c].apply(b,e);else if(d[c])d[c](e);else d.log(e)}}var b=this,d=b.console,f={},e,a,h=9,m=[],r=25,n=["error","warn","info","debug","log"],s="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),p;for(p=s.length;0<=(p-=1);)g(s[p]);for(p=n.length;0<=(p-=1);)c(p,n[p]);f.setLevel=function(a){h="number"===typeof a?a:9};f.setCallback=function(b,c,d){var h=
m.length;e=b||null;a="boolean"===typeof c?c:!1;for(b=h-("number"===d?d:h);b<h;)k(m[b+=1])};return f}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(l,k,g,c,b,d,f,e,a){function h(a,b,d,e){return e.replace(/([a-z])\1*/ig,function(h){var g,k,m=h.charAt(0);h=h.length;var l=["abbr","wide","narrow"];switch(m){case "G":g=b[4>h?"eraAbbr":"eraNames"][0>a.getFullYear()?
0:1];break;case "y":g=a.getFullYear();switch(h){case 1:break;case 2:if(!d.fullYear){g=String(g);g=g.substr(g.length-2);break}default:k=!0}break;case "Q":case "q":g=Math.ceil((a.getMonth()+1)/3);k=!0;break;case "M":case "L":g=a.getMonth();3>h?(g+=1,k=!0):(m=["months","L"==m?"standAlone":"format",l[h-3]].join("-"),g=b[m][g]);break;case "w":g=n._getWeekOfYear(a,0);k=!0;break;case "d":g=a.getDate();k=!0;break;case "D":g=n._getDayOfYear(a);k=!0;break;case "e":case "c":if(g=a.getDay(),2>h){g=(g-c.getFirstDayOfWeek(d.locale)+
8)%7;break}case "E":g=a.getDay();3>h?(g+=1,k=!0):(m=["days","c"==m?"standAlone":"format",l[h-3]].join("-"),g=b[m][g]);break;case "a":m=12>a.getHours()?"am":"pm";g=d[m]||b["dayPeriods-format-wide-"+m];break;case "h":case "H":case "K":case "k":k=a.getHours();switch(m){case "h":g=k%12||12;break;case "H":g=k;break;case "K":g=k%12;break;case "k":g=k||24}k=!0;break;case "m":g=a.getMinutes();k=!0;break;case "s":g=a.getSeconds();k=!0;break;case "S":g=Math.round(a.getMilliseconds()*Math.pow(10,h-3));k=!0;
break;case "v":case "z":if(g=n._getZone(a,!0,d))break;h=4;case "Z":m=n._getZone(a,!1,d);m=[0>=m?"+":"-",f.pad(Math.floor(Math.abs(m)/60),2),f.pad(Math.abs(m)%60,2)];4==h&&(m.splice(0,0,"GMT"),m.splice(3,0,":"));g=m.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+e);}k&&(g=f.pad(g,h));return g})}function m(a,b,c,d){var e=function(a){return a};b=b||e;c=c||e;d=d||e;var h=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);k.forEach(h,function(a,d){a?(h[d]=(f?c:b)(a.replace(/''/g,
"'")),f=!f):h[d]=""});return d(h.join(""))}function r(a,b,c,e){e=d.escapeString(e);c.strict||(e=e.replace(" a"," ?a"));return e.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var h=d.length,f="",g="";c.strict?(1<h&&(f="0{"+(h-1)+"}"),2<h&&(g="0{"+(h-2)+"}")):(f="0?",g="0{0,2}");switch(e){case "y":e="\\d{2,4}";break;case "M":case "L":e=2<h?"\\S+?":"1[0-2]|"+f+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+g+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+f+"[1-9]";
break;case "w":e="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":e=".+?";break;case "h":e="1[0-2]|"+f+"[1-9]";break;case "k":e="1[01]|"+f+"\\d";break;case "H":e="1\\d|2[0-3]|"+f+"\\d";break;case "K":e="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+h+"}";break;case "a":h=c.am||b["dayPeriods-format-wide-am"];f=c.pm||b["dayPeriods-format-wide-pm"];e=h+"|"+f;c.strict||(h!=h.toLowerCase()&&(e+="|"+h.toLowerCase()),f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),
-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};l.setObject(a.id.replace(/\//g,"."),n);n._getZone=function(a,b,c){return b?g.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(a,c){c=c||{};var d=b.normalizeLocale(c.locale),e=c.formatLength||"short",d=n._getGregorianBundle(d),f=[],g=l.hitch(this,h,a,d,c);if("year"==c.selector)return m(d["dateFormatItem-yyyy"]||"yyyy",g);
var k;"date"!=c.selector&&(k=c.timePattern||d["timeFormat-"+e])&&f.push(m(k,g));"time"!=c.selector&&(k=c.datePattern||d["dateFormat-"+e])&&f.push(m(k,g));return 1==f.length?f[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return f[b]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(a){a=a||{};var c=b.normalizeLocale(a.locale),c=n._getGregorianBundle(c),d=a.formatLength||"short",e=a.datePattern||c["dateFormat-"+d],h=a.timePattern||c["timeFormat-"+
d],d="date"==a.selector?e:"time"==a.selector?h:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[h,e][b]}),f=[];return{regexp:m(d,l.hitch(this,r,f,c,a)),tokens:f,bundle:c}};n.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=n._parseInfo(b),e=d.tokens,h=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var f=["abbr","wide","narrow"],m=[1970,0,1,0,0,0,0],l="",c=k.every(c,function(a,c){if(!c)return!0;var d=e[c-1],g=d.length,
d=d.charAt(0);switch(d){case "y":if(2!=g&&b.strict)m[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),g=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),m[0]=a<d?g+a:g-100+a;else{if(b.strict)return!1;m[0]=a}break;case "M":case "L":if(2<g){if(g=h["months-"+("L"==d?"standAlone":"format")+"-"+f[g-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),g=k.map(g,function(a){return a.replace(".","").toLowerCase()})),a=k.indexOf(g,a),-1==a)return!1}else a--;m[1]=a;break;case "E":case "e":case "c":g=
h["days-"+("c"==d?"standAlone":"format")+"-"+f[g-3]].concat();b.strict||(a=a.toLowerCase(),g=k.map(g,function(a){return a.toLowerCase()}));a=k.indexOf(g,a);if(-1==a)return!1;break;case "D":m[1]=0;case "d":m[2]=a;break;case "a":g=b.am||h["dayPeriods-format-wide-am"];d=b.pm||h["dayPeriods-format-wide-pm"];if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();g=g.replace(n,"").toLowerCase();d=d.replace(n,"").toLowerCase()}if(b.strict&&a!=g&&a!=d)return!1;l=a==d?"p":a==g?"a":"";break;case "K":24==
a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;m[3]=a;break;case "m":m[4]=a;break;case "s":m[5]=a;break;case "S":m[6]=a}return!0}),d=+m[3];"p"===l&&12>d?m[3]=d+12:"a"===l&&12==d&&(m[3]=0);d=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);b.strict&&d.setFullYear(m[0]);var s=e.join(""),r=-1!=s.indexOf("d"),s=-1!=s.indexOf("M");if(!c||s&&d.getMonth()>m[1]||r&&d.getDate()>m[2])return null;if(s&&d.getMonth()<m[1]||r&&d.getDate()<m[2])d=g.add(d,"hour",1);return d};var s=[];n.addCustomFormats=function(a,
b){s.push({pkg:a,name:b})};n._getGregorianBundle=function(a){var c={};k.forEach(s,function(d){d=b.getLocalization(d.pkg,d.name,a);c=l.mixin(c,d)},this);return c};n.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,b,c,d){var e;d=n._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};n.isWeekend=function(a,b){var d=c.getWeekend(b),e=(a||new Date).getDay();d.end<d.start&&
(d.end+=7,e<d.start&&(e+=7));return e>=d.start&&e<=d.end};n._getDayOfYear=function(a){return g.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((n._getDayOfYear(a)+(c-b+7)%7-1)/7);c==b&&d++;return d};return n})},"dojo/date":function(){define(["./has","./_base/lang"],function(l,k){var g={getDaysInMonth:function(c){var b=c.getMonth();return 1==b&&g.isLeapYear(c)?29:[31,28,
31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(c){c=c.getFullYear();return!(c%400)||!(c%4)&&!!(c%100)},getTimezoneName:function(c){var b=c.toString(),d="",f=b.indexOf("(");if(-1<f)d=b.substring(++f,b.indexOf(")"));else if(f=/([A-Z\/]+) \d{4}$/,b=b.match(f))d=b[1];else if(b=c.toLocaleString(),f=/ ([A-Z\/]+)$/,b=b.match(f))d=b[1];return"AM"==d||"PM"==d?"":d},compare:function(c,b,d){c=new Date(+c);b=new Date(+(b||new Date));"date"==d?(c.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==d&&(c.setFullYear(0,
0,0),b.setFullYear(0,0,0));return c>b?1:c<b?-1:0},add:function(c,b,d){var f=new Date(+c),e=!1,a="Date";switch(b){case "day":break;case "weekday":var h;(b=d%5)?h=parseInt(d/5):(b=0<d?5:-5,h=0<d?(d-5)/5:(d+5)/5);var g=c.getDay(),k=0;6==g&&0<d?k=1:0==g&&0>d&&(k=-1);g+=b;if(0==g||6==g)k=0<d?2:-2;d=7*h+b+k;break;case "year":a="FullYear";e=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":e=!0;a="Month";break;default:a="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(a)f["set"+a](f["get"+
a]()+d);e&&f.getDate()<c.getDate()&&f.setDate(0);return f},difference:function(c,b,d){b=b||new Date;d=d||"day";var f=b.getFullYear()-c.getFullYear(),e=1;switch(d){case "quarter":c=c.getMonth();b=b.getMonth();c=Math.floor(c/3)+1;b=Math.floor(b/3)+1;e=b+4*f-c;break;case "weekday":f=Math.round(g.difference(c,b,"day"));d=parseInt(g.difference(c,b,"week"));e=f%7;if(0==e)f=5*d;else{var a=0,h=c.getDay();b=b.getDay();d=parseInt(f/7);e=f%7;c=new Date(c);c.setDate(c.getDate()+7*d);c=c.getDay();if(0<f)switch(!0){case 6==
h:a=-1;break;case 0==h:a=0;break;case 6==b:a=-1;break;case 0==b:a=-2;break;case 5<c+e:a=-2}else if(0>f)switch(!0){case 6==h:a=0;break;case 0==h:a=1;break;case 6==b:a=2;break;case 0==b:a=1;break;case 0>c+e:a=2}f=f+a-2*d}e=f;break;case "year":e=f;break;case "month":e=b.getMonth()-c.getMonth()+12*f;break;case "week":e=parseInt(g.difference(c,b,"day")/7);break;case "day":e/=24;case "hour":e/=60;case "minute":e/=60;case "second":e/=1E3;case "millisecond":e*=b.getTime()-c.getTime()}return Math.round(e)}};
k.mixin(k.getObject("dojo.date",!0),g);return g})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(l,k){var g={};l.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(c){c={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,
ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(c)];return void 0===c?1:c};g._region=function(c){c=k.normalizeLocale(c);c=c.split("-");var b=c[1];b?4==b.length&&(b=c[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",
el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",
mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",
ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",
chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",
kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",
mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",
tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[c[0]];return b};g.getWeekend=function(c){var b=g._region(c);c={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,
om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===c&&(c=6);void 0===b&&(b=0);return{start:c,end:b}};return g})},"MW/remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require MW/Log ./CheckUrlService".split(" "),function(l,k,g,c,b,d,f,e,a,h){var m=this,r=k([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.4",REMOTE_PROXY:"/remote/proxy/",
constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,b,c,d,e){a=this._combineUriPaths(a||"","/");b=b||"";e=e||this.LATEST_VERSION;d=d||"";this.computeToken=c;a===this._host&&b===this._key&&d===this._proxyUrl&&e===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=b,this._version=
e,this._proxyUrl=d,a=this._calculateUrls(a,b,e,d),this._createIframe(a))},_calculateUrls:function(a,b,c,d){var e=this.REMOTE_PROXY+c+"/iframeProxyRelease.html";c=this.REMOTE_PROXY+c+"/CheckJsFile.js";d&&(e=d);e=this._combineUriPaths(a,e).split("?")[0];e+=b?"?routingkey\x3d"+b:"";c=this._combineUriPaths(a,c);c=b?c+("?routingkey\x3d"+b):c+("?time\x3d"+(new Date).getTime());return{fastFailUrl:c,iFrameUrl:e}},_createIframe:function(b){var c=b.fastFailUrl,d=this;this._url=b.iFrameUrl;this.remoteIframe&&
f.destroy(this.remoteIframe);a.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=f.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});b=function(){d._loaded||("1.0"===d._version?d._handleLoadTimeout():"1.1"===d._version?(clearTimeout(d._loadTimeoutHandle),a.info("Unable to load proxy version "+d._version+", trying 1.0."),d.setRemotePageHost(d._host,d._key,d.computeToken,d._proxyUrl,"1.0")):"1.2"===
d._version?(clearTimeout(d._loadTimeoutHandle),a.info("Unable to load proxy version "+d._version+", trying 1.1."),d.setRemotePageHost(d._host,d._key,d.computeToken,d._proxyUrl,"1.1")):"1.3"===d._version?(clearTimeout(d._loadTimeoutHandle),a.info("Unable to load proxy version "+d._version+", trying 1.2."),d.setRemotePageHost(d._host,d._key,d.computeToken,d._proxyUrl,"1.2")):"1.4"===d._version?(clearTimeout(d._loadTimeoutHandle),a.info("Unable to load proxy version "+d._version+", trying 1.3."),d.setRemotePageHost(d._host,
d._key,d.computeToken,d._proxyUrl,"1.3")):(clearTimeout(d._loadTimeoutHandle),a.info("Unable to load proxy version "+d._version+", trying 1.0."),d.setRemotePageHost(d._host,d._key,d.computeToken,d._proxyUrl,"1.0")))};this._checkUrl=(new h(c)).then(function(){},b);this._loadTimeoutHandle=setTimeout(b,this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=l.connect(m,"message",this,this._handleMessage))},createUploadIframeTarget:function(a,
c,d){this._uploadTargetCallbacks[a]=b.hitch(d||this,c);this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(b,d,e){var h=this,f;this.computeToken&&(e=e||{},e.headers=e.headers||{},e.headers.computeToken=this.computeToken);f=this._getNewMessageId();d="sendMessage;"+f+";"+d+";"+(e?c.toJson(e):"{}");d+=";"+b;b={deferred:new g(function(){"1.0"===
h._version?a.warn("Cancelling is not supported by the 1.0 remote proxy."):h._postMessage("abort;"+f)}),id:f};this._errorLoading?b.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[f]=b,this._postMessage(d));return b.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){var b,c;if(a.source===this.remoteIframe.contentWindow){c=
a.data.indexOf(";");b=a.data.substring(0,c);if(!b)throw Error("Client unable to parse message, no action specified: "+a.data);switch(b){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,c);break;case "uploadIframeMessage":b=a.data.indexOf(";",c+1);c=a.data.substring(c+1,b);a=a.data.substring(b+1,a.data.length);this._uploadTargetCallbacks[c](a);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=
a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+b+", data: "+a.data);}}},_sendMessageResponse:function(a,b){var d,e,h=a.data.indexOf(";",b+1);d=a.data.indexOf(";",h+1);var f=a.data.substring(b+1,h),g=a.data.substring(h+1,d),h=a.data.substring(d+1,a.data.length);if(!f||!g)throw Error("Invalid message from remote iframe: "+
a.data);d=this._transactions[f];if(!d)throw Error("Unknown transaction id: "+f+", from remote iframe: "+a.data);delete this._transactions[f];if(!d.deferred.isCanceled())if("success"===g){try{e=h&&c.fromJson(h)}catch(k){e=h}e=""===e?{}:e;d.deferred.resolve(e)}else"fault"===g&&h&&(e=h.split(";"),f=e.length-1,1<=f&&(h.statusCode=e[f])),this.onError(h),d.deferred.reject(h)},_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",
!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,b;this._cleanupFailureChecks();if(!this._loaded)for(b in a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,this._transactions={},a)a.hasOwnProperty(b)&&a[b].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(b){function c(){if(0<
d._errorRate&&Math.random()<d._errorRate&&0===b.indexOf("sendMessage;")){if(e=b.split(";",2)[1],h=d._transactions[e])delete d._transactions[e],a.error("Generating simulated error. Request was: ",b),d.onError("403 Forbidden;403"),h.deferred.reject("403 Forbidden;403")}else d.remoteIframe.contentWindow.postMessage(b,d._url)}var d=this,e,h;this._latency?setTimeout(c,this._latency):c()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=
1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){if(0===a.length)return b;0<b.length&&("/"===b[0]&&a.lastIndexOf("/")===a.length-1?b=b.substring(1):"/"!==b[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+b})}});r.WebSocket=k([],{constructor:function(a){var b=this;this.proxyClient=
r.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+a);d.after(this.proxyClient,"onWebsocketOpen",function(){b.onopen.apply(b,arguments)},!0);d.after(this.proxyClient,"onWebsocketMsg",function(){b.onmessage.apply(b,arguments)},!0);d.after(this.proxyClient,"onWebsocketClose",function(){b.onclose.apply(b,arguments)},!0);d.after(this.proxyClient,"onWebsocketError",function(){b.onerror.apply(b,
arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return r})},"MW/remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","MW/Log"],function(l,k,g,c,b){return function(d){var f,e,a;if(!d)throw Error("Expected a valid url in urlToEmptyJsFile");f={framedoc:null};
e=c.get(d,f,!0);f=k.byId(e.id,f.frameDoc);a=g(f,"error",function(c){b.info("CheckUrlService detected an error accessing url: "+d);e.handleResponse(null,c);a.remove()});return e.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(l,k,g,c,b,d,f,e,a,h,m){function r(a,b){a.canDelete&&t._remove(a.id,b.options.frameDoc,!0)}function n(a){E&&E.length&&(b.forEach(E,
function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),E=[]);return a.options.jsonp?!a.data:!0}function s(a){return!!this.scriptLoaded}function p(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function q(a,b){if(this.canDelete){var c=this.response.options;E.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function t(a,b,c){var e=g.parseArgs(a,g.deepCopy({},b));a=
e.url;b=e.options;var h=g.deferred(e,r,n,b.jsonp?null:b.checkString?p:s,q);d.mixin(h,{id:y+x++,canDelete:!1});b.jsonp&&(RegExp("[?\x26]"+b.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+y+"_callbacks."+h.id),h.canDelete=!0,z[h.id]=function(a){e.data=a;h.handleResponse(e)});g.notify&&g.notify.emit("send",e,h.promise.cancel);if(!b.canAttach||b.canAttach(h)){var m=t._attach(h.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var l=f(m,u,function(a){if("load"===
a.type||v.test(m.readyState))l.remove(),h.scriptLoaded=a})}k(h);return c?h:h.promise}h.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var y=l.id.replace(/[\/\.\-]/g,"_"),x=0,u=h("script-readystatechange")?"readystatechange":"load",v=/complete|loaded/,z=c.global[y+"_callbacks"]={},E=[];t.get=t;t._attach=function(a,b,c){c=c||m.doc;var d=c.createElement("script");
d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};t._remove=function(b,c,d){a.destroy(e.byId(b,c));z[b]&&(d?z[b]=function(){delete z[b]}:delete z[b])};t._callbacksProperty=y+"_callbacks";return t})},"MW/remote/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred MW/utils/StateMachine MW/Log ./MessageServiceState".split(" "),function(l,k,g,c,
b,d,f,e){return l([e],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(a){this.inherited(arguments);c.after(this._delegate,"onMessage",g.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,
c,d){this.logSubscriptions&&f.info("MessageService subscribe: "+a,c,d);this._addHandler(this.channelSubscriptions,a,c,d);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,c,d),this._deferProcessQueue(),a):(new b).resolve()},unsubscribe:function(a,c,d){this.logSubscriptions&&f.info("MessageService unsubscribe: "+a,c,d);if(this._removeHandler(this.channelSubscriptions,a,c,d))return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueUnsubscribe(a,
c,d),this._deferProcessQueue(),a):(new b).resolve();f.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new b).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},
_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,c){var d=new b;this._queuedOps.push({type:"publish",
channel:a,data:c,deferred:d});return d.promise},_queueSubscribe:function(a,c,d){var e=new b;this._queuedOps.push({type:"subscribe",channel:a,handler:c,scope:d,deferred:e});return e.promise},_queueUnsubscribe:function(a,c,d){for(var e=new b,f,g=0;g<this._queuedOps.length;g++)if(f=this._queuedOps[g],"subscribe"===f.type&&f.channel===a&&f.handler===c&&f.scope===d)return this._queuedOps.splice(g,1),f.deferred.resolve(),(new b).resolve();this._queuedOps.push({type:"unsubscribe",channel:a,handler:c,scope:d,
deferred:e});return e.promise},_processQueue:function(){var a=this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,a.scope));b.then(a.deferred.resolve,
a.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new b).resolve();var c=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return c},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?
(new b).resolve():this._delegate.doUnsubscribe(a)},handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},
registerMessageHandler:function(a,b,c){f.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(a,b,c){f.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return g.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||g.isString(a)?a:
this._serializeObject(a)},deserialize:function(a){return g.isArray(a)?this._deserializeArray(a):a instanceof Number||a instanceof Boolean||g.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,d){var e;d=d||this;"string"===typeof c&&"function"!==typeof d[c]?f.warn("Not adding invalid handler: "+c):(e=a[b],e||(e=[],a[b]=e),a={channel:b,handler:c,scope:d},e.push(a),e.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,d){var e;e=a[b];c=this._getHandlerIndex(e,
{handler:c,scope:d||this});0<=c&&e.splice(c,1);(!e||0===e.length)&&delete a[b];return 0<=c},_callHandlers:function(a,b,c){var d;if(a.hasOwnProperty(b)){a=a[b];for(d=0;d<a.length;d+=1)try{"string"===typeof a[d].handler?a[d].scope[a[d].handler].call(a[d].scope,c):a[d].handler.call(a[d].scope,c)}catch(e){f.error("Error while executing message handler on channel: "+b+", message: "+k.toJson(c)+", error: "+e)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===
a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=1){var d=this.typeSerializers[c];if(d.typeMatcher(a))return{__type__:d.type,__value__:d.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===
a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,a.__value__)}catch(c){f.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"MW/utils/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],
function(l,k){return l([],{constructor:function(g){g.stateMachine=this;this.state=new k(g)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(g,c){this.state.enter(g,c)},onEnterState:function(g){},onExitState:function(g){}})})},"MW/utils/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang MW/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(l,k,g,c,b,d,f,e){var a;return a=l([],
{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?
(a=this.namespace.split("."),a=a.pop()):g.warn("State: state name is not specified.");return a||""},constructSubstates:function(b){var c={},d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e.name&&e.name!==d&&g.error("State: error constructing substate: "+d+", the specified names don't match: "+e.name),e.name=d,e.namespace=e.namespace||[this.namespace,this.name].join("."),e.stateMachine=e.stateMachine||this.stateMachine,e.context=e.context||this.context,c[e.name]=new a(e));this.substates=c},constructTriggersAndTransitions:function(a){var b,
c={},d=[],e;for(b in a)a.hasOwnProperty(b)&&((e=this.constructTrigger(b))&&d.push(e),c[b]=this.constructTransition(b,a[b]));this.transitions=c;this.triggers=d},constructTrigger:function(a){var e,g,l;e=a.split(" ");if(2===e.length)"subscribe"===e[0]?l=b:"response"===e[0]||"fault"===e[0]?l=d:"timeout"===e[0]&&(l=f);else if("onEnterState"!==a||"onExitState"!==a)l=c;l&&(g=new l({name:a,context:this.context,triggerHandler:k.hitch(this,this.handleTrigger)}));return g},constructTransition:function(a,b){var c;
if(k.isFunction(b)||k.isString(b)||k.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=""):(c=b,b={},b.target=c);b.state=this;return new e(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});
this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))k.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();
this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"MW/utils/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect","MW/Log","./Trigger"],function(l,k,g,c,b){return l(b,{constructor:function(){this.connection={}},enable:function(){k.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=g.after(this.context,this.name,k.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"MW/utils/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],
function(l){return l([],{constructor:function(k){this.name="";this.context={};this.triggerHandler=k.triggerHandler||function(){};l.safeMixin(this,k)},enable:function(){},disable:function(){}})})},"MW/utils/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","MW/Log","./Trigger"],function(l,k,g,c,b){return l(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"subscribe"!==b[0])&&c.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");
this.messageId=b[1]||"";this.subscrition={}},enable:function(){this.subscription=g.subscribe(this.messageId,k.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"MW/utils/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/Log","MW/remote/Remote","./Trigger"],function(l,k,g,c,b){return l(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"response"!==b[0]&&"fault"!==b[0])&&g.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!c.registerResponseHandler||!c.registerFaultHandler)&&g.error("The remote package is not available, this type of trigger will not work.");this.messageId=b[1]||"";this.handlerType=b[0]},enable:function(){"response"===this.handlerType?c.registerResponseHandler(this.messageId,k.hitch(null,this.triggerHandler,this.name)):c.registerFaultHandler(this.messageId,k.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?c.deregisterResponseHandler(this.messageId):c.deregisterFaultHandler(this.messageId)}})})},
"MW/remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager ../Log ./serviceRegistryLookup!".split(" "),function(l,k,g,c,b,d,f,e,a,h,m){var r=this,n;n={reset:function(){var s=[],p=new b,q=new f({faultManager:p}),t=new d({responseManager:q});n.faultManager=p;n.responseManager=q;n.requestManager=t;n._serviceRegistryLookup=
m;var y=n.proxyClient=new g;n.createUploadIframeTarget=l.hitch(y,y.createUploadIframeTarget);n.cancelUpload=l.hitch(y,y.cancelUpload);a.setIframeProxyClientForEndPoint(a.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,y);a.setIframeProxyClientForEndPoint(a.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,y);e.construct=function(b){b=b||{};a.getRoutingHost(a.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||n.setEndpoint();b.allowedMessages=s;b.sendMessage=n.sendMessage;b.computeSessionId=n.getComputeSessionId;
return new c(b)};n.registerEndpointLevelFaultHandler=l.hitch(p,p.registerEndpointLevelFaultHandler);n.sendMessage=l.hitch(t,t.sendMessage);n.registerDefaultMessageFactory=l.hitch(t,t.registerDefaultMessageFactory);n.deregisterDefaultMessageFactory=l.hitch(t,t.deregisterDefaultMessageFactory);n.registerResponseHandler=l.hitch(q,q.registerResponseHandler);n.deregisterResponseHandler=l.hitch(q,q.deregisterResponseHandler);n.registerFaultHandler=l.hitch(p,p.registerFaultHandler);n.deregisterFaultHandler=
l.hitch(p,p.deregisterFaultHandler);n.registerTopLevelFaultHandler=l.hitch(p,p.registerTopLevelFaultHandler);n.deregisterTopLevelFaultHandler=l.hitch(p,p.deregisterTopLevelFaultHandler);n.setServiceEndPoint=function(b,c,d){a.setRoutingHostAndRoutingKey(b,c,d)};n.setServicePathSuffixForEndPoint=function(b,c){a.setPathSuffixForEndPoint(b,c)};n.ignoreTopLevelFault=n.registerTopLevelFaultHandler;n.setComputeToken=function(a){t.computeToken=a};n.setWorkerEndpoint=function(b,c){a.setRoutingHostAndRoutingKey(a.getEndPointNames().WORKER_ENDPOINT,
b,c)};n.setEndpoint=function(b){b||(b=n._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),b||(h.info("ServiceRegistryLookup is empty, falling back to localhost"),b="/"));if(!b||"/"===b)b=r.location.protocol+"//"+r.location.host+"/";a.setRoutingHostAndRoutingKey(a.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,b);a.setRoutingHostAndRoutingKey(a.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,b);y.setRemotePageHost(b)};n.setAllowedMessages=function(a){s=a};n.allowAllMessages=function(){s=
[]};n.getEndPoint=function(){return a.getRoutingHost(a.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};n.getUploadIframeProxyUrl=function(){return n.getEndPoint()+y.getUploadIframeProxyUrlPath()};n.getComputeSessionId=function(){return t.computeToken?t.computeToken.computeSessionId:12345};n.getWorkerRoutingHost=function(){var b=a.getRoutingHost(a.getEndPointNames().WORKER_ENDPOINT);return b?b:location.protocol+"//"+location.host+"/"};n.getWorkerRoutingKey=function(){return a.getRoutingKey(a.getEndPointNames().WORKER_ENDPOINT)};
n.enableServerOnWorkerAsync=function(){a.enableEndPoint(a.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.disableServerOnWorkerAsync=function(){a.disableEndPoint(a.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.isServerOnWorkerAsyncEnabled=function(){return a.isEndPointEnabled(a.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.enableServerOnWorker=function(){a.enableEndPoint(a.getEndPointNames().WORKER_ENDPOINT)};n.disableServerOnWorker=function(){a.disableEndPoint(a.getEndPointNames().WORKER_ENDPOINT)};n.isWorkerEndpointEnabled=
function(){return a.isEndPointEnabled(a.getEndPointNames().WORKER_ENDPOINT)};n.setWorkerOnlyMessageTypes=function(b){a.setMessageTypesToEndPoint(a.getEndPointNames().WORKER_ENDPOINT,b)};k.after(y,"onError",function(a){a&&p.handleNonTransactionFault(a)},!0)}};n.reset();return n})},"MW/remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare","MW/remote/impl/JsonTransaction","MW/remote/RemoteEndPointsManager"],function(l,k,g){return l([k],{constructor:function(c){c=c||{};this.proxyClient=
c.proxyClient;this.workerProxyClient=c.workerProxyClient;this.routingHost=c.routingHost;this.routingKey=c.routingKey;this.computeSessionId=c.computeSessionId},_doSend:function(c){return g.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(c,g.getRemoteUrlForEndPoint(this.endPointName))}})})},"MW/remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang MW/remote/RemoteEndPointsManager ./Transaction".split(" "),function(l,k,g,c,b,
d){return l(d,{constructor:function(b){b=b||{};this.uuid=b.uuid||this._generateUuid()},_getRequest:function(c){var d=null;b.isEndpointMessageContainerBased(this.endPointName)?(d={uuid:this.uuid,messages:c},this.computeToken&&(d.computeToken=this.computeToken)):Object.keys(c).forEach(function(a){d=c[a]});this._sanitizeForJson(d);return g.toJson(d)},_sanitizeForJson:function(b){var d;if(c.isArray(b))b.forEach(this._sanitizeForJson,this);else if(c.isObject(b))for(d in b)b.hasOwnProperty(d)&&(void 0===
b[d]?delete b[d]:(c.isObject(b[d])||c.isArray(b[d]))&&this._sanitizeForJson(b[d]))},_doSend:function(b){return k.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:b})},_processResponse:function(b){this.stopTime=(new Date).getTime();b?(b.fault&&(this.fault=b.fault),this.responseMessages=b.messages?b.messages:b):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(b){this.stopTime=(new Date).getTime();
this.fault={faultCode:"Connection.Fault",message:b}}})})},"MW/remote/RemoteEndPointsManager":function(){define(["MW/remote/EndPointsManager"],function(l){var k=null;null===k&&(k=new l);return k})},"MW/remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(l,k,g){return l([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},
WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",
pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(c,b,d,f,e){this.endPointsCollection[c]={routingHost:"",
routingKey:"",pathSuffix:d,enabled:b,messages:[],iframeProxy:null,iframeProxyName:f,acceptsMessageContainerMessages:e}},getPathSuffixForEndPoint:function(c){return this.endPointsCollection[c].pathSuffix},setPathSuffixForEndPoint:function(c,b){this.endPointsCollection[c].pathSuffix=b},getEndPointNames:function(){var c={},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(c[b]=b);return c},setRoutingHostAndRoutingKey:function(c,b,d){b&&b.lastIndexOf("/")!==b.length-1&&
(b+="/");this.endPointsCollection[c].routingHost=b;d&&(this.endPointsCollection[c].routingKey=d);b&&this._setIframeRoutingHostAndRoutingkey(c)},_setIframeRoutingHostAndRoutingkey:function(c){var b=this.getIframeProxyClientForEndPoint(c);b&&b.setRemotePageHost(this.endPointsCollection[c].routingHost,this.endPointsCollection[c].routingKey,null,this.endPointsCollection[c].iframeProxyUrl)},getRoutingHost:function(c){return this.endPointsCollection[c].routingHost},getRoutingKey:function(c){return this.endPointsCollection[c].routingKey},
getMessageTypesMappedToEndPoint:function(c){return this.endPointsCollection[c].messages},isEndPointEnabled:function(c){return this.endPointsCollection[c].enabled},setMessageTypesToEndPoint:function(c,b){this.endPointsCollection[c].messages=b},enableEndPoint:function(c){this.endPointsCollection[c].enabled=!0},disableEndPoint:function(c){this.endPointsCollection[c].enabled=!1},getEndPointForMessageType:function(c){var b=null,d;for(d in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(d)&&
(b=-1<k.lastIndexOf(this.endPointsCollection[d].messages,c)?d:b))if(this.isEndPointEnabled(b))break;else b=null;return b?b:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(c){var b=this.endPointsCollection[c].routingHost+this.endPointsCollection[c].pathSuffix;this.endPointsCollection[c].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[c].routingKey);return b},setIframeProxyClientForEndPoint:function(c,b){this.endPointsCollection[c].iframeProxy=b},getIframeProxyClientForEndPoint:function(c){var b=
this.endPointsCollection[c].iframeProxy;b||(b=new g(this.endPointsCollection[c].iframeProxyName),this.endPointsCollection[c].iframeProxy=b);return b},isEndpointMessageContainerBased:function(c){return c&&this.endPointsCollection[c]?this.endPointsCollection[c].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(c,b){this.endPointsCollection[c]&&-1===this.endPointsCollection[c].messages.indexOf(b)&&this.endPointsCollection[c].messages.push(b)},removeMessageTypesFromEndPoint:function(c,
b){if(this.endPointsCollection[c]){var d=this.endPointsCollection[c].messages.indexOf(b);-1<d&&this.endPointsCollection[c].messages.splice(d,1)}}})})},"MW/remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","MW/remote/RemoteEndPointsManager","MW/utils/Utils"],function(l,k,g,c,b){return l([],{constructor:function(b){b=b||{};this.requestMessages=b.requestMessages||{};this.responseMessages=b.responseMessages||{};this.context=b.context;this.computeToken=
b.computeToken;this.uuidClassifierMap=b.uuidClassifierMap||{};this.endPointName=b.endPointName||null;this.allowedMessages=b.allowedMessages||[];this.ignoreMessageTypes=b.ignoreMessageTypes||[];this.sendMessage=b.sendMessage},addRequestMessage:function(b,f,e){if(f){var a=c.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[b]||(this.requestMessages[b]=[]);g.isArray(f)?f.forEach(function(a){this.addRequestMessage(b,a,e)},this):a?(f.uuid=f.uuid||this._generateUuid(),e&&(this.uuidClassifierMap[f.uuid]=
e),this.requestMessages[b].push(f)):this.requestMessages[b]=f;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(b){var c={};this.getRequestMessageTypes().forEach(function(e){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(e))c[e]=b[e]},this);return c},getResponseMessageTypes:function(){var b,c=[];for(b in this.responseMessages)this.responseMessages.hasOwnProperty(b)&&c.push(b);return c},getRequestMessageTypes:function(){var b,c=[];for(b in this.requestMessages)this.requestMessages.hasOwnProperty(b)&&
c.push(b);return c},getMessageClassifier:function(b){return b&&b.uuid&&this.uuidClassifierMap.hasOwnProperty(b.uuid)?this.uuidClassifierMap[b.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=new k,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(b,
c){if(-1<this.getRequestMessageTypes().indexOf(b))if(c)for(var e in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(e)&&(c&&this.uuidClassifierMap[e]===c)&&this.ignoreMessageTypes.push(b+":"+c);else this.ignoreMessageTypes.push(b)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var c in this.requestMessages)this.requestMessages.hasOwnProperty(c)&&g.isArray(this.requestMessages[c])&&0===b.getArrayLength(this.requestMessages[c])&&delete this.requestMessages[c]},
_isEmpty:function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0},_generateUuid:function(){return b.generateUuid()}})})},"MW/utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window"],function(l,k){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(g){var c=16*Math.random()|0;return("x"===g?c:c&3|8).toString(16)}).toUpperCase()},isImageData:function(g){return!!g&&(k.global.ImageData&&g instanceof k.global.ImageData||g.hasOwnProperty("width")&&g.hasOwnProperty("height")&&
g.hasOwnProperty("data"))},getArrayLength:function(g){var c=0;if(!l.isArray(g))return!1;g.forEach(function(b){b&&(c+=1)});return c},isWhitespace:function(g){return/^\s+$/.test(g)},removeSurroundingNewLines:function(g){for(;"\n"===g.charAt(0);)g=g.substring(1);for(;"\n"===g.charAt(g.length-1);)g=g.substring(0,g.length-1);return g},getFirstUniqueElement:function(g,c){var b=null;c.some(function(c){if(-1===g.indexOf(c))return b=c,!0});return b},unionOfWordSets:function(g,c,b){g=this._stringToArray(g);
c=this._stringToArray(c);g=this.unionOfArrays(g,c);return b?g.join(" "):g},intersectionOfWordSets:function(g,c,b){g=this._stringToArray(g);c=this._stringToArray(c);g=this.intersectionOfArrays(g,c);return b?g.join(" "):g},differenceOfWordSets:function(g,c,b){g=this._stringToArray(g);c=this._stringToArray(c);g=this.differenceOfArrays(g,c);return b?g.join(" "):g},unionOfArrays:function(g,c){return this.unique(g.concat(c))},intersectionOfArrays:function(g,c){return this.nonunique(g.concat(c))},differenceOfArrays:function(g,
c){return this.unique(g.filter(function(b){return-1===c.indexOf(b)}))},unique:function(g){return g.filter(function(c,b){return g.indexOf(c)===b})},nonunique:function(g){return this.unique(g.filter(function(c,b){return g.indexOf(c)!==b}))},removeEmptyElements:function(g){return g.filter(function(c){return!(""===c||null===c||void 0===c)})},_stringToArray:function(g){return!this._isString(g)?g:this.removeEmptyElements(g.split(" "))},_isString:function(g){return"string"===typeof g||g instanceof String}}})},
"MW/remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","MW/remote/RemoteEndPointsManager"],function(l,k,g,c){return k([],{constructor:function(b){b=b||{};this.faultHandlers=b.faultHandlers||{};this.topLevelHandlers=b.topLevelHandlers||[];this.endPointLevelHandlers=b.endPointLevelHandlers||{}},registerFaultHandler:function(b,c,f){f&&(c=g.hitch(f,c));this.faultHandlers[b]=c},deregisterFaultHandler:function(b){delete this.faultHandlers[b]},registerTopLevelFaultHandler:function(b,
c,f){f&&(c=g.hitch(f,c));if(g.isString(b)){if("*"===b)return b={matcher:b,handler:c},this.defaultTopLevelHandler=c,b;b=this._constructMatcherFromQuery(b)}b={matcher:b,handler:c};this.topLevelHandlers.push(b);return b},registerEndpointLevelFaultHandler:function(b,c,f,e){e&&(f=g.hitch(e,f));g.isString(c)&&(c=this._constructMatcherFromQuery(c));c={matcher:c,handler:f};this.endPointLevelHandlers[b]||(this.endPointLevelHandlers[b]=[]);this.endPointLevelHandlers[b].push(c);return c},deregisterTopLevelFaultHandler:function(b){var c=
this.topLevelHandlers.indexOf(b);-1<c?this.topLevelHandlers.splice(c,1):"*"===b.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(b){var c=[];b.split("||").forEach(function(b){b=g.trim(b);b=b.replace(/([\.])/g,"\\$1");b=b.replace(/\*/g,".*");c.push(RegExp("^"+b+"$"))});return function(b){return l.some(c,function(c){return c.test(b.faultCode||b.code||"")})}},handleFault:function(b){var c,f=function(a,c){var d;if(d=b.getMessageClassifier(c))if(d=[a,d].join(":"),this.faultHandlers[d])this.faultHandlers[d](b.fault,
b.context)};for(c in b.requestMessages)if(b.requestMessages.hasOwnProperty(c)){if(this.faultHandlers[c])this.faultHandlers[c](b.fault,b.context);var e=b.requestMessages[c];e instanceof Array&&e.forEach(g.hitch(this,f,c))}if(this.faultHandlers["*"])this.faultHandlers["*"](b.fault,b.context);this.endPointLevelHandlers[b.endPointName]?this._handleEndpointLevelFault(b):this._handleTopLevelFault(b)},_handleEndpointLevelFault:function(b){var c=!1,f=l.filter(this.endPointLevelHandlers[b.endPointName],function(c){return c.matcher.call(this,
b.fault,b.context)},this);0<f.length&&f[0].handler&&(c=!0,f[0].handler.call(this,b.fault,b.context,b));return c},_handleTopLevelFault:function(b){var c=l.filter(this.topLevelHandlers,function(c){return c.matcher.call(this,b.fault,b.context)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&c.call(this,b.fault,b.context,b)},handleNonTransactionFault:function(b){var c=l.filter(this.topLevelHandlers,function(c){return c.matcher.call(this,b)},this);(c=0<c.length?c[0].handler:this.defaultTopLevelHandler)&&
c.call(this,b)}})})},"MW/remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang MW/remote/RemoteEndPointsManager MW/remote/defaultMessageMapping ./Transaction".split(" "),function(l,k,g,c,b,d,f){return k([],{defaultMapping:d,constructor:function(b){b=b||{};this.defaultFactories=b.defaultFactories||{};this.mockHandlers=b.mockHandlers||{};this.mapping=b.mapping||this.defaultMapping;this.responseManager=b.responseManager},registerDefaultMessageFactory:function(b,
a,d){d&&(a=c.hitch(d,a));this.defaultFactories[b]=a},deregisterDefaultMessageFactory:function(b){delete this.defaultFactories[b]},registerMockResponseGenerator:function(b,a,d){var k=this;a=c.hitch(d||this,a);this.mockHandlers[b]=function(b,c){var d,e=f.construct(c);d=a(b,e);d||(d=new g,d.callback());d.addCallback(function(){k.responseManager._processResult(e)})}},deregisterMockResponseGenerator:function(b){delete this.mockHandlers[b]},sendMessage:function(b,a,c){var d={},f={};a=a||{};this._createAndFillTransactions(b,
a,c,d,f);b=Object.keys(d);for(a=0;a<b.length;a+=1)c=b[a],this._callMocks(f[c]),d[c].send(),this.responseManager.handleTransaction(d[c])},_getTransaction:function(b,a){return f.construct({context:a,computeToken:this.computeToken,endPointName:b})},_getMockTransaction:function(b,a,c){return f.construct({context:a,computeToken:this.computeToken,endPointName:b,uuid:c})},_createAndFillTransactions:function(c,a,d,f,g){var k,l,p=function(c){var d,e,h,k,l;d=b.getEndPointForMessageType(c);k=f[d];l=g[d];k||
(k=this._getTransaction(d,a),l=this._getMockTransaction(d,a,k.uuid),f[d]=k,g[d]=l);if(this.defaultFactories[c]&&(d=this.defaultFactories[c](k.context)))e=c.split(":"),h=e[0],e=e.slice(1,e.length).join(":"),this.mockHandlers[c]||k.addRequestMessage(h,d,e),l.addRequestMessage(h,d,e)},q,t;for(k in c)c.hasOwnProperty(k)&&(l=b.getEndPointForMessageType(k),q=g[l],t=f[l],f[l]||(t=this._getTransaction(l,a),q=this._getMockTransaction(l,a,t.uuid),f[l]=t,g[l]=q),l=[k,d].join(":"),!this.mockHandlers[k]&&!this.mockHandlers[l]&&
t.addRequestMessage(k,c[k],d),q.addRequestMessage(k,c[k],d),this.mapping[l]?this.mapping[l].forEach(p,this):this.mapping[k]&&this.mapping[k].forEach(p,this))},_callMocks:function(b){var a,d,f=b.context;delete b.context;var g=function(b,c){var d;if(d=a.getMessageClassifier(c))if(d=[b,d].join(":"),this.mockHandlers[d])this.mockHandlers[d]([c],a)};for(d in b.requestMessages)if(b.requestMessages.hasOwnProperty(d)){a=c.mixin({},b);a.context=f;if(this.mockHandlers.hasOwnProperty(d))this.mockHandlers[d](a.requestMessages[d],
a);a.requestMessages[d]instanceof Array?a.requestMessages[d].forEach(c.hitch(this,g,d)):g(d,a.requestMessages[d])}if(this.mockHandlers["*"])this.mockHandlers["*"](d,a.requestMessages[d],a)}})})},"MW/remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],
"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},
"MW/remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang MW/Log MW/remote/RemoteEndPointsManager".split(" "),function(l,k,g,c,b,d,f){return k([],{constructor:function(b){b=b||{};this.responseHandlers=b.responseHandlers||{};this.faultManager=b.faultManager;this.transactions=b.transactions||[]},registerResponseHandler:function(c,a,d){d&&(a=b.hitch(d,a));this.responseHandlers[c]=a},deregisterResponseHandler:function(b){delete this.responseHandlers[b]},
handleTransaction:function(c){this.transactions.push(c);c.deferred.addCallback(b.hitch(this,this._processAll,c));c.deferred.addCallback(b.hitch(this,this._processResult,c));c.deferred.addErrback(b.hitch(this,this._processAll,c));c.deferred.addErrback(b.hitch(this,this._processFault,c))},_processAll:function(b){b=this.transactions.indexOf(b);0<=b&&this.transactions.splice(b,1)},_processResult:function(b){b.getResponseMessageTypes().forEach(function(a){var f=b.responseMessages[a],g=[];try{if(f instanceof
Array){f.forEach(function(c){var d,f=b.getMessageClassifier(c);if(f){d=[a,f].join(":");var h=this,k=!1;b.getRequestMessageTypes().forEach(function(a){var g=b.requestMessages[a];g instanceof Array?g.forEach(function(g){h.responseHandlers[d]&&(h._shouldHandle(b,a,f)&&g.uuid===c.uuid)&&(h.responseHandlers[d]([c],b.context),k=!0)}):h.responseHandlers[d]&&(h._shouldHandle(b,a,f)&&g.uuid===c.uuid)&&(h.responseHandlers[d]([c],b.context),k=!0)});k||g.push(c)}else g.push(c)},this);if(0<g.length&&this.responseHandlers[a]&&
this._shouldHandle(b,a))this.responseHandlers[a](g,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](a,b.responseMessages[a],b.context)}}catch(k){d.error("Remote: Fault occurred while processing response.\nMessage: "+k.message+"\nType: "+a+"\nResponse: "+c.toJson(f))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(b){if(!f.isEndpointMessageContainerBased(b.endPointName)){var a=Object.keys(b.requestMessages)[0];if(this.responseHandlers[a]&&
this._shouldHandle(b,a,""))this.responseHandlers[a](b.responseMessages)}},_processFault:function(b){this.faultManager.handleFault(b)},_shouldHandle:function(b,a,c){return this._shouldIgnoreMessageType(b,a,c)?!1:this.transactions&&l.every(this.transactions,function(d){var f,g;if(c)for(f in d.uuidClassifierMap){if(d.uuidClassifierMap.hasOwnProperty(f)&&c&&d.uuidClassifierMap[f]===c){g=!0;break}}else g=d.requestMessages[a]?l.every(d.requestMessages[a],function(a){return!d.uuidClassifierMap[a.uuid]}):
!0;(f=!(d.requestMessages[a]&&g&&d.startTime>b.startTime))&&d.addIgnoreMessageType(a,c);return f},this)},_shouldIgnoreMessageType:function(b,a,c){return-1!==b.ignoreMessageTypes.indexOf(c?a+":"+c:a)}})})},"MW/remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(l,k){var g=!1,c={_serviceData:{},getServiceRegistryEndpoint:function(b){if(c._serviceData.serviceregistry){var d,f;d=c._serviceData.serviceregistry.length;for(f=0;f<d;f+=1)if(c._serviceData.serviceregistry[f].name===
b)return c._serviceData.serviceregistry[f].endpoint}return""}};return{load:function(b,d,f){g?f(c):l("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!d.async}).then(function(b){c._serviceData=b;g=!0;f(c)},function(b){c._serviceData={};g=!0;f(c)})}}})},"MW/utils/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","MW/Log","./Trigger"],function(l,k,g,c){return l(c,{constructor:function(){var b=this.name.split(" ");(2>
b.length||"timeout"!==b[0])&&g.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(b[1]);this.handlerType=b[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(k.hitch(null,this.triggerHandler,this.name),1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"MW/utils/statemachineimpl/Transition":function(){define(["dojo/_base/declare",
"dojo/_base/lang","MW/Log"],function(l,k,g){return l([],{constructor:function(c){this.state={};this.target="";this.action=this.condition=null;l.safeMixin(this,c)},handleTrigger:function(c,b){var d="";this.checkCondition(c,b)&&(this.runAction(c,b),d=this.getTarget(c,this.target,b));return d},checkCondition:function(c,b){return!this.condition?!0:k.hitch(this.state.context,this.condition).apply(null,[c,this.state.data].concat(b))},runAction:function(c,b){var d;this.action&&(d=k.hitch(this.state.context,
this.action),d.apply(null,[c,this.state.data].concat(b)))},getTarget:function(c,b,d){var f,e,a;if(k.isString(b))e=b;else if(k.isFunction(b))b=k.hitch(this.state.context,b),e=b.apply(null,[c,this.state.data].concat(d));else if(k.isArray(b))for(f=0;f<b.length;f+=1){e=this.getTarget(c,b[f],d);if(k.isString(e)){e={target:e};k.mixin(e,a);break}if(e&&e.target){k.mixin(e,a);break}a=e||{}}else g.warn("Transition: improper target: ",b);return e}})})},"MW/remote/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all MW/utils/StateMachine MW/Log".split(" "),
function(l,k,g,c,b,d,f){return l([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting","timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,
_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],"timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting","timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,
_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(b){if(this._delegate!==b){this._delegate=b;var a=this;g.after(b,"onConnectionError",function(){f.warn("MessageService received connection error, reconnecting");a._reconnect()},
!0);this._states=new d(this._stateOptions);g.after(this._states,"onEnterState",k.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===
this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(b){var a=this._currentState;this._currentState=b;this.logStateChanges&&f.info("MessageService state change: "+a+" -\x3e "+b);if("connected"===a)this.onNotConnected();if("connected"===b&&this._previouslyConnected)this.onReconnected();else if("connected"===b&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=
!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;f.info("Reconnecting message service. Attempt "+this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&
f.info("MessageService timeout:",arguments)},_retryFailure:function(){var b;this._retryCount>=this._MAX_RETRIES&&(f.error("Message service fatally disconnected."),b="fatallyDisconnected");return b},_enterResubscribing:function(){function c(a){f.push(this._delegate.doSubscribe(a.channel))}var a,d,f=[];this._delegate.doStartBatch();for(a in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(a)&&(d=this.channelSubscriptions[a],d.forEach(c,this));this._delegate.doEndBatch();b(f).then(this._resubscribeSuccess,
this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&f.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},
_disconnectFailure:function(){}})})},"MW/remote/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","MW/Log"],function(l,k,g){return l([],{pollDelay:50,constructor:function(c,b){this.remote=c;this.messageService=b;this.pending=0;c.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);c.registerResponseHandler("OpaqueMessageResponse",function(c){this.pending-=1;c.forEach(function(c){try{c.opaqueMessageDOs&&
c.opaqueMessageDOs.forEach(b.handleMessage,b)}catch(d){g.error("Error while handling message: "+d)}});this.poll()},this)},onMessage:function(c){},onConnectionError:function(c){},connect:function(){this.enabled=!0;this.poll();return(new k).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new k).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var c=this;this.timeout=setTimeout(function(){c.pending+=
1;c.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});c.timeout=null},this.pollDelay)}},doPublish:function(c,b){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:c,data:b}]}})},doSubscribe:function(c){},doUnsubscribe:function(c){},doStartBatch:function(){},doEndBatch:function(){}})})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:mw-colorpicker/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline mwDisableSelection"\n    \x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"${baseClass}Title"\x3e${!title}\x3c/span\n    \x3e\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0"\n        \x3e\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',"url:mw-colorpicker/templates/ColorPaletteSwatch.html":'\x3cdiv class\x3d"dijitInline mwPaletteDiv"\n    \x3e\x3cdiv title\x3d"${title}" class\x3d"mwColorPaletteSwatch" style\x3d"background-color: ${color}" data-test-id\x3d"${color}"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-colorpicker/templates/ColorSpinner.html":'\x3cdiv class\x3d"mwDisableSelection"\n    \x3e\x3ctable\n        \x3e\x3ctr\n            \x3e\x3ctd colspan\x3d"3"\n            \x3e\x3cdiv data-dojo-type\x3d"mw-colorpicker/ToggleButtonGroup" data-dojo-attach-point\x3d"toggleButton" data-dojo-props\x3d"buttonText:[\'1\', \'2\', \'3\']"\x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Double" data-dojo-attach-point\x3d"doubleSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redDoubleSpinner" data-dojo-attach-point\x3d"redDoubleSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenDoubleSpinner" data-dojo-attach-point\x3d"greenDoubleSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueDoubleSpinner" data-dojo-attach-point\x3d"blueDoubleSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Int"  data-dojo-attach-point\x3d"intSpinners"\n            \x3e\x3ctd\x3e${_redTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"redIntSpinner" data-dojo-attach-point\x3d"redIntSpinner" class\x3d"${baseClass}Red"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_greenTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"greenIntSpinner" data-dojo-attach-point\x3d"greenIntSpinner" class\x3d"${baseClass}Green"\x3e\x3c/div\x3e\x3c/td\n            \x3e\x3ctd\x3e${_blueTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" data-test-id\x3d"blueIntSpinner" data-dojo-attach-point\x3d"blueIntSpinner" class\x3d"${baseClass}Blue"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n        \x3e\x3ctr class\x3d"${baseClass}Hex" data-dojo-attach-point\x3d"hexSpinners"\n            \x3e\x3ctd colspan\x3d"3"\x3e${_hexTitle}\x3cbr/\x3e\x3cdiv data-dojo-type\x3d"dijit/form/ValidationTextBox" data-test-id\x3d"hexSpinner" data-dojo-attach-point\x3d"hexSpinner" class\x3d"${baseClass}HexSpinner"\x3e\x3c/div\x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n\x3e\x3c/div\x3e',
"url:mw-colorpicker/templates/ColorPicker.html":'\x3cdiv class\x3d"mwDisableSelection" data-test-id\x3d"mwColorPicker"\n    \x3e\x3cdiv class\x3d"${baseClass}Palette" data-dojo-type\x3d"mw-colorpicker/ColorPalette" data-dojo-attach-point\x3d"paletteNode" data-test-id\x3d"palette" data-dojo-props\x3d"palette: ${_parsedStandardColors}"\x3e\x3c/div\n    \x3e\x3ctable class\x3d"${baseClass}Middle"\n        \x3e\x3ctr\n            \x3e\x3ctd class\x3d"${baseClass}Recent" data-dojo-attach-point\x3d"recentColorsNode" data-test-id\x3d"recentColors"\x3e\x3c/td\n            \x3e\x3ctd\n                \x3e\x3cdiv data-dojo-attach-point\x3d"previewNode" class\x3d"${baseClass}Preview"\n                    \x3e\x3cspan data-dojo-attach-point\x3d"previewTitleNode"\x3e${_previewTitle}\x3c/span\n                    \x3e\x3cdiv class\x3d"${baseClass}PreviewColor" data-dojo-attach-point\x3d"previewColorNode" data-test-id\x3d"previewColor"\x3e\x3c/div\n                \x3e\x3c/div\n            \x3e\x3c/td\n        \x3e\x3c/tr\n    \x3e\x3c/table\n    \x3e\x3cdiv class\x3d"${baseClass}Spinner" data-dojo-type\x3d"mw-colorpicker/ColorSpinner" data-dojo-attach-point\x3d"spinnerNode" data-test-id\x3d"spinner"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-colorpicker/templates/ColorPickerWithOkCancel.html":'\x3cdiv class\x3d"mwDisableSelection"\x3e\n    \x3cdiv data-dojo-type\x3d"mw-colorpicker/ColorPicker" data-dojo-attach-point\x3d"pickerNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}Buttons"\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"okNode" data-test-id\x3d"cpOkButton"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"cancelNode" data-test-id\x3d"cpCancelButton"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"*now":function(l){l(['dojo/i18n!*preload*uisetcolor/nls/uisetcolor*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("uisetcolor/uisetcolor",[],1);
//# sourceMappingURL=uisetcolor.js.map