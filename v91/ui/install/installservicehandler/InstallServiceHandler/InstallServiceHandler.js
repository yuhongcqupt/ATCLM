/** Copyright 2015 The MathWorks, Inc. */
//>>built
require({cache:{"dojo/request":function(){define(["./request/default!"],function(b){return b})},"dojo/request/default":function(){define(["exports","require","../has"],function(b,g,a){var d=a("config-requestProvider");d||(d="./xhr");b.getPlatformDefaultId=function(){return"./xhr"};b.load=function(a,b,f,c){g(["platform"==a?"./xhr":d],function(c){f(c)})}})}}});
define("InstallServiceHandler/InstallServiceHandler",["dojo/_base/declare","dojo/request"],function(b,g){return b(null,{_DESTINATION:window.location.protocol+"//"+window.location.host+"/messageservice/json/secure",_generateUUID:function(){var a=performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var b=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===d?b:b&3|8).toString(16)})},executeService:function(a,d,b){var h=this,f=this._generateUUID();return g.post(this._DESTINATION,
{data:'{"uuid":"'+f+'","messages":'+a+',"computeToken":{"computeSessionId":"testSession","servicerUrl":"unset"}}',handleAs:"json"}).then(function(c){var a=void 0;if(void 0===c.messages)throw h._getException("INVALID_RESPONSE");if(void 0!==c.faults&&0<c.faults.length)void 0!==b&&b(c.faults);else{if(c.uuid!==f)throw h._getException("UUID",{expected:f,actual:c.uuid});var e=Object.keys(c.messages)[0],e=c.messages[e][0].messageFaults;if(void 0!==e&&0<e.length)if(void 0!==b)b(e);else throw{name:"NoErrorCallbackDefined",
message:JSON.stringify(e),rootCause:e};else void 0!==d?(a=d(c.messages),void 0===a&&(a=c.messages)):a=c.messages}return a},function(c){var a={};a.responsePayload=JSON.parse(c.response.options.data).messages;a.status=c.response.xhr.status;a.statusText=c.response.xhr.statusText;throw h._getException("COMM_ERROR",{cause:a});})},_getException:function(a,b){switch(a){case "UUID":return{name:"MismatchedUuidError",message:"Mismatched UUID in response.\nExpected: '"+b.expected+"'\nReceived: '"+b.actual+"'"};
case "INVALID_RESPONSE":return{name:"InvalidServerResponseError",message:"There was no messages member in the response object."};case "COMM_ERROR":return{name:"NetworkCommunicationError",message:"There was an error communicating with the backend services",rootCause:JSON.stringify(b.cause)}}return{name:"UnexpectedError",message:"An unknown error has happened.  There is no information about a cause."}}})});
//# sourceMappingURL=InstallServiceHandler.js.map